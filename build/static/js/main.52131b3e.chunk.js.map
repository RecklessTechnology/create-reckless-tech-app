{"version":3,"sources":["@RecklessCore/App/Contexts/useAppContext.js","@RecklessCore/ThreeObjects/Contexts/useThreeObjectsContext.js","@RecklessCore/EditorMenu/Managers/EditorMenuManager.js","@RecklessCore/EditorMenu/Contexts/useEditorMenuContext.js","@RecklessCore/InspectorMenu/Managers/InspectorMenuManager.js","@RecklessCore/InspectorMenu/Contexts/useInspectorMenuContext.js","@RecklessCore/Peers/Managers/PeersManager.js","@RecklessCore/Peers/Contexts/usePeersContext.js","@RecklessCore/Utils/generateRoomId.js","@RecklessCore/Utils/PersistantStorage.js","@RecklessCore/Connections/Managers/ConnectionsManager.js","@RecklessCore/Connections/Contexts/useConnectionsContext.js","@RecklessCore/Room/Render/RoomName/view.js","@RecklessCore/Room/Render/RoomName/index.js","@RecklessCore/Room/Render/RoomQR/view.js","@RecklessCore/Room/Render/RoomQR/index.js","@RecklessCore/Components/Buttons/IconButton/view.js","@RecklessCore/Room/Render/RoomRefreshIdButton/view.js","@RecklessCore/Room/Render/RoomRefreshIdButton/index.js","@RecklessCore/Room/Render/RoomCopyUrlButton/view.js","@RecklessCore/Room/Render/RoomCopyUrlButton/index.js","@RecklessCore/Room/Render/RoomOpenUrlButton/view.js","@RecklessCore/Room/Render/RoomOpenUrlButton/index.js","@RecklessCore/Room/Render/RoomInfo/index.js","@RecklessCore/Room/Render/RoomMenu/index.js","@RecklessCore/Peers/Render/EditPeerNameButton/view.js","@RecklessCore/Peers/Render/EditPeerNameButton/index.js","@RecklessCore/Peers/Render/PeerAvatar/index.js","@RecklessCore/Peers/Render/PeerName/view.js","@RecklessCore/Peers/Render/PeerName/edit.js","@RecklessCore/Peers/Render/PeerName/index.js","@RecklessCore/Peers/Render/PeerToolbar/index.js","@RecklessCore/Peers/Render/HostInfo/index.js","@RecklessCore/Peers/Render/MeInfo/index.js","@RecklessCore/Peers/Render/ShareScenePeerButton/view.js","@RecklessCore/Peers/Render/ShareScenePeerButton/index.js","@RecklessCore/Peers/Render/PeerInfo/index.js","@RecklessCore/Peers/Render/PeersList/index.js","@RecklessCore/Peers/Render/PeersInfo/index.js","@RecklessCore/Peers/Render/PeersMenu/index.js","@RecklessCore/InspectorMenu/Render/InspectorCloseButton/view.js","@RecklessCore/InspectorMenu/Render/InspectorCloseButton/index.js","@RecklessCore/InspectorMenu/Render/InspectorToolbar/view.js","@RecklessCore/InspectorMenu/Render/InspectorToolbar/index.js","@RecklessCore/InspectorMenu/Render/HelpMenu/index.js","@RecklessCore/InspectorMenu/Render/view.js","@RecklessCore/InspectorMenu/Render/index.js","@RecklessCore/Utils/toFlow.js","@RecklessCore/Utils/iconLookup.js","@RecklessCore/Components/Patches/PatchDetails/index.js","@RecklessCore/Components/Patches/OutputHandle/index.js","@RecklessCore/Components/Patches/InputHandle/index.js","@RecklessCore/Components/Patches/PropAccordian/view.js","@RecklessCore/Components/Patches/ParentChildProp/index.js","@RecklessCore/Components/Patches/PatchRoot/index.js","@RecklessCore/Scenes/Patch/index.js","@RecklessCore/Components/Patches/PropListItem/view.js","@RecklessCore/Components/Patches/PropListItem/index.js","@RecklessCore/Components/Patches/PatchValue/view.js","@RecklessCore/ThreeObjects/Patch/PatchValue/index.js","@RecklessCore/Components/Patches/PatchToolbar/view.js","@RecklessCore/ThreeObjects/Patch/PatchToolbar/index.js","@RecklessCore/ThreeObjects/Patch/index.js","@RecklessCore/Devices/Patch/PatchToolbar/index.js","@RecklessCore/Devices/Managers/DevicesManager.js","@RecklessCore/Devices/Contexts/useDevicesContext.js","@RecklessCore/Devices/Patch/PatchValue/index.js","@RecklessCore/Devices/Patch/Mouse/index.js","@RecklessCore/Components/Inputs/Select/index.jsx","@RecklessCore/Devices/Patch/Camera/Settings/view.js","@RecklessCore/Devices/Patch/Camera/Settings/index.js","@RecklessCore/Devices/Patch/Camera/index.js","@RecklessCore/Devices/Patch/index.js","@RecklessCore/Transforms/Managers/TransformsManager.js","@RecklessCore/Transforms/Contexts/useTransformsContext.js","@RecklessCore/Transforms/Patch/PatchValue/index.js","@RecklessCore/Transforms/Patch/PatchToolbar/index.js","@RecklessCore/Components/Inputs/SelectWithIcon/index.jsx","@RecklessCore/Transforms/Patch/Settings/view.js","@RecklessCore/Transforms/Patch/Settings/index.js","@RecklessCore/Transforms/Patch/index.js","@RecklessCore/Generators/Managers/GeneratorsManager.js","@RecklessCore/Generators/Contexts/useGeneratorsContext.js","@RecklessCore/Generators/Patch/PatchValue/index.js","@RecklessCore/Shapes/drawSine.js","@RecklessCore/Shapes/drawCircle.js","@RecklessCore/Generators/Patch/ShapePreview/background.js","@RecklessCore/Generators/Patch/ShapePreview/indicator.js","@RecklessCore/Components/Patches/PlaybackToolbar/view.js","@RecklessCore/Generators/Patch/PlaybackToolbar/index.js","@RecklessCore/Generators/Patch/ShapePreview/index.js","@RecklessCore/Generators/Patch/PatchToolbar/index.js","@RecklessCore/Generators/Patch/Settings/view.js","@RecklessCore/Generators/Patch/Settings/index.js","@RecklessCore/Generators/Patch/index.js","@RecklessCore/Peers/Patch/PatchValue/index.js","@RecklessCore/Peers/Patch/PatchToolbar/index.js","@RecklessCore/Peers/Patch/index.js","@RecklessCore/Widgets/Patch/PatchToolbar/index.js","@RecklessCore/Widgets/Patch/PatchValue/index.js","@RecklessCore/Widgets/Patch/Preview/index.js","@RecklessCore/Widgets/Patch/index.js","@RecklessCore/Components/Patches/Edges/CustomEdge.js","@RecklessCore/Components/Patches/Edges/CustomLineageEdge.js","@RecklessCore/EditorMenu/Render/NodeEditor/view.js","@RecklessCore/EditorMenu/Render/NodeEditor/index.js","@RecklessCore/EditorMenu/Render/EditorCloseButton/index.js","@RecklessCore/EditorMenu/Render/SceneDownloadButton/view.js","@RecklessCore/EditorMenu/Render/SceneDownloadButton/index.js","@RecklessCore/EditorMenu/Render/AddToSceneMenu/AddPeersToScene/index.js","@RecklessCore/EditorMenu/Render/AddToSceneCloseButton/view.js","@RecklessCore/EditorMenu/Render/AddToSceneCloseButton/index.js","@RecklessCore/EditorMenu/Render/AddToSceneMenu/AddToSceneToolbar/view.js","@RecklessCore/EditorMenu/Render/AddToSceneMenu/AddToSceneToolbar/index.js","@RecklessCore/EditorMenu/Render/AddToSceneMenu/index.js","@RecklessCore/EditorMenu/Render/EditorToolbar/view.js","@RecklessCore/EditorMenu/Render/EditorToolbar/index.js","@RecklessCore/EditorMenu/Render/view.js","@RecklessCore/EditorMenu/Render/index.js","@RecklessCore/Components/Modals/Welcome/WelcomeCloseButton/index.js","@RecklessCore/Components/Modals/Welcome/WelcomeToolbar/view.js","@RecklessCore/Components/Modals/Welcome/WelcomeToolbar/index.js","@RecklessCore/Components/Modals/Welcome/view.js","@RecklessCore/Components/Modals/Welcome/index.js","@RecklessCore/Widgets/Managers/WidgetsManager.js","@RecklessCore/Widgets/Managers/WidgetManager.js","@RecklessCore/Widgets/Contexts/useWidgetsContext.js","@RecklessCore/Widgets/Render/Preview/VideoPlayer.js","@RecklessCore/Widgets/Render/Preview/view.js","@RecklessCore/Widgets/Contexts/useWidgetContext.js","@RecklessCore/Widgets/Render/Preview/index.js","@RecklessCore/Widgets/Render/view.js","@RecklessCore/Widgets/Render/index.js","@RecklessCore/App/Render/view.js","@RecklessCore/Utils/threeParams.js","@RecklessCore/World/Managers/WorldManager.js","@RecklessCore/Generators/Managers/GeneratorManager.js","@RecklessCore/Generators/Contexts/useGeneratorContext.js","@RecklessCore/Generators/Providers/Orbit/index.js","@RecklessCore/Utils/commonMath.js","@RecklessCore/Generators/Providers/Sinewave/index.js","@RecklessCore/Generators/Providers/view.js","@RecklessCore/Generators/Providers/index.js","@RecklessCore/Peers/Managers/PeerManager.js","@RecklessCore/Peers/Providers/view.js","@RecklessCore/Peers/Providers/index.js","@RecklessCore/Devices/Managers/DeviceManager.js","@RecklessCore/Devices/Contexts/useDeviceContext.js","@RecklessCore/Devices/Providers/Mouse/index.js","@RecklessCore/Devices/Providers/Keyboard/index.js","@RecklessCore/Devices/Providers/Camera/index.js","@RecklessCore/Devices/Providers/view.js","@RecklessCore/Devices/Providers/index.js","@RecklessCore/Transforms/Managers/TransformManager.js","@RecklessCore/Transforms/Providers/Calculator/index.js","@RecklessCore/Transforms/Contexts/useTransformContext.js","@RecklessCore/Transforms/Providers/view.js","@RecklessCore/Transforms/Providers/index.js","@RecklessCore/World/index.js","@RecklessCore/Utils/waitForMs.js","@RecklessCore/Scenes/Managers/SceneManager.js","@RecklessCore/Scenes/Render/index.js","@RecklessCore/Scenes/Contexts/useSceneManagerContext.js","@RecklessCore/App/Render/index.js","index.js","@RecklessCore/Utils/useForceUpdate.js","@RecklessCore/Utils/userCheck.js","@RecklessCore/ThreeObjects/Managers/ThreeObjectsManager.js","@RecklessCore/Events/Managers/EventsManager.js","@RecklessCore/App/Managers/AppManager.js"],"names":["useAppContext","useContext","AppContext","useThreeObjectsContext","ThreeObjectsContext","EditorMenuContext","createContext","EditorMenuManager","children","useState","editorMenuHeight","setEditorMenuHeight","editorMenuOpen","setEditorMenuOpen","editorMenuTab","setEditorMenuTab","editorMenuContextValue","useMemo","Provider","value","useEditorMenuContext","InspectorMenuContext","InspectorMenuManager","inspectorMenuWidth","setInspectorMenuWidth","inspectorMenuOpen","setInspectorMenuOpen","inspectorMenuTab","setInspectorMenuTab","inspectorMenuContextValue","useInspectorMenuContext","PeersContext","peersContextValue","PeersManager","publish","Map","PeerRegistry","findPeer","useCallback","id","get","registerPeer","identifier","ref","oldRef","undefined","delete","newRef","set","unregisterPeer","getPeersArray","Array","from","keys","map","useEffect","forEach","p","moment","diff","lastSeen","peerRegistryUtils","useConnectionsContext","GenerateRoomId","niceware","generatePassphrase","reduce","accumulator","currentValue","persistData","key","data","isHost","localStorage","setItem","JSON","stringify","sessionStorage","restoreData","parse","getItem","ConnectionsContext","connectionsContextValue","ConnectionsManager","subscribe","unsubscribe","setSceneJSON","usePeersContext","connectionType","room","setRoom","roomInfo","setRoomInfo","roomActions","me","ConnectionRegistry","isMounted","useRef","getMe","filter","isMe","getHost","getByUUID","uuid","updateConnectionInfo","oldRefs","has","connectionId","findConnection","registerConnection","unregisterConnection","getConnectionsArray","getRoomInfo","connectionRegistryUtils","info","newId","generateRoomId","url","window","location","href","hash","substr","joinRoom","appId","meRef","status","selfId","uuidv4","name","mode","Date","now","pingMe","getRoomActions","makeAction","sendAnnounce","getAnnounce","sendData","getData","actionsRef","onPeerJoin","connectionRef","ping","connectionJoin","onPeerLeave","peer","type","toLowerCase","setData","payload","host","announceMeChanges","connection","current","useStyles","makeStyles","roomName","marginRight","marginLeft","RoomNameView","roomId","classes","Tooltip","title","Typography","className","variant","whyDidYouRender","process","memo","RoomName","qrCode","width","height","display","position","QRView","size","qrContainer","RoomQR","qrRef","qrSize","setQrSize","offsetWidth","r","updateRoom","ListItemIcon","menuButton","padding","IconButtonView","label","handeClick","props","IconButton","onClick","clsx","iconButton","margin","RoomRefreshIdButtonView","fontSize","RoomRefreshIdButton","RoomCopyUrlButtonView","navigator","clipboard","writeText","then","RoomCopyUrlButton","RoomOpenUrlButtonView","Link","target","rel","RoomOpenUrlButton","sectionTitle","marginTop","RoomInfo","List","dense","ListItem","Grid","spacing","container","item","xs","root","paddingTop","listRoot","RoomMenu","role","EditPeerNameButtonView","peerInfo","EditPeerNameButton","PeerAvatar","ListItemAvatar","Avatar","alt","src","multiline","whiteSpace","overflow","PeerNameView","primary","secondary","ListItemText","onNameUpdate","TextField","onChange","PeerName","theme","toolbarButtons","right","background","palette","paper","PeerToolbar","ListItemSecondaryAction","listItem","list","HostInfo","hostName","setHostName","setHost","h","updateHost","updateName","e","currentTarget","updateHostInfo","val","alignItems","Divider","MeInfo","meName","setMeName","setMe","m","updateMe","updateMeInfo","sceneMenu","left","ShareScenePeerButtonView","meUUID","meConnectionId","sceneJSON","buttonRef","anchorEl","setAnchorEl","open","Boolean","closeMenu","json","dataset","menuValue","testJSON","posenetJSON","timestamp","style","evt","Menu","keepMounted","onClose","MenuItem","ShareScenePeerButton","buttons","PeerInfo","peerName","setPeerName","updateInfo","PeersList","connections","setConnections","updateConnections","length","PeersInfo","PeersMenu","button","InspectorCloseButtonView","InspectorCloseButton","mixins","toolbar","flexGrow","minHeight","tabRoot","minWidth","InspectorToolbarView","handleChange","AppBar","Toolbar","spacer","Tabs","event","newValue","indicatorColor","textColor","scrollButtons","Tab","icon","faHome","faUsers","faQuestion","InspectorToolbar","itemText","color","HelpMenu","drawer","transition","transitions","create","easing","easeOut","duration","enteringScreen","top","zIndex","drawerPaper","drawerHeader","justifyContent","InspectorView","Drawer","anchor","Inspector","dimensionsLookup","typeLookup","makeFlowProps","parents","hidden","hideChildren","isChildHidden","isPatchHidden","userData","isHidden","sceneGraphToFlow","level","nextLevel","c","flat","rtSceneToFlow","rtScene","widgets","widgetsToFlow","peers","peersToFlow","devices","devicesToFlow","generators","generatorsToFlow","transforms","transformsToFlow","source","sourceHandle","fromProp","to","targetHandle","toProp","animated","connectionsToFlow","object","getIconByType","includes","faLayerGroup","faWaveSquare","faMouse","faCube","faCalculator","faKeyboard","faVideo","faPlus","faMinus","faTimes","faDivide","faThLarge","propItem","propIcon","propText","PatchDetails","handle","handleLeft","float","borderLeft","borderTopLeftRadius","borderBottomLeftRadius","handleRight","borderRight","borderTopRightRadius","borderBottomRightRadius","OutputHandle","propName","isValidConnection","console","log","onConnect","params","InputHandle","propAccord","marginBottom","boxShadow","borderRadius","propSummary","propSummaryContent","propSummaryExapand","propDetails","paddingBottom","PropAccordianView","header","expandIcon","defaultOpen","showDetails","setShowDetails","Accordion","expanded","AccordionSummary","content","AccordionDetails","oveflow","borderBottom","propGrid","textAlign","textTransform","propAccordList","bottom","handleGridLeft","paddingLeft","handleGridRight","paddingRight","childList","childListItem","secondRoot","childListIcon","lightIcon","ParentChildProp","hidePatch","flip","faSignOutAlt","backgroundColor","border","PatchRoot","ScenePatch","hideThreeObjPatch","PropListItemView","disableInput","disableOutput","PropListItem","PatchValueView","isArray","v","toFixed","active","PatchValue","threeObj","findThreeObject","propVal","setPropVal","updateProp","appbar","group","gridItem","PatchToolbarView","removeObj","faSignInAlt","Button","faTrashAlt","PatchToolbar","removeThreeObj","ThreeObjectPatch","patchProps","removeDevice","DevicesContext","devicesContextValue","DevicesManager","DeviceRegistry","deviceRegistryUtils","findDevice","registerDevice","unregisterDevice","getDevicesArray","useDevicesContext","deviceObj","MousePatch","selectRoot","menuItemRoot","RecklessSelect","Select","renderValue","d","selectListRoot","iconRoot","CameraSettingsView","setValue","CameraSettings","setList","selected","setSelected","updateSelected","updateList","selectedDevice","deviceList","setSelectedDevice","CameraPatch","DevicePatch","Mouse","Camera","TransformsContext","transformsContextValue","TransformsManager","TransformRegistry","findTransform","transformRegistryUtils","registerTransform","unregisterTransform","getTransformsArray","useTransformsContext","transformObj","removeTransform","RecklessSelectWithIcon","TransformSettingsView","parseInt","TransformSettings","defaultVal","setVal","updateValue","replace","toUpperCase","TransformPatch","GeneratorsContext","generatorsContextValue","GeneratorsManager","GeneratorRegistry","generatorRegistryUtils","findGenerator","registerGenerator","unregisterGenerator","getGeneratorsArray","useGeneratorsContext","generatorObj","DrawSine","resolution","points","i","push","Math","sin","PI","DrawCircle","cos","canvasContainer","parentSize","ShapePreviewBackground","shape","shapeDimensions","setShapeDimensions","context","setContext","canvasRef","finalShape","setFinalShape","min","max","getContext","s","ctx","lineWidth","strokeStyle","moveTo","lineTo","stroke","ind","finalVal","ShapePreviewIndicator","setFinalVal","buttonLoop","buttonLabel","PlaybackToolbarView","paused","setPause","looped","setLoop","PlaybackToolbar","isPaused","setIsPaused","isLooped","setIsLooped","updatePause","updateLoop","shapeContainer","ShapePreview","generator","setGenerator","updateGenerator","setShape","shapeRef","containerSize","setContainerSize","offsetHeight","removeGenerator","GeneratorSettingsView","rpm","setRPM","GeneratorSettings","rpms","setRPMs","res","setRes","updateRPM","updateRes","setResolution","setRpm","Generator","peerObj","removePeer","PeerPatch","setPeer","setPatchProps","removeWidget","PreviewPatch","WidgetPatch","Preview","deleteEdgeButton","foreignObject","opacity","foreignObjectShow","CustomEdge","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition","removeConnection","showDelete","setShowDelete","edgePath","getSmoothStepPath","getEdgeCenter","edgeCenterX","edgeCenterY","onMouseOver","onMouseOut","markerWidth","markerHeight","viewBox","orient","refX","refY","strokeLinecap","strokeLinejoin","strokeWidth","fill","cx","cy","markerEnd","x","foreignObjectSize","y","requiredExtensions","CustomLineageEdge","removeFromParent","getBezierPath","onLoad","NodeEditorView","elements","nodeTypes","edgeTypes","updateConnection","addConnection","dagreGraph","dagre","graphlib","Graph","setDefaultEdgeLabel","elems","layoutedElements","el","setGraph","rankdir","align","nodesep","edgesep","ranksep","marginx","marginy","isNode","setNode","setEdge","layout","newProps","nodeWithPosition","node","nodeWidth","random","nodeHeight","snapToGrid","onEdgeUpdate","NodeEditor","setElements","Scene","ThreeObject","device","Device","transform","Transform","Peer","widget","Widget","custom","customLineage","EditorCloseButton","SceneDownloadButttonView","link","document","createElement","download","encodeURIComponent","click","SceneDownloadButtton","AddPeersToScene","addPeer","ListSubheader","disabled","AddToSceneCloseButtonView","handleClose","AddToSceneCloseButton","AddToSceneToolbarView","faSquareRootAlt","AddToSceneToolbar","itemList","tabPanel","TabPanel","index","Box","AddToSceneMenu","React","addThreeObj","addGenerator","addDevice","addTransform","addObject","menu","anchorOrigin","vertical","horizontal","transformOrigin","EditorToolbarView","EditorToolbar","EditorView","Editor","WelcomeCloseButton","WelcomeToolbarView","WelcomeToolbar","WelcomeModalView","Paper","modal","Fade","forwardRef","in","onEnter","onExited","other","useSpring","onStart","onRest","div","WelcomeModal","setOpen","Modal","disableEnforceFocus","disableAutoFocus","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","WidgetsContext","widgetsContextValue","WidgetsManager","WidgetRegistry","widgetRegistryUtils","findWidget","registerWidget","unregisterWidget","getWidgetsArray","WidgetContext","DefaultProps","WidgetManager","Symbol","setType","previewStream","setPreviewStream","updateFromInput","prop","forceUpdate","useForceUpdate","widgetRef","getRef","contextValue","nodeRef","VideoPlayer","stream","videoRef","createRef","srcObject","autoPlay","playsInline","muted","split","CameraPreview","setStream","Card","CardActionArea","CardContent","component","PreviewWidget","WidgetsView","pointerEvents","Widgets","preventDefault","rootShiftBottom","appBar","sharp","leavingScreen","appBarShiftLeft","appBarShiftRight","renderArea","renderAreaShiftLeft","renderAreaShiftRight","bottomAppBar","bottomToolbar","editorButton","inspectorButton","AppView","Welcome","ThreeParamsToArgs","filteredProps","propKeys","Object","THREE","obj","ThreeUsedProps","parameters","param","getHexString","WorldContext","worldContextValue","WorldManager","appContextValue","threeObjectsContextValue","GeneratorContext","GeneratorManager","setLooped","setPaused","setPosition","generatorRef","useGeneratorContext","OrbitGenerator","setGenPosition","animMili","toPoints","pos","result","config","pause","loop","friction","api","stop","start","rpmToMili","SinewaveGenerator","setAnimMili","propTypes","PropTypes","string","isRequired","GeneratorsView","Orbit","Sinewave","Generators","gen","PeerContext","PeerManager","setConnection","peerRef","PeerView","Peers","DeviceContext","DeviceManager","passedUUID","passedName","passedType","passedPosition","passedActive","passedDeviceList","passedSelectedDevice","mediaStream","setMediaStream","setActive","setDeviceList","deviceId","deviceRef","useDeviceContext","MouseDevice","updateMousePosition","ev","clientX","clientY","addEventListener","removeEventListener","KeyboardDevice","CameraDevice","initCamera","a","mediaDevices","getUserMedia","getCameras","enumerateDevices","kind","catch","audio","video","exact","getTracks","track","DevicesView","Keyboard","Devices","dev","TransformContext","displayName","amount","operator","TransformManager","setAmount","setOperator","CalculatorTransform","setTransValue","calculate","TransformsView","Calculator","Transforms","userSelect","World","camera","shadows","dpr","devicePixelRatio","fog","attach","args","OrbitControls","enablePan","enableZoom","enableRotate","waitForMs","ms","Promise","resolve","setTimeout","SceneManagerContext","SceneManager","defaultScene","initialScene","initialLevel","currentScene","setScene","prevLevel","currentLevel","Number","sceneStore","nextScene","targetScene","targetLevel","setLevel","resetScene","prevScene","formerCurrentLevel","formerPrevLevel","setSceneState","getSceneState","SceneContext","LevelContext","instances","setInstances","initEvents","instantiate","newElement","portalNode","instance","createPortal","cloneElement","elem","levelContextValue","enterPrevLevel","enterNextLevel","startsWith","DynamicScene","lazy","LoadingBox","mesh","hovered","setHover","useFrame","rotation","scale","onPointerOver","onPointerOut","App","updateScene","fallback","createMuiTheme","default","grey","Palette","main","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","AppManager","ThreeObjectsManager","getElementById","setState","ThreeObjectRegistry","ThreeObjectRegistryByName","ThreeObjectRegistryByPos","ThreeObjectRegistryByType","exitScene","clear","threeObjectsRegistryUtils","registerThreeObject","z","posList","unregisterThreeObject","splice","indexOf","findThreeObjectByName","findThreeObjectsByPos","findThreeObjectsByLayer","threeObjectNamesArray","EventsManager","events","handler","handlers","lastData","all","slice","hasSubscriptions","DefaultSceneJSON","DefaultSceneJSONClient","getDefaultGeo","geoUUID","depth","widthSegments","heightSegments","depthSegments","getDefaultMat","materialUUID","roughness","metalness","emissive","envMapIntensity","refractionRatio","depthFunc","depthTest","depthWrite","colorWrite","stencilWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","hideChild","childs","callback","child","removeChild","idx","sceneUtils","t","deviceUUID","newJSON","previewUUID","g","filterdChildren","geometries","materials","layers","matrix","geometry","material","updatePeer","edge","oldEdge","newConnection","settings"],"mappings":"mLAAA,qDAGe,SAASA,IACtB,OAAOC,qBAAWC,O,i4BCJpB,qDAGe,SAASC,IACtB,OAAOF,qBAAWG,O,ml7BCAPC,EAAoBC,wBAAc,MAiChCC,EA/BW,SAAC,GAEpB,IADLC,EACI,EADJA,SAEA,EAAgDC,mBAAS,KAAzD,mBAAOC,EAAP,KAAyBC,EAAzB,KACA,EAA4CF,oBAAS,GAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACA,EAA0CJ,mBAAS,GAAnD,mBAAOK,EAAP,KAAsBC,EAAtB,KAEMC,EAAyBC,mBAAQ,iBAAO,CAC5CP,mBACAC,sBACAC,iBACAC,oBACAC,gBACAC,sBACE,CACFL,EAAkBC,EAClBC,EAAgBC,EAChBC,EAAeC,IAGjB,OACE,cAACV,EAAkBa,SAAnB,CAA4BC,MAAOH,EAAnC,SACGR,KCzBQ,SAASY,IACtB,OAAOnB,qBAAWI,GCAb,IAAMgB,EAAuBf,wBAAc,MAiCnCgB,EA/Bc,SAAC,GAEvB,IADLd,EACI,EADJA,SAEA,EAAoDC,mBAAS,KAA7D,mBAAOc,EAAP,KAA2BC,EAA3B,KACA,EAAkDf,oBAAS,GAA3D,mBAAOgB,EAAP,KAA0BC,EAA1B,KACA,EAAgDjB,mBAAS,GAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KAEMC,EAA4BZ,mBAAQ,iBAAO,CAC/CM,qBACAC,wBACAC,oBACAC,uBACAC,mBACAC,yBACE,CACFL,EAAoBC,EACpBC,EAAmBC,EACnBC,EAAkBC,IAGpB,OACE,cAACP,EAAqBH,SAAtB,CAA+BC,MAAOU,EAAtC,SACGrB,KCzBQ,SAASsB,IACtB,OAAO7B,qBAAWoB,G,sGCMPU,EAAezB,wBAAc,MAE/B0B,EAAoB,GAuFhBC,EArFM,SAAC,GAEf,IADLzB,EACI,EADJA,SAEQ0B,EAAYlC,cAAZkC,QAGR,EAAuBzB,oBAAS,kBAAM,IAAI0B,OAAnCC,EAAP,oBAEMC,EAAWC,uBAAY,SAACC,GAAD,OAAQH,EAAaI,IAAID,KAAK,CAACH,IAEtDK,EAAeH,uBAAY,SAACI,EAAYC,GAC5C,IAAIC,EAAS,QACEC,IAAXD,IACFA,EAASP,EAASK,GAClBN,EAAaU,OAAOJ,IAGtB,IAAMK,EAAM,2BACPH,GACAD,GAILP,EAAaY,IAAIN,EAAYK,GAE7Bb,EAAQ,gBAAiBa,GACzBb,EAAQ,qBAAsBa,EAAQ,SACrC,CAACX,EAAcC,EAAUH,IAEtBe,EAAiBX,uBAAY,SAACI,GAElCN,EAAaU,OAAOJ,GACpBR,EAAQ,qBAAsBQ,EAAY,YACzC,CAACN,EAAcF,IAEZgB,EAAgBZ,uBACpB,kBAAMa,MAAMC,KAAKhB,EAAaiB,QAAQC,KAAI,SAACf,GAAD,OAAQH,EAAaI,IAAID,QACnE,CAACH,IAIHmB,qBAAU,WACRJ,MAAMC,KAAKhB,GAAcoB,SAAQ,SAACC,GAChC,kBAAkBA,EAAlB,GAAOlB,EAAP,KAAWI,EAAX,KACkBe,MAASC,KAAKhB,EAAIiB,SAAU,WAC9B,GACdX,EAAeV,EAAII,QAGtB,CAACP,EAAca,IAElB,IAAMY,EAAoB5C,mBACxB,iBAAO,CACLoB,WACAI,eACAQ,iBACAC,mBAEF,CACEb,EACAI,EACAQ,EACAC,IAYJ,OARAlB,EAAoBf,mBAAQ,+BAC1BmB,gBACGyB,KACD,CACFzB,EACAyB,IAIA,cAAC9B,EAAab,SAAd,CAAuBC,MAAOa,EAA9B,SACGxB,KCvFQ,SAASsD,IACtB,OAAO7D,qBAAW8B,G,sBCFL,SAASgC,IACtB,OAAOC,IAASC,mBAAmB,GAAGC,QAAO,SAACC,EAAaC,GAAd,gBAAkCD,EAAlC,YAAiDC,M,YCA1FC,EAAc,SAACC,EAAKC,GACpBC,cAGFC,aAAaC,QAAQJ,EAAKK,KAAKC,UAAUL,IAIzCM,eAAeH,QAAQJ,EAAKK,KAAKC,UAAUL,KAIzCO,EAAc,SAACR,GACnB,OAAIE,cAEKG,KAAKI,MAAMN,aAAaO,QAAQV,IAIlCK,KAAKI,MAAMF,eAAeG,QAAQV,KCL9BW,EAAqB3E,wBAAc,MAErC4E,GAA0B,GAsWtBC,GApWY,SAAC,GAAkB,IAAhB3E,EAAe,EAAfA,SAC5B,EAEIR,cADFoF,EADF,EACEA,UAAWC,EADb,EACaA,YAAanD,EAD1B,EAC0BA,QAASoD,EADnC,EACmCA,aAG3BjD,EAAakD,IAAblD,SAER,EAAyB5B,mBAAU+D,cAAY,OAAS,QAAjDgB,EAAP,oBAEA,EAAwB/E,mBAAS,MAAjC,mBAAOgF,EAAP,KAAaC,EAAb,KACA,EAAgCjF,mBAAS,MAAzC,mBAAOkF,EAAP,KAAiBC,EAAjB,KACA,EAAsBnF,oBAAS,kBAAM,IAAI0B,OAAlC0D,EAAP,oBAGMC,EAAKhB,EAAY,MAEvB,EAA6BrE,oBAAS,kBAAM,IAAI0B,OAAzC4D,EAAP,oBAEMC,EAAYC,kBAAO,GAEnBC,EAAQ5D,uBACZ,kBAAMa,MAAMC,KAAK2C,EAAmB1C,QACjCC,KAAI,SAACf,GAAD,OAAQwD,EAAmBvD,IAAID,MAAK4D,QAAO,SAAC1C,GAAD,OAAkB,IAAXA,EAAE2C,QAAe,KAC1E,CAACL,IAGGM,EAAU/D,uBACd,kBAAMa,MAAMC,KAAK2C,EAAmB1C,QACjCC,KAAI,SAACf,GAAD,OAAQwD,EAAmBvD,IAAID,MAAK4D,QAAO,SAAC1C,GAAD,OAAoB,IAAbA,EAAEe,UAAiB,KAC5E,CAACuB,IAGGO,EAAYhE,uBAChB,SAACiE,GAAD,OAAUpD,MAAMC,KAAK2C,EAAmB1C,QACrCC,KAAI,SAACf,GAAD,OAAQwD,EAAmBvD,IAAID,MAAK4D,QAAO,SAAC1C,GAAD,OAAOA,EAAE8C,OAASA,KAAM,KAC1E,CAACR,IAGGS,EAAuBlE,uBAAY,SAACiE,EAAM5D,GAC9C,IAAI8D,EAAU,GAEVV,EAAmBW,IAAI/D,EAAIgE,gBAC7BF,EAAO,2BACFA,GACAV,EAAmBvD,IAAIG,EAAIgE,eAEhCZ,EAAmBjD,OAAOH,EAAIgE,eAG5BZ,EAAmBW,IAAIH,KACzBE,EAAO,2BACFA,GACAV,EAAmBvD,IAAI+D,IAE5BR,EAAmBjD,OAAOyD,IAG5B,IAAMxD,EAAM,2BAAQ0D,GAAY9D,GAEhCoD,EAAmB/C,IAAIuD,EAAMxD,GAGzBA,EAAOqD,OACT/B,EAAY,KAAMtB,GAClBb,EAAQ,cAAea,IAGrBA,EAAOyB,QACTtC,EAAQ,gBAAiBa,GAG3BsB,EAAY,cAAelB,MAAMC,KAAK2C,IACtC7D,EAAQ,sBAAuBa,KAC9B,CAACgD,EAAoB7D,IAElB0E,EAAiBtE,uBAAY,SAACC,GAAD,OAAQwD,EAAmBvD,IAAID,KAAK,CAACwD,IAElEc,EAAqBvE,uBAAY,SAACI,EAAYC,GAElDoD,EAAmB/C,IAAIN,EAAYC,GAE/BA,EAAIyD,OACN/B,EAAY,KAAM1B,GAClBT,EAAQ,cAAeS,IAGrBA,EAAI6B,QACNtC,EAAQ,gBAAiBS,GAG3B0B,EAAY,cAAelB,MAAMC,KAAK2C,IAEtC7D,EAAQ,2BAA4BS,EAAK,OACzCT,EAAQ,sBAAuBS,KAC9B,CAACoD,EAAoB7D,IAElB4E,EAAuBxE,uBAAY,SAACI,GAExCqD,EAAmBjD,OAAOJ,GAC1BR,EAAQ,2BAA4BQ,EAAY,YAC/C,CAACqD,EAAoB7D,IAElB6E,EAAsBzE,uBAC1B,kBAAMa,MAAMC,KAAK2C,EAAmB1C,QACjCC,KAAI,SAACf,GAAD,OAAQwD,EAAmBvD,IAAID,QACtC,CAACwD,IAGGiB,EAAc1E,uBAAY,kBAAMqD,IAAU,CAACA,IAE3CsB,EAA0BhG,mBAC9B,iBAAO,CACLuF,uBACAI,iBACAC,qBACAC,uBACAC,sBACAC,cACAd,QACAG,UACAC,eAEF,CACEE,EACAI,EACAG,EACAF,EACAC,EACAE,EACAd,EACAG,EACAC,IAKJpB,GAA0BjE,mBAAQ,8BAAC,aACjC8E,sBACGkB,GAF6B,IAGhCzB,iBACAC,OACAC,UACAC,WACAC,kBACE,CACFG,EACAkB,EACAzB,EACAC,EAAMC,EACNC,EAAUC,IAIZrC,qBAAU,WACR,GAAiB,OAAboC,EAAmB,CACrB,IAAIuB,EAAOpC,EAAY,YAEvB,GAAa,OAAToC,EACF,GAAI1C,cAAU,CACZ,IAAM2C,EAAQC,IACdF,EAAO,CACL3E,GAAI4E,EAEJE,IAAI,GAAD,OAAKC,OAAOC,SAASC,KAArB,YAA6BL,SAGlCD,EAAO,CAEL3E,GAAI+E,OAAOC,SAASE,KAAKC,OAAO,GAEhCL,IAAI,GAAD,OAAKC,OAAOC,SAASC,KAArB,YAA6BF,OAAOC,SAASE,KAAKC,OAAO,KAMlErD,EAAY,WAAY6C,GACxBtB,EAAYsB,MAEb,CAACvB,EAAUC,IAGdrC,qBAAU,WACS,OAAboC,IACFtB,EAAY,WAAYsB,GACxBzD,EAAQ,gBAAiByD,MAE1B,CAACA,EAAUzD,IAGdqB,qBAAU,WACK,OAATkC,GAA8B,OAAbE,GACnBD,EAAQiC,YAAS,CAAEC,MAAM,4BAAD,OAA8BjC,EAASpD,KAAQoD,EAASpD,OAEjF,CAACmD,EAASD,EAAME,IAGnB,IAAMkC,EAAQ5G,mBAAQ,iBAAO,CAC3B6G,OAAQ,YACRnB,aAAcoB,IACdxB,KAAa,OAAPT,EAAcA,EAAGS,KAAOyB,cAC9BC,KAAa,OAAPnC,EAAcA,EAAGmC,KAAjB,cAA+BzC,GACrCY,MAAM,EACN5B,OAA4B,SAAnBgB,EACT0C,KAAM,OACNtE,SAAUuE,KAAKC,SACb,CAACtC,EAAIN,IAEH6C,EAAS/F,uBAAY,cAIxB,IAEGgG,EAAiBhG,uBAAY,WACjC,GAAa,OAATmD,EAAe,CACjB,QAAoC5C,IAAhCgD,EAAYrD,IAAI,YAA2B,CAC7C,MAAoCiD,EAAK8C,WAAW,YAApD,mBAAOC,EAAP,KAAqBC,EAArB,KACA5C,EAAY7C,IAAI,WAAY,CAAEwF,eAAcC,gBAG9C,QAAiC5F,IAA7BgD,EAAYrD,IAAI,SAAwB,CAC1C,MAA4BiD,EAAK8C,WAAW,SAA5C,mBAAOG,EAAP,KAAiBC,EAAjB,KACA9C,EAAY7C,IAAI,QAAS,CAAE0F,WAAUC,YAGvC,OAAO,2BACF9C,EAAYrD,IAAI,aAChBqD,EAAYrD,IAAI,UAGvB,MAAO,KACN,CAACiD,EAAMI,IAEVtC,qBAAU,WACR,GAAa,OAATkC,EAAe,CACjB,IAAMmD,EAAaN,IA+BnB7C,EAAKoD,YAAW,SAACtG,GAAD,OA5BO,SAACA,GAEtB,IAAMuG,EAAgB,CACpBhB,OAAQ,YACRnB,aAAcpE,EACd0F,KAAM,iBACN7B,MAAM,EACN5B,QAAQ,EACR0D,KAAM,OACNtE,SAAUuE,KAAKC,OAIjBvB,EAAmBtE,EAAD,YAAC,2BACduG,GACAF,GAFa,IAGhBG,KAAMV,KAIRO,EAAWJ,aAAa,CACtB7B,aAAckB,EAAMlB,aACpBJ,KAAMsB,EAAMtB,KACZ0B,KAAMJ,EAAMI,KACZzD,OAAQqD,EAAMrD,SAIMwE,CAAezG,MAGvCsE,EAAmBgB,EAAMtB,KAAP,YAAC,2BACdsB,GACAe,GAFa,IAGhBG,KAAMV,KAIR5C,EAAKwD,aAAY,SAAC1G,GAAD,OAAQuE,EAAqBvE,MAG9CqG,EAAWD,SAAQ,SAACpE,GAClB,IAAM2E,EAAO7G,EAASkC,EAAKgC,MAC3B,OAAQhC,EAAK4E,KAAKC,eAChB,aACevG,IAATqG,GAA8C,oBAAjBA,EAAKG,SACpCH,EAAKG,QAAQ9E,EAAK+E,SAEpB,MACF,IAAK,aACHhE,EAAaf,EAAK+E,SAClBpH,EAAQ,gBAAiBqC,EAAK+E,aAMpCV,EAAWH,aAAY,YAEhB,IADL9B,EACI,EADJA,aAAcJ,EACV,EADUA,KAAM0B,EAChB,EADgBA,KAAcsB,EAC9B,EADsB/E,OAE1BgC,EAAqBD,EAAM,CACzBI,eAAc4C,OAAMhD,OAAM0B,OAAMrE,SAAUuE,KAAKC,cAIpD,CACDP,EACAQ,EACAnG,EACA2E,EACApB,EACAH,EACAwB,EACAF,EACAJ,EACAnE,EACAiG,IAIF,IAAMkB,EAAoBlH,uBAAY,SAACmH,GACjCzD,EAAU0D,cAA0B7G,IAAf4G,GACnBA,EAAWrD,MAC0B,oBAA5BqD,EAAWjB,cACpBiB,EAAWjB,aAAa,CACtB7B,aAAc8C,EAAW9C,aACzBJ,KAAMkD,EAAWlD,KACjB0B,KAAMwB,EAAWxB,KACjBzD,OAAQiF,EAAWjF,WAK1B,IAaH,OAXAjB,qBAAU,WAKR,YAJcV,IAAVgF,IACF7B,EAAU0D,SAAU,EACpBtE,EAAU,cAAeoE,IAEpB,WACLxD,EAAU0D,SAAU,EACpBrE,EAAY,cAAemE,MAE5B,CAACpE,EAAWC,EAAamE,EAAmB3B,IAG7C,cAAC5C,EAAmB/D,SAApB,CAA6BC,MAAO+D,GAApC,SACG1E,KC7WQ,SAASsD,KACtB,OAAO7D,qBAAWgF,G,cCId0E,GAAYC,aAAW,iBAAO,CAClCC,SAAU,CACRC,YAAa,OACbC,WAAY,YAIVC,GAAe,SAAC,GAEf,IADLC,EACI,EADJA,OAGMC,EAAUP,KAEhB,OACE,cAACQ,GAAA,EAAD,CAASC,MAAM,UAAU,aAAW,UAApC,SACE,cAACC,EAAA,EAAD,CAAYC,UAAWJ,EAAQL,SAAUU,QAAQ,YAAjD,SAA8DN,OAKpED,GAAaQ,iBAAmBC,EAMjBC,sBAAKV,IC5BdW,GAAW,WACf,IAAQhF,EAAa7B,KAAb6B,SAER,OAAiB,OAAbA,EAA4B,KAE9B,cAAC,GAAD,CAAoBsE,OAAQtE,EAASpD,MAIzCoI,GAASH,iBAAmBC,EAEbE,U,+BCTThB,GAAYC,aAAW,iBAAO,CAClCgB,OAAQ,CACNC,MAAO,OACPC,OAAQ,OACRC,QAAS,QACTC,SAAU,gBAKRC,GAAS,SAAC,GAGT,IAFLC,EAEI,EAFJA,KACA7D,EACI,EADJA,IAGM6C,EAAUP,KAEhB,OACE,cAAC,KAAD,CAAQuB,KAAMA,EAAMZ,UAAWJ,EAAQU,OAAQzJ,MAAOkG,KAI1D4D,GAAOT,iBAAmBC,EAOXC,sBAAKO,ICxBdtB,GAAYC,aAAW,iBAAO,CAClCuB,YAAa,CACXN,MAAO,OACPC,OAAQ,YAINM,GAAS,WACb,MAAmCpL,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YACX2B,EAAgBlD,KAAhBkD,YAEFqE,EAAQpF,iBAAO,MACrB,EAA4BxF,mBAAS,GAArC,mBAAO6K,EAAP,KAAeC,EAAf,KAGMrB,EAAUP,KAEhBpG,qBAAU,WACRgI,EAAUF,EAAM3B,QAAU2B,EAAM3B,QAAQ8B,YAAc,KACrD,CAACH,IAEJ,MAAwB5K,mBAAS,IAAjC,mBAAOgF,EAAP,KAAaC,EAAb,KAEMM,EAAYC,kBAAO,GAEzB1C,qBAAU,WACR,GAAIyC,EAAU0D,QAAS,CACrB,IAAM+B,EAAIzE,SACAnE,IAAN4I,GACF/F,EAAQ+F,MAGX,CAAC/F,EAASsB,IAEb,IAAM0E,EAAapJ,uBAAY,WAC7B,GAAI0D,EAAU0D,QAAS,CACrB,IAAM+B,EAAIzE,SACAnE,IAAN4I,GACF/F,EAAQ+F,MAGX,CAACzE,EAAatB,IAWjB,OATAnC,qBAAU,WAGR,OAFAyC,EAAU0D,SAAU,EACpBtE,EAAU,gBAAiBsG,GACpB,WACL1F,EAAU0D,SAAU,EACpBrE,EAAY,gBAAiBqG,MAE9B,CAACtG,EAAWC,EAAaqG,IAEvBjG,EAGH,cAACkG,GAAA,EAAD,CAAcrB,UAAWJ,EAAQiB,YAAaxI,IAAK0I,EAAnD,SACE,cAAC,GAAD,CACEH,KAAMI,EACNjE,IAAI,GAAD,OAAK5B,EAAK4B,SANC,MAatB+D,GAAOZ,iBAAmBC,EAEXW,U,yFCtETzB,GAAYC,aAAW,iBAAO,CAClCgC,WAAY,CAEVC,QAAS,YAIPC,GAAiB,SAAC,GAEjB,IADLtL,EACI,EADJA,SAAUuL,EACN,EADMA,MAAOC,EACb,EADaA,WAAY1B,EACzB,EADyBA,UAAc2B,EACvC,mBACE/B,EAAUP,KAChB,OACE,cAACQ,GAAA,EAAD,CAASC,MAAO2B,EAAO,aAAYA,EAAnC,SACE,cAACG,GAAA,EAAD,yBACEhB,KAAK,QACL,aAAYa,EACZI,QAASH,GAELC,GALN,IAME3B,UAAW8B,YAAKlC,EAAQ0B,WAAYtB,GANtC,SAQI9J,QAMVsL,GAAetB,iBAAmBC,EASnBC,sBAAKoB,IClCdnC,GAAYC,aAAW,iBAAO,CAClCyC,WAAY,CACVC,OAAQ,mBAINC,GAA0B,SAAC,GAAqB,IAAnB3G,EAAkB,EAAlBA,YAC3BsE,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,kBACPC,WAAY,WACVpG,EAAY,CACVrD,GAAI6E,OAIVkD,UAAWJ,EAAQmC,WATrB,SAWE,cAAC,KAAD,CAAaG,SAAS,aAK5BD,GAAwB/B,iBAAmBC,EAM5BC,sBAAK6B,ICrCdE,GAAsB,WAC1B,IAAQ7G,EAAgB9B,KAAhB8B,YAER,OAAO,cAAC,GAAD,CAA+BA,iBAGxC6G,GAAoBjC,iBAAmBC,EAExBgC,U,qBCJT9C,GAAYC,aAAW,iBAAO,CAClCyC,WAAY,CACVC,OAAQ,mBAINI,GAAwB,SAAC,GAAa,IAAXrF,EAAU,EAAVA,IACzB6C,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,WACPC,WAAY,WAEVW,UAAUC,UAAUC,UAAUxF,GAAKyF,QAGvCxC,UAAWJ,EAAQmC,WARrB,SAUE,cAAC,KAAD,CAAcG,SAAS,aAK7BE,GAAsBlC,iBAAmBC,EAM1BC,sBAAKgC,IClCdK,GAAoB,WACxB,IAAQpH,EAAa7B,KAAb6B,SAER,OAAiB,OAAbA,EAA4B,KAEzB,cAAC,GAAD,CAA6B0B,IAAI,GAAD,OAAK1B,EAAS0B,QAGvD0F,GAAkBvC,iBAAmBC,EAEtBsC,U,+BCNTpD,GAAYC,aAAW,iBAAO,CAClCyC,WAAY,CACVC,OAAQ,mBAINU,GAAwB,SAAC,GAAa,IAAX3F,EAAU,EAAVA,IACzB6C,EAAUP,KAChB,OACE,cAACsD,GAAA,EAAD,CAAMzF,KAAMH,EAAK6F,OAAO,SAASC,IAAI,WAArC,SACE,cAAC,GAAD,CAEIpB,MAAO,WACPC,WAAY,aAGd1B,UAAWJ,EAAQmC,WANrB,SAQE,cAAC,KAAD,CAAeG,SAAS,eAKhCQ,GAAsBxC,iBAAmBC,EAM1BC,sBAAKsC,ICjCdI,GAAoB,WACxB,IAAQzH,EAAa7B,KAAb6B,SAER,OAAiB,OAAbA,EAA4B,KAEzB,cAAC,GAAD,CAA6B0B,IAAI,GAAD,OAAK1B,EAAS0B,QAGvD+F,GAAkB5C,iBAAmBC,EAEtB2C,UCATzD,GAAYC,aAAW,iBAAO,CAClCyD,aAAc,CACZC,UAAW,QAITC,GAAW,WACf,IAAMrD,EAAUP,KAEhB,OACE,eAAC6D,EAAA,EAAD,CAAMC,OAAK,EAAX,UACE,cAACC,EAAA,EAAD,CAAUD,OAAK,EAAf,SACE,cAACE,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,SACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC1D,EAAA,EAAD,CAAYC,UAAWJ,EAAQmD,aAA/B,wBAIN,cAACK,EAAA,EAAD,CAAUD,OAAK,EAAf,SACE,cAAC,GAAD,MAEF,cAACC,EAAA,EAAD,CAAUD,OAAK,EAAf,SACE,cAAC,GAAD,MAEF,cAACC,EAAA,EAAD,CAAUD,OAAK,EAAf,SACE,eAACE,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACIvJ,cAAY,cAAC,GAAD,IAA0B,OAE1C,cAACmJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,GAAD,MAEF,cAACJ,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,GAAD,eAQZR,GAAS/C,iBAAmBC,EAEbC,sBAAK6C,ICnDd5D,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJC,WAAY,GAEdC,SAAU,CACRnD,QAAS,QACTF,MAAO,OACPoD,WAAY,OAIVE,GAAW,WAEf,IAAMjE,EAAUP,KAEhB,OACE,cAAC+D,EAAA,EAAD,CACEU,KAAK,WACL7L,GAAE,8BAAyB,GAC3B,2CAAmC,GACnC+H,UAAWJ,EAAQ8D,KAJrB,SAME,cAACR,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQgE,SAA/B,SACE,cAAC,GAAD,SAMRC,GAAS3D,iBAAmBC,EAEbC,sBAAKyD,I,mDC3BdxE,GAAYC,aAAW,iBAAO,CAClCyC,WAAY,CACVR,QAAS,MACT9B,WAAY,WAIVsE,GAAyB,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,SAAU9H,EAA2B,EAA3BA,qBAEpC0D,EAAUP,KAEhB,OAAQ2E,EAASpG,KAAKkB,eACpB,QACA,IAAK,OACH,OACE,cAAC,GAAD,CAEI2C,MAAO,OACPC,WAAY,WACVxF,EAAqB8H,EAAS/H,KAAM,SAAU,CAAE2B,KAAM,UAG1DoC,UAAWJ,EAAQmC,WAPrB,SASE,cAAC,IAAD,CAAYG,SAAS,YAG3B,IAAK,OACH,OACE,gCACE,cAAC,GAAD,CAEIT,MAAO,SACPC,WAAY,WACVxF,EAAqB8H,EAAS/H,KAAM,SAAU,CAAE2B,KAAM,UAG1DoC,UAAWJ,EAAQmC,WAPrB,SASE,cAAC,KAAD,CAAWG,SAAS,YAEtB,cAAC,GAAD,CAEIT,MAAO,OACPC,WAAY,WACVxF,EAAqB8H,EAAS/H,KAAM,OAAQ,CAAE2B,KAAM,UAGxDoC,UAAWJ,EAAQmC,WAPrB,SASE,cAAC,KAAD,CAAWG,SAAS,iBAOhC6B,GAAuB7D,iBAAmBC,EAU3BC,sBAAK2D,ICzEdE,GAAqB,SAAC,GAAD,IAAGD,EAAH,EAAGA,SAAU9H,EAAb,EAAaA,qBAAb,OACzB,cAAC,GAAD,CAA8B8H,WAAU9H,0BAG1C+H,GAAmB/D,iBAAmBC,EAOvB8D,U,oBCXTC,GAAa,SAAC,GAAD,IAAGF,EAAH,EAAGA,SAAH,OACjB,cAACG,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQC,IAAKL,EAAS9J,OAAS,OAAS,OAAQoK,IAAI,QAIxDJ,GAAWhE,iBAAmBC,EAQfC,sBAAK8D,I,UCZd7E,GAAYC,aAAW,iBAAO,CAClCiF,UAAW,CACTC,WAAY,SACZC,SAAU,cAIRC,GAAe,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,UACzBhF,EAAUP,KAChB,OACE,cAACwF,GAAA,EAAD,CACEjF,QAAS,CACP2E,UAAW3E,EAAQ2E,WAErBI,QAASA,EACTC,UAAWA,KAKjBF,GAAaxE,iBAAmBC,EAOjBC,sBAAKsE,I,UC7BdA,GAAe,SAAC,GAAD,IAAG7N,EAAH,EAAGA,MAAOiO,EAAV,EAAUA,aAAV,OACnB,cAACC,GAAA,EAAD,CAAW9M,GAAG,iBAAiBwJ,MAAM,YAAY5K,MAAOA,EAAOmO,SAAUF,KAG3EJ,GAAaxE,iBAAmBC,EAOjBC,sBAAKsE,ICVdO,GAAW,SAAC,GAAgC,IAA9BjB,EAA6B,EAA7BA,SAAUc,EAAmB,EAAnBA,aAE1BlH,EACEoG,EADFpG,KAAMD,EACJqG,EADIrG,KAAM1B,EACV+H,EADU/H,KAAMH,EAChBkI,EADgBlI,KAAMO,EACtB2H,EADsB3H,aAE1B,OAAQuB,EAAKkB,eACX,QACA,IAAK,UACH,OAAO,cAAC,GAAD,CAAoB6F,QAAS,aAAcC,UAAW,KAC/D,IAAK,OACH,OAAO,cAAC,GAAD,CAAoBD,QAAQ,GAAD,OAAKhH,EAAL,aAAc1B,EAAd,KAAuB2I,UAAU,GAAD,OAAM9I,EAAQ,KAAO,OAArB,aAAgCO,EAAhC,OACpE,IAAK,OACH,OAAO,cAAC,GAAD,CAAoBxF,MAAO8G,EAAMmH,mBAI9CG,GAAS/E,iBAAmBC,EAab8E,U,UC3BT5F,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCC,eAAgB,CACd5D,QAAS,mBACT6D,MAAO,EACPC,WAAW,4BAAD,OAA8BH,EAAMI,QAAQD,WAAWE,MAAvD,6BAiBCC,GAbK,SAAC,GAAkB,IAAhBtP,EAAe,EAAfA,SACf0J,EAAUP,KAChB,OACE,cAACoG,GAAA,EAAD,CAAyBzF,UAAWJ,EAAQuF,eAA5C,SACGjP,KCDDmJ,GAAYC,aAAW,iBAAO,CAClCoG,SAAU,CACRnE,QAAS,EACTkD,SAAU,UAEZkB,KAAM,CACJpF,MAAO,QAETwC,aAAc,CACZC,UAAW,QAIT4C,GAAW,WACf,IAAMhG,EAAUP,KAEhB,EAA0C7F,KAAlC0C,EAAR,EAAQA,qBAAsBH,EAA9B,EAA8BA,QAC9B,EAAmCrG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEnB,EAAgC5E,mBAAS,MAAzC,mBAAO0P,EAAP,KAAiBC,EAAjB,KACA,EAAwB3P,mBAAS,MAAjC,mBAAO8I,EAAP,KAAa8G,EAAb,KAEMrK,EAAYC,kBAAO,GAEzB1C,qBAAU,WACR,IAAM+M,EAAIjK,SACAxD,IAANyN,IACFD,EAAQC,GACRF,EAAYE,EAAErI,SAEf,CAAC5B,EAASgK,IAEb,IAAME,EAAajO,uBAAY,WAC7B,GAAI0D,EAAU0D,QAAS,CACrB,IAAM4G,EAAIjK,SACAxD,IAANyN,IACFD,EAAQC,GACRF,EAAYE,EAAErI,UAGjB,CAAC5B,EAASgK,IAEb9M,qBAAU,WAKR,YAJgBV,IAAZwD,IACFL,EAAU0D,SAAU,EACpBtE,EAAU,gBAAiBmL,IAEtB,WACLvK,EAAU0D,SAAU,EACpBrE,EAAY,gBAAiBkL,MAE9B,CAACnL,EAAWC,EAAagB,EAASkK,IAErC,IAAMC,EAAalO,uBAAY,SAACmO,GAC9BL,EAAYK,EAAEC,cAAcvP,SAC3B,CAACiP,IAEEO,EAAiBrO,uBAAY,SAACC,EAAI4G,EAAMyH,GAC5C,OAAQzH,EAAKC,eACX,QACA,IAAK,SACH5C,EAAqBjE,EAAIqO,GACzB,MACF,IAAK,OACHpK,EAAqBjE,EAAD,YAAC,eAChBqO,GADe,IAElB3I,KAAMkI,QAIX,CAAC3J,EAAsB2J,IAE1B,OAAa,OAAT5G,GAA8B,OAAb4G,EAA4B,KAG/C,cAACzC,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC1D,EAAA,EAAD,CAAYC,UAAWJ,EAAQmD,aAA/B,oBAEF,cAACM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,eAACvC,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAAC,GAAD,CAAkBvC,SAAU/E,IAC5B,cAAC,GAAD,CAAgB+E,SAAS,2BAAM/E,GAAP,IAAatB,KAAMkI,IAAYf,aAAcoB,IAClEjH,EAAKnD,KACN,cAAC,GAAD,UACE,cAAC,GAAD,CACEkI,SAAU/E,EAAM/C,qBAAsBmK,MAH5B,YAWtB,cAAChD,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,YAOVZ,GAAS1F,iBAAmBC,EAEbC,sBAAKwF,IC3GdvG,GAAYC,aAAW,iBAAO,CAClCoG,SAAU,CACRnE,QAAS,EACTkD,SAAU,UAEZkB,KAAM,CACJpF,MAAO,QAETwC,aAAc,CACZC,UAAW,QAITyD,GAAS,WACb,IAAM7G,EAAUP,KAEhB,EAAwC7F,KAAhC0C,EAAR,EAAQA,qBAAsBN,EAA9B,EAA8BA,MAC9B,EAAmClG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEnB,EAA4B5E,mBAAS,MAArC,mBAAOuQ,EAAP,KAAeC,EAAf,KACA,EAAoBxQ,mBAAS,MAA7B,mBAAOqF,EAAP,KAAWoL,EAAX,KAEMlL,EAAYC,kBAAO,GAEzB1C,qBAAU,WACR,IAAM4N,EAAIjL,SACArD,IAANsO,IACFD,EAAMC,GACNF,EAAUE,EAAElJ,SAEb,CAAC/B,EAAOgL,IAEX,IAAME,EAAW9O,uBAAY,WAC3B,GAAI0D,EAAU0D,QAAS,CACrB,IAAM4G,EAAIpK,SACArD,IAANyN,IACFY,EAAMZ,GACNW,EAAUX,EAAErI,UAGf,CAAC/B,EAAOgL,IAEX3N,qBAAU,WAKR,YAJcV,IAAVqD,IACFF,EAAU0D,SAAU,EACpBtE,EAAU,cAAegM,IAEpB,WACLpL,EAAU0D,SAAU,EACpBrE,EAAY,cAAe+L,MAE5B,CAAClL,EAAOd,EAAWC,EAAa+L,IAEnC,IAAMZ,EAAalO,uBAAY,SAACmO,GAC9BQ,EAAUR,EAAEC,cAAcvP,SACzB,CAAC8P,IAEEI,EAAe/O,uBAAY,SAACC,EAAI4G,EAAMyH,GAC1C,OAAQzH,EAAKC,eACX,QACA,IAAK,SACH5C,EAAqBjE,EAAIqO,GACzB,MACF,IAAK,OACHpK,EAAqBjE,EAAD,YAAC,eAChBqO,GADe,IAElB3I,KAAM+I,QAIX,CAACxK,EAAsBwK,IAE1B,OAAW,OAAPlL,GAA0B,OAAXkL,GAAmBlL,EAAGtB,OAAiB,KAGxD,cAACkJ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC1D,EAAA,EAAD,CAAYC,UAAWJ,EAAQmD,aAA/B,kBAEF,cAACM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,eAACvC,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAAC,GAAD,CAAkBvC,SAAUxI,IAC5B,cAAC,GAAD,CAAgBwI,SAAS,2BAAMxI,GAAP,IAAWmC,KAAM+I,IAAU5B,aAAcoB,IAC9D1K,EAAGM,KACJ,cAAC,GAAD,UACE,cAAC,GAAD,CAA0BkI,SAAUxI,EAAIU,qBAAsB6K,MAFpD,YAQpB,cAAC1D,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,YAOVC,GAAOvG,iBAAmBC,EAEXC,sBAAKqG,I,6DCrGdpH,GAAYC,aAAW,iBAAO,CAClCyC,WAAY,CACVR,QAAS,MACT9B,WAAY,MACZiB,SAAU,YAEZsG,UAAW,CACTC,KAAM,SAIJC,GAA2B,SAAC,GAAsB,IAApB1L,EAAmB,EAAnBA,GAAIwI,EAAe,EAAfA,SACxBmD,EAAyC3L,EAA/CS,KAA4BmL,EAAmB5L,EAAjCa,aACd+B,EAAiC4F,EAAjC5F,SAAU/B,EAAuB2H,EAAvB3H,aAAcP,EAASkI,EAATlI,KACxBuL,EAAc3R,cAAd2R,UACFC,EAAY3L,iBAAO,MAGnBiE,EAAUP,KAEhB,EAAgClJ,mBAAS,MAAzC,mBAAOoR,EAAP,KAAiBC,EAAjB,KACMC,EAAOC,QAAQH,GAErBtO,qBAAU,gBACkBV,IAAtB+O,EAAUlI,SACZoI,EAAYF,EAAUlI,WAEvB,CAACkI,EAAWE,IAEf,IAIMG,EAAY,SAACxB,GACjB,IACIyB,EAAO,GACX,OAFsBzB,EAAEC,cAAcyB,QAA9BC,UAEUhJ,eAChB,QACA,IAAK,KACH8I,EAAOP,EACP,MACF,IAAK,OACHO,EAAOG,GACP,MACF,IAAK,UACHH,EAAOI,GAGa,oBAAb5J,GACTA,EAAS,CACPS,KAAM,aAAcG,QAAS4I,EAAM3L,KAAMkL,EAAQrO,KAAMsO,EAAgBa,UAAWpK,KAAKC,KACtFzB,GAELmL,EAAY,OAGd,OACE,sBAAKU,MAAO,CAAEzH,QAAS,SAAvB,UACE,cAAC,GAAD,CAEIgB,MAAO3F,EAAO,4BAA8B,cAC5C4F,WAAY,SAACyG,GA/BnBX,EAgCiBW,EAhCC/B,gBAmCdpG,UAAWJ,EAAQmC,WAPrB,SASE,cAAC,KAAD,CAAmBG,SAAS,YAE9B,eAACkG,GAAA,EAAD,CACEpI,UAAWJ,EAAQoH,UACnB/O,GAAG,aACHsP,SAAUA,EACVc,aAAW,EACXZ,KAAMA,EACNa,QAASX,EANX,UAQE,cAACY,GAAA,EAAD,CAAUpF,OAAK,EAAC,kBAAgB,OAAOtB,QAAS8F,EAAhD,sBACA,cAACY,GAAA,EAAD,CAAUpF,OAAK,EAAC,kBAAgB,OAAOtB,QAAS8F,EAAhD,wBACA,cAACY,GAAA,EAAD,CAAUpF,OAAK,EAAC,kBAAgB,UAAUtB,QAAS8F,EAAnD,4BAMRT,GAAyBhH,iBAAmBC,EAc7BC,sBAAK8G,IC5GdsB,GAAuB,SAAC,GAAkB,IAAhBxE,EAAe,EAAfA,SAC9B,EAAmCtO,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YACXa,EAAUpC,KAAVoC,MAER,EAAoBzF,mBAAS,IAA7B,mBAAOqF,EAAP,KAAWoL,EAAX,KAEMlL,EAAYC,kBAAO,GAEzB1C,qBAAU,WACR,IAAM4N,EAAIjL,SACArD,IAANsO,GACFD,EAAMC,KAEP,CAACD,EAAOhL,IAEX,IAAMkL,EAAW9O,uBAAY,WAC3B,GAAI0D,EAAU0D,QAAS,CACrB,IAAMyH,EAAIjL,SACArD,IAANsO,GACFD,EAAMC,MAGT,CAACjL,EAAOgL,IAWX,OATA3N,qBAAU,WAGR,OAFAyC,EAAU0D,SAAU,EACpBtE,EAAU,cAAegM,GAClB,WACLpL,EAAU0D,SAAU,EACpBrE,EAAY,cAAe+L,MAE5B,CAAChM,EAAWC,EAAa+L,IAEvBtL,EAEE,cAAC,GAAD,CAAgCA,KAAIwI,aAFzB,MAKpBwE,GAAqBtI,iBAAmBC,EAMzBqI,UCtCTnJ,GAAYC,aAAW,iBAAO,CAClCoG,SAAU,CACRnE,QAAS,GAEXkH,QAAS,CACPrD,MAAO,OAILsD,GAAW,SAAC,GAAkB,IAAhB1E,EAAe,EAAfA,SACZpE,EAAUP,KAERnD,EAAyB1C,KAAzB0C,qBAER,EAAgC/F,mBAAS,MAAzC,mBAAOwS,EAAP,KAAiBC,EAAjB,KAEM1C,EAAalO,uBAAY,SAACmO,GAC9ByC,EAAYzC,EAAEC,cAAcvP,SAC3B,CAAC+R,IAEEC,EAAa7Q,uBAAY,SAACC,EAAI4G,EAAMyH,GACxC,OAAQzH,EAAKC,eACX,QACA,IAAK,SACH5C,EAAqBjE,EAAIqO,GACzB,MACF,IAAK,OACHpK,EAAqBjE,EAAD,YAAC,eAChBqO,GADe,IAElB3I,KAAMgL,QAIX,CAACzM,EAAsByM,IAQ1B,OANA1P,qBAAU,WACJ+K,GACF4E,EAAY5E,EAASrG,QAEtB,CAACqG,EAAU4E,IAET5E,GAAyB,OAAb2E,EAGf,eAACvF,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAAC,GAAD,CAAkBvC,aAClB,cAAC,GAAD,CAAgBA,SAAS,2BAAMA,GAAP,IAAiBrG,KAAMgL,IAAY7D,aAAcoB,IACzE,eAAC,GAAD,WACKlC,EAASlI,KACD,cAAC,GAAD,CAA0BkI,WAAU9H,qBAAsB2M,IAAjE,KACF7E,EAAS9J,OAAU,KAAO,cAAC,GAAD,CAA4B8J,mBATjB,cAACZ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,iBAe/CmC,GAASxI,iBAAmBC,EAUbC,sBAAKsI,ICpEdrJ,GAAYC,aAAW,iBAAO,CAClCoG,SAAU,CACRnE,QAAS,GAEXoE,KAAM,CACJpF,MAAO,QAETwC,aAAc,CACZC,UAAW,QAIT8F,GAAY,WAChB,IAAQrM,EAAwBjD,KAAxBiD,oBACR,EAAmC/G,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb6E,EAAUP,KAEhB,EAAsClJ,mBAAS,IAA/C,mBAAO4S,EAAP,KAAoBC,EAApB,KAEMtN,EAAYC,kBAAO,GAEnBsN,EAAoBjR,uBAAY,WACpC,GAAI0D,EAAU0D,QAAS,CACrB,IAAMR,EAAOnC,SACAlE,IAATqG,GAAsBlD,EAAU0D,SAClC4J,EAAepK,EAAK/C,QAAO,SAAC1C,GAAD,OAASA,EAAE2C,OAAS3C,EAAEe,cAGpD,CAACuC,EAAqBuM,IAezB,OAbA/P,qBAAU,WACR,IAAM2F,EAAOnC,IAMb,YALalE,IAATqG,IACFlD,EAAU0D,SAAU,EACpB4J,EAAepK,EAAK/C,QAAO,SAAC1C,GAAD,OAASA,EAAE2C,OAAS3C,EAAEe,WACjDY,EAAU,sBAAuBmO,IAE5B,WACLvN,EAAU0D,SAAU,EACpBrE,EAAY,sBAAuBkO,MAEpC,CAACD,EAAgBvM,EAAqB3B,EAAWC,EAAakO,IAEtC,IAAvBF,EAAYG,OAAuB,KAGrC,cAAC9F,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC1D,EAAA,EAAD,CAAYC,UAAWJ,EAAQmD,aAA/B,qBAEF,cAACM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACGoD,EAAY/P,KAAI,SAAC4F,GAAD,OAAU,cAAC,GAAD,CAAkCoF,SAAUpF,GAA7BA,EAAKvC,2BAQ3DyM,GAAU5I,iBAAmBC,EAEd2I,UCrETzJ,GAAYC,aAAW,iBAAO,CAClCqG,KAAM,CACJpF,MAAO,QAETmF,SAAU,CACR/B,WAAY,OAIVwF,GAAY,WAEhB,IAAMvJ,EAAUP,KAEhB,OAEE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACxC,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,UACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,UAMRwD,GAAUjJ,iBAAmBC,EAEdC,sBAAK+I,IC7Bd9J,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJjD,QAAS,QACTF,MAAO,OACPgB,QAAS,GAEXmE,SAAU,CACR/B,WAAY,OAIVyF,GAAY,WAEhB,IAAMxJ,EAAUP,KAEhB,OACE,cAAC+D,EAAA,EAAD,CACEU,KAAK,WACL7L,GAAE,8BAAyB,GAC3B,2CAAmC,GACnC+H,UAAWJ,EAAQ8F,SAJrB,SAME,cAACxC,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ8D,KAA/B,SACE,cAAC,GAAD,SAMR0F,GAAUlJ,iBAAmBC,EAEdC,sBAAKgJ,I,sCC7Bd/J,GAAYC,aAAW,iBAAO,CAClC+J,OAAQ,OAGJC,GAA2B,SAAC,GAAiD,IAA/CnS,EAA8C,EAA9CA,kBAAmBC,EAA2B,EAA3BA,qBAC/CwI,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,QACPC,WAAY,WACVtK,GAAsBD,IAG1B6I,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAWnH,SAAS,aAK1BoH,GAAyBpJ,iBAAmBC,EAO7BC,sBAAKkJ,IChCdC,GAAuB,WAC3B,MAAoD/R,IAA5CL,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,qBAE3B,OAAO,cAAC,GAAD,CAAgCD,oBAAmBC,0BAG5DmS,GAAqBrJ,iBAAmBC,EAEzBoJ,UCETlK,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAK,2BAEAwB,EAAMsE,OAAOC,SAFd,IAGFC,SAAU,EACVC,UAAW,oBAEbC,QAAS,CACPC,SAAU,YAIRC,GAAuB,SAACnI,GAC5B,IAAQ9K,EAAwB8K,EAAxB9K,MAAOkT,EAAiBpI,EAAjBoI,aACTnK,EAAUP,KAChB,OACE,qBAAKW,UAAWJ,EAAQ8D,KAAxB,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAAjB,SACE,eAACuJ,EAAA,EAAD,CACEhK,QAAQ,QADV,UAGE,cAAC,GAAD,IACA,qBAAKD,UAAWJ,EAAQsK,SACxB,eAACC,GAAA,EAAD,CACEtT,MAAOA,EACPmO,SAAU,SAACoF,EAAOC,GAAR,OAAqBN,EAAaM,IAC5CpK,QAAQ,aACRqK,eAAe,YACfC,UAAU,YACVC,cAAc,MACd,aAAW,kCAPb,UASE,cAAC3K,GAAA,EAAD,CAASC,MAAM,OAAO,aAAW,OAAjC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAO,cAAC,KAAD,CAAiBA,KAAMC,OAC9B,aAAW,OAET1S,GAAI,aACJ,gBAAiB,sBAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,QAAQ,aAAW,QAAlC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAME,OAC7B,aAAW,QAET3S,GAAI,cACJ,gBAAiB,uBAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,OAAO,aAAW,OAAjC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAMG,OAC7B,aAAW,OAET5S,GAAI,aACJ,gBAAiB,iCAgBpBmI,kBAAK0J,IC/FdgB,GAAmB,SAACnJ,GAAD,OACvB,cAAC,GAAD,eAA0BA,KAG5BmJ,GAAiB5K,iBAAmBC,EAErB2K,U,+DCGTzL,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJC,WAAY,GAEdC,SAAU,CACRnD,QAAS,QACTF,MAAO,OACPoD,WAAY,GAEd+B,SAAU,CACRnF,MAAO,QAETwK,SAAU,CACRC,MAAO,YAILC,GAAW,WAEf,IAAMrL,EAAUP,KAEhB,OACE,cAAC+D,EAAA,EAAD,CAAUpD,UAAWJ,EAAQ8D,KAA7B,SACE,eAACR,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQgE,SAA/B,UACE,cAACR,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,cAAChD,GAAA,EAAD,CAAMzF,KAAK,4BAA4B0F,OAAO,SAA9C,SACE,eAACQ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAACpC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQC,IAAI,GAAGC,IAAI,OAErB,cAACvE,EAAA,EAAD,CAAYC,UAAWJ,EAAQmL,SAA/B,yEAOR,cAAC1H,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,WAIN,cAACpD,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,cAAChD,GAAA,EAAD,CAAMzF,KAAK,iEAAiE0F,OAAO,SAAnF,SACE,eAACQ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAACpC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQC,IAAI,GAAGC,IAAI,GAAnB,SAAsB,cAAC,KAAD,QAExB,cAACvE,EAAA,EAAD,CAAYC,UAAWJ,EAAQmL,SAA/B,uDAOR,cAAC1H,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,WAIN,cAACpD,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,cAAChD,GAAA,EAAD,CAAMzF,KAAK,sEAAsE0F,OAAO,SAAxF,SACE,eAACQ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAACpC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQC,IAAI,GAAGC,IAAI,GAAnB,SAAsB,cAAC,KAAD,QAExB,cAACvE,EAAA,EAAD,CAAYC,UAAWJ,EAAQmL,SAA/B,yDAOR,cAAC1H,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,WAIN,cAACpD,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAnC,SACE,eAACrC,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAACP,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ+F,KAA/B,SACE,cAAChD,GAAA,EAAD,CAAMzF,KAAK,wEAAwE0F,OAAO,SAA1F,SACE,eAACQ,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8F,SAAUa,WAAW,aAAxD,UACE,cAACpC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQC,IAAI,GAAGC,IAAI,GAAnB,SAAsB,cAAC,KAAD,QAExB,cAACvE,EAAA,EAAD,CAAYC,UAAWJ,EAAQmL,SAA/B,0DAOR,cAAC1H,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC+C,GAAA,EAAD,iBASdyE,GAAS/K,iBAAmBC,EAEbC,sBAAK6K,ICjHd5L,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCgG,OAAQ,CACNC,WAAYjG,EAAMkG,YAAYC,OAAO,SAAU,CAC7CC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,iBAEvCjL,OAAQ,SAACmB,GAAD,4BAA4BA,EAAMrL,eAAiBqL,EAAMvL,iBAAmB,EAA5E,QACRmK,MAAO,SAACoB,GAAD,OAAYA,EAAM1K,oBACzByJ,SAAU,QACV0E,MAAO,EACPsG,IAAK,EACLC,OAAQ,MAEVC,YAAa,CACXlL,SAAU,WACVF,OAAQ,OACRD,MAAO,QAETsL,aAAa,yBACXpL,QAAS,OACT8F,WAAY,SACZhF,QAAS2D,EAAM5B,QAAQ,EAAG,IAEvB4B,EAAMsE,OAAOC,SALN,IAMVqC,eAAgB,iBAIdC,GAAgB,SAAC,GAOhB,IANLzV,EAMI,EANJA,eACAF,EAKI,EALJA,iBACAa,EAII,EAJJA,mBACAE,EAGI,EAHJA,kBACAE,EAEI,EAFJA,iBACAC,EACI,EADJA,oBAEMsI,EAAUP,GAAU,CACxB/I,iBACAF,mBACAa,uBAGF,OACE,eAAC+U,EAAA,EAAD,CACEhM,UAAWJ,EAAQsL,OACnBjL,QAAQ,aACRgM,OAAO,QACPxE,KAAMtQ,EACNyI,QAAS,CACP2F,MAAO3F,EAAQgM,aANnB,UASE,cAAC,GAAD,CAAwB7B,aAAczS,EAAqBT,MAAOQ,IAC5C,IAArBA,EAAyB,cAAC,GAAD,IAAe,KACnB,IAArBA,EAAyB,cAAC,GAAD,IAAgB,KACpB,IAArBA,EAAyB,cAAC,GAAD,IAAe,SAc/C0U,GAAc7L,iBAAmBC,EAElBC,sBAAK2L,IC/EdG,GAAY,WAChB,MAA6CpV,IAArCR,EAAR,EAAQA,eAAgBF,EAAxB,EAAwBA,iBACxB,EAMIoB,IALFP,EADF,EACEA,mBACAE,EAFF,EAEEA,kBACAC,EAHF,EAGEA,qBACAC,EAJF,EAIEA,iBACAC,EALF,EAKEA,oBAGF,OACE,cAAC,GAAD,CACEhB,iBACAF,mBACAa,qBACAE,oBACAC,uBACAC,mBACAC,yBAMN4U,GAAUhM,iBAAmBC,EAEd+L,U,SCrBTC,GAAmB,SAACtN,GACxB,OAAQA,EAAKC,eACX,QACE,MAAO,CATC,IACC,KASX,IAAK,QACL,IAAK,WACH,MAAO,CAZC,IAYO,OAIfsN,GAAa,SAACzK,GAClB,OAAQA,EAAM9C,KAAKC,eACjB,QACE,MAAO,WACT,IAAK,QACH,OAAO6C,EAAM9C,KACf,IAAK,QACL,IAAK,WACH,MAAO,YACT,IAAK,OACH,MAAO,SAKPwN,GAAgB,SAAC1K,EAAO2K,EAASC,EAAQC,EAAc3N,GAAvC,MAAiD,CACrEA,OACA5G,GAAG,GAAD,OAAK0J,EAAM1F,MACbhC,KAAK,yBACH/D,SAAU,IACPyL,GAFD,IAGF2K,UACA/L,MAAO4L,GAAiBtN,GAAM,GAC9B2B,OAAQ2L,GAAiBtN,GAAM,GAC/B4C,MAAOE,EAAMhE,KACb8O,cAAeD,EACfE,mBAAmCnU,IAAnBoJ,EAAMgL,UAA0BhL,EAAMgL,SAASD,gBAEjEE,cAA8BrU,IAAnBoJ,EAAMgL,UAA0BhL,EAAMgL,SAASD,cAC1DJ,UACApW,SAAU,KAIN2W,GAAmB,SAAnBA,EAAoB3W,EAAUoW,EAASQ,GAC3C,IAAMC,EAAYD,EAAQ,EAC1B,YAAiBvU,IAAbrC,GAA8C,IAApBA,EAASgT,OAC9B,GAEFhT,EAAS8C,KAAI,SAACgU,GAAD,mBAAC,eAEdX,GAAcW,EAAGV,EAAUQ,EAAiBA,EAAQ,EArD/C,EAqD2DV,GAAWY,KAF9D,IAGhB9W,SAAU2W,EAAiBG,EAAE9W,SAAU8W,EAAE/Q,KAAM8Q,MAH/B,oBAKfF,EAAiBG,EAAE9W,SAAH,uBAAiBoW,GAAjB,CAA0BU,EAAE/Q,OAAO8Q,QACpDE,QA4CAC,GAAgB,SAACC,GAAD,6BAJA,SAACA,GAAD,OAAaA,EAAQC,QAAQpU,KAAI,SAAC2I,GAAD,OAAW0K,GAAc1K,EAAO,QAAS,GAAO,EAAO,aAKzG0L,CAAcF,IADG,aARF,SAACA,GAAD,OAAaA,EAAQG,MAAMtU,KAAI,SAAC2I,GAAD,OAAW0K,GAAc1K,EAAO,QAAS,GAAO,EAAO,WAWrG4L,CAAYJ,IAHK,aANA,SAACA,GAAD,OAAaA,EAAQK,QAAQxU,KAAI,SAAC2I,GAAD,OAAW0K,GAAc1K,EAAO,QAAS,GAAO,EAAO,aAUzG8L,CAAcN,IAJG,aAVG,SAACA,GAAD,OAAaA,EAAQO,WAAW1U,KAAI,SAAC2I,GAAD,OAAW0K,GAAc1K,EAAO,QAAS,GAAO,EAAO,gBAgB/GgM,CAAiBR,IANA,aAFG,SAACA,GAAD,OAAaA,EAAQS,WAAW5U,KAAI,SAAC2I,GAAD,OAAW0K,GAAc1K,EAAO,QAAS,GAAO,EAAO,gBAS/GkM,CAAiBV,IAPA,aAvBI,SAACA,GAAD,OAAaA,EAAQpE,YAAY/P,KAAI,SAACgU,GAAD,MAAQ,CACrE/U,GAAG,GAAD,OAAK+U,EAAE/Q,MACT4C,KAAM,SAENiP,OAAO,GAAD,OAAKd,EAAElU,MACbiV,aAAa,GAAD,OAAKf,EAAElU,KAAP,YAAekU,EAAEgB,UAE7BpL,OAAO,GAAD,OAAKoK,EAAEiB,IACbC,aAAa,GAAD,OAAKlB,EAAEiB,GAAP,gBAAiBjB,EAAEmB,QAE/BC,UAAU,MAsBPC,CAAkBlB,IATD,aAYjBN,GAAiB,CAACM,EAAQmB,QAAS,GAAI,IAZtB,aAaMzB,GAAiB,CAACM,EAAQmB,QAAS,GAAI,GArDhEzS,QAAO,SAACmR,GAAD,OAASA,EAAEJ,UAAYI,EAAEV,QAAQpD,OAAS,KAAIlQ,KAAI,SAACgU,GAAD,MAAQ,CAChE/U,GAAG,GAAD,OAAK+U,EAAE/U,GAAP,mBAAoB+U,EAAEV,QAAQU,EAAEV,QAAQpD,OAAS,GAAjD,iBACFrK,KAAM,gBACN5E,KAAK,2BACA+S,GADD,IAEFvL,MAAOuL,EAAE/Q,OAGX6R,OAAO,GAAD,OAAKd,EAAE/U,IACb8V,aAAa,GAAD,OAAKf,EAAE/U,GAAP,WAEZ2K,OAAO,GAAD,OAAKoK,EAAEV,QAAQU,EAAEV,QAAQpD,OAAS,IACxCgF,aAAa,GAAD,OAAKlB,EAAEV,QAAQU,EAAEV,QAAQpD,OAAS,GAAlC,iBAEZkF,UAAU,S,+DCtERG,GAAgB,SAAC1P,GACrB,GAAIA,EAAKC,cAAc0P,SAAS,SAC9B,OAAO,cAAC,KAAD,CAAkBtM,SAAS,UAEpC,OAAQrD,EAAKC,eACX,QACE,OAAO,cAAC,KAAD,CAAiB4L,KAAMG,OAChC,IAAK,QACH,OAAO,cAAC,KAAD,CAAiBH,KAAM+D,OAChC,IAAK,YACH,OAAO,cAAC,KAAD,CAAiB/D,KAAMgE,OAChC,IAAK,OACH,OAAO,cAAC,KAAD,CAAYxM,SAAS,UAC9B,IAAK,SACH,OAAO,cAAC,KAAD,CAAiBwI,KAAMiE,OAChC,IAAK,OACH,OAAO,cAAC,KAAD,CAAiBjE,KAAMkE,OAChC,IAAK,QACH,OAAO,cAAC,KAAD,CAAW1M,SAAS,UAC7B,IAAK,aACH,OAAO,cAAC,KAAD,CAAiBwI,KAAMmE,OAChC,IAAK,QACH,OAAO,cAAC,KAAD,CAAiBnE,KAAMiE,OAChC,IAAK,WACH,OAAO,cAAC,KAAD,CAAiBjE,KAAMoE,OAChC,IAAK,SACH,OAAO,cAAC,KAAD,CAAiBpE,KAAMqE,OAChC,IAAK,MACH,OAAO,cAAC,KAAD,CAAiBrE,KAAMsE,OAChC,IAAK,WACH,OAAO,cAAC,KAAD,CAAiBtE,KAAMuE,OAChC,IAAK,WACH,OAAO,cAAC,KAAD,CAAiBvE,KAAMwE,OAChC,IAAK,SACH,OAAO,cAAC,KAAD,CAAiBxE,KAAMyE,OAChC,IAAK,UACH,OAAO,cAAC,KAAD,CAAiBzE,KAAM0E,SCvC9B/P,GAAYC,aAAW,iBAAO,CAClC+P,SAAU,CACRrN,OAAQ,EACRT,QAAS,iBAEX+N,SAAU,CACRzF,SAAU,QAEZ0F,SAAU,CACR/K,WAAY,cAIVgL,GAAe,SAAC,GAA0B,IAAxB7R,EAAuB,EAAvBA,KAAMkB,EAAiB,EAAjBA,KAAM5C,EAAW,EAAXA,KAC5B2D,EAAUP,KAEhB,OACE,eAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,UACE,cAACxP,GAAA,EAAD,CAASC,MAAOjB,EAAM,aAAYA,EAAlC,SACE,cAACwC,GAAA,EAAD,CAAcrB,UAAWJ,EAAQ0P,SAAjC,SACGf,GAAc1P,OAGnB,cAACgB,GAAA,EAAD,CAASC,MAAO7D,EAAM,aAAYA,EAAlC,SACE,cAAC4I,GAAA,EAAD,CACE7E,UAAWJ,EAAQ2P,SACnB5K,QAAShH,UAaJyC,kBAAKoP,I,6BCvCdnQ,GAAYC,aAAW,iBAAO,CAClCmQ,OAAQ,CACNlP,MAAO,OACPC,OAAQ,OACRE,SAAU,WACVsB,OAAQ,EACRT,QAAS,GAEXmO,WAAY,CACVC,MAAO,OACP1I,KAAM,QACN2I,WAAY,OACZvK,WAAY,OACZwK,oBAAqB,EACrBC,uBAAwB,GAE1BC,YAAa,CACXJ,MAAO,QACPvK,MAAO,QACP4K,YAAa,OACb3K,WAAY,OACZ4K,qBAAsB,EACtBC,wBAAyB,OA8BdC,GA1BM,SAAC,GAAwB,IAAtBlU,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SACtBxQ,EAAUP,KAEhB,OACE,cAACQ,GAAA,EAAD,CAASC,MAAK,UAAK7D,EAAL,YAAamU,GAAY,aAAYA,EAAnD,SACE,8BACE,cAAC,KAAD,CACEvR,KAAK,SACL6B,SAAS,QACTzI,GAAE,UAAKgE,EAAL,YAAamU,GAEfC,kBAAmB,SAAClR,GAA8D,OAA7CmR,QAAQC,IAAI,mBAAoBpR,IAAoB,GAEzFqR,UAAW,SAACC,GAAaH,QAAQC,IAAI,qBAAsBE,IAC3DzQ,UAAW8B,YAAKlC,EAAQ6P,OAAQ7P,EAAQmQ,oBCxC5C1Q,GAAYC,aAAW,iBAAO,CAClCmQ,OAAQ,CACNlP,MAAO,OACPC,OAAQ,OACRE,SAAU,WACVsB,OAAQ,EACRT,QAAS,GAEXmO,WAAY,CACVC,MAAO,OACP1I,KAAM,QACN2I,WAAY,OACZvK,WAAY,OACZwK,oBAAqB,EACrBC,uBAAwB,GAE1BC,YAAa,CACXJ,MAAO,QACPvK,MAAO,QACP4K,YAAa,OACb3K,WAAY,OACZ4K,qBAAsB,EACtBC,wBAAyB,OA8BdQ,GA1BK,SAAC,GAAwB,IAAtBzU,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SACrBxQ,EAAUP,KAEhB,OACE,cAACQ,GAAA,EAAD,CAASC,MAAK,UAAK7D,EAAL,gBAAiBmU,GAAY,2BAAmBA,GAA9D,SACE,8BACE,cAAC,KAAD,CACEvR,KAAK,SACL6B,SAAS,OACTzI,GAAE,UAAKgE,EAAL,gBAAiBmU,GAEnBC,kBAAmB,SAAClR,GAA6D,OAA5CmR,QAAQC,IAAI,kBAAmBpR,IAAoB,GAExFqR,UAAW,SAACC,GAAaH,QAAQC,IAAI,oBAAqBE,IAC1DzQ,UAAW8B,YAAKlC,EAAQ6P,OAAQ7P,EAAQ8P,mB,8BC3C5CrQ,GAAYC,aAAW,iBAAO,CAClCqR,WAAY,CACVpQ,MAAO,OACPqQ,aAAc,iBACdvL,WAAY,OACZwL,UAAW,OACXC,aAAc,GAGhBC,YAAa,CACXxP,QAAS,UACThB,MAAO,OACPoJ,UAAW,kBAEbqH,mBAAoB,CAClBhP,OAAQ,gBAEViP,mBAAoB,CAClBjP,OAAQ,EACRT,QAAS,GAEX2P,YAAa,CACXlP,OAAQ,EACRT,QAAS,EACT4P,cAAe,GACf5Q,MAAO,OACPkE,SAAU,SACV/D,SAAU,gBAKR0Q,GAAoB,SAAC,GAEpB,IADLlb,EACI,EADJA,SAAUmb,EACN,EADMA,OAAQC,EACd,EADcA,WAAYC,EAC1B,EAD0BA,YAE9B,EAAsCpb,mBAASob,GAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KAEM7R,EAAUP,KAChB,OACE,eAACqS,GAAA,EAAD,CACE1R,UAAWJ,EAAQ+Q,WACnBgB,SAAUH,EACVxM,SAAU,SAACoF,EAAO9D,GAChBmL,EAAenL,IAJnB,UAOE,cAACsL,GAAA,EAAD,CACEhS,QAAS,CACP8D,KAAM9D,EAAQmR,YACdc,QAASjS,EAAQoR,mBACjBM,WAAY1R,EAAQqR,oBAEtBK,WAAYA,EACZ,gBAAc,gBACdrZ,GAAG,eARL,SAUGoZ,IAEH,cAACS,GAAA,EAAD,CAAkB9R,UAAWJ,EAAQsR,YAArC,SACKM,EAAetb,EAAW,WAatBkK,kBAAKgR,IClDd/R,GAAYC,aAAW,iBAAO,CAClC+P,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV+O,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,SACXC,cAAe,cAEjBC,eAAgB,CACdpQ,OAAQ,EACRT,QAAS,GAEXkI,QAAS,CACPlI,QAAS,EACTb,SAAU,QACV2R,OAAQ,GAEV1B,WAAY,CACVpQ,MAAO,OACPqQ,aAAc,iBACdvL,WAAY,OACZwL,UAAW,OACXC,aAAc,GAEhBC,YAAa,CACXxP,QAAS,QACThB,MAAO,OACPoJ,UAAW,mBAEbqH,mBAAoB,CAClBhP,OAAQ,gBAEViP,mBAAoB,CAClB1P,QAAS,UAEX2P,YAAa,CACX3P,QAAS,EACThB,MAAO,OACPkE,SAAU,SACV/D,SAAU,YAEZ4R,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,IAEd5B,WAAY,GAIZ2Q,UAAW,CACTnS,MAAO,QAEToS,cAAe,CACbpR,QAAS,GAEXqR,WAAY,CACVxN,MAAO,EACPC,WAAY,gDAEdwN,cAAe,CACbhJ,SAAU,OACVtI,QAAS,IAEXuR,UAAW,CACTvR,QAAS,gBAiFEwR,GA7ES,SAACpR,GACvB,IACE9C,EACE8C,EADF9C,KAAM5C,EACJ0F,EADI1F,KAAM/F,EACVyL,EADUzL,SAAU8c,EACpBrR,EADoBqR,UAElBpT,EAAUP,KAChB,OACE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,eAArC,SACE,cAAC,GAAD,CAAmBrW,OAAMmU,SAAU,eAErC,cAAC/M,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAa,EACbF,OACE,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,6BAEerZ,EAASgT,OAFxB,cAEmCrK,EAAKC,cAA4B,OAItEwS,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAV7B,SAaE,cAACgB,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ8S,UAA/B,SAEIxc,EAAS2F,QAAO,SAACmR,GAAD,OAAQA,EAAEL,SAASD,iBAAgB1T,KAAI,SAACgU,GAAD,OACrD,eAAC5J,EAAA,EAAD,CAAUD,OAAK,EAA8CnD,UAAWJ,EAAQ+S,cAAhF,UACE,cAAC9S,GAAA,EAAD,CAASC,MAAOkN,EAAEnO,KAAM,aAAYmO,EAAEnO,KAAtC,SACE,cAACwC,GAAA,EAAD,CAAcrB,UAChB8B,YAAKlC,EAAQiT,cAAT,eAA2BjT,EAAQkT,UAAY9F,EAAEnO,KAAKC,cAAc0P,SAAS,WAD/E,SAIGD,GAAcvB,EAAEnO,UAGrB,cAACgB,GAAA,EAAD,CAASC,MAAOkN,EAAE/Q,KAAM,aAAY+Q,EAAE/Q,KAAtC,SACE,cAAC4I,GAAA,EAAD,CAAcF,QAASqI,EAAErP,SAE3B,cAAC8H,GAAA,EAAD,CAAyB7F,QAAS,CAChC8D,KAAM9D,EAAQgT,YADhB,SAIE,cAAC,GAAD,CAEInR,MAAO,UACPC,WAAY,WACVsR,EAAUhG,EAAE/Q,MAAM,IAGtB+D,UAAWJ,EAAQmC,WAPrB,SASE,cAAC,KAAD,CAAiBkR,KAAK,aAAavI,KAAMwI,aAzB/C,UAAwBlG,EAAE/Q,KAA1B,YAAkC+Q,EAAErP,KAApC,+BAkCV,cAAC0F,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,gBAArC,SAC0B,UAAvB3T,EAAKC,cAA4B,cAAC,GAAD,CAAoB7C,OAAMmU,SAAU,WAAiB,aCzK3F/Q,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJnD,MAAO,SAACoB,GAAD,OAAYA,EAAMpB,OACzBgB,QAAS,EACT4R,gBAAiB,OACjBC,OAAQ,kBACRtC,aAAc,OACdD,UAAW,mCAmBAwC,GAfG,SAAC,GAAyB,IAAvBnd,EAAsB,EAAtBA,SAAUqK,EAAY,EAAZA,MACvBX,EAAUP,GAAU,CAAEkB,UAE5B,OACE,cAAC2C,EAAA,EAAD,CAAMC,OAAK,EAACnD,UAAWJ,EAAQ8D,KAA/B,SACGxN,KCeQod,GA7BI,SAAC,GAAc,IAAZrZ,EAAW,EAAXA,KAElBgC,EACEhC,EADFgC,KAAMwF,EACJxH,EADIwH,MAAO5C,EACX5E,EADW4E,KAAM0B,EACjBtG,EADiBsG,MAAOkM,EACxBxS,EADwBwS,cAAeG,EACvC3S,EADuC2S,SAAU1W,EACjD+D,EADiD/D,SAE7Cqd,EAAsB7d,cAAtB6d,kBAER,OACE,eAAC,GAAD,CAAiBhT,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,KAAM,UAC7D,cAAC,GAAD,CACE3I,WAAUuW,gBAAe5N,OAAM5C,OAAM2Q,WAAUoG,UAAWO,QCH5DlU,GAAYC,aAAW,iBAAO,CAClC+P,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV+O,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,SACXC,cAAe,cAEjBG,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,QAIV6P,GAAmB,SAAC,GAEnB,IADLtd,EACI,EADJA,SAAU+F,EACN,EADMA,KAAMmU,EACZ,EADYA,SAAUqD,EACtB,EADsBA,aAAcC,EACpC,EADoCA,cAElC9T,EAAUP,KAChB,OACE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,eAArC,UACoB,IAAjBmB,EAAyB,cAAC,GAAD,CAAmBxX,OAAMmU,aAAiB,OAEtE,cAAC/M,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAa,EACbF,OAAQ,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,SAA0Ca,IAClDkB,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,SAOIhM,MAGN,cAACmN,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,gBAArC,UACqB,IAAlBkB,EAA0B,cAAC,GAAD,CAAoBzX,OAAMmU,aAAiB,aAOhFoD,GAAiBtT,iBAAmBC,EAUrBC,sBAAKoT,IC/EdG,GAAe,SAAC,GAAD,IACnBzd,EADmB,EACnBA,SAAU+F,EADS,EACTA,KAAMmU,EADG,EACHA,SAAUqD,EADP,EACOA,aAAcC,EADrB,EACqBA,cADrB,OAGnB,cAAC,GAAD,CACEzX,OAAMmU,WAAUqD,eAAcC,gBADhC,SAIGxd,KAILyd,GAAazT,iBAAmBC,EAUjBwT,U,UCtBTtU,GAAYC,aAAW,iBAAO,CAClCiQ,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,cAKT0B,GAAiB,SAAC,GAAe,IAAb/c,EAAY,EAAZA,MAClB+I,EAAUP,KAChB,QAAQ,GACN,QACE,OAAO,cAACU,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,mBAA6C1Y,KACtD,KAAKgC,MAAMgb,QAAQhd,GAEjB,OAAO,cAACkJ,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,oBAA+C1Y,EAAMmC,KAAI,SAAC8a,GAAD,gBAAWA,EAAEC,QAAQ,OAA9E,OACT,IAAsB,kBAAVld,EAEV,OAAO,cAACkJ,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,2BAAqD1Y,EAAMmd,YAIzD5T,kBAAKwT,ICmBLK,GApCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbmZ,GAAWC,EADWte,eAApBse,iBACyBlY,GAEjC,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJiBV,IAAb2b,IACFxY,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCkE,IAEpC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCkE,MAE5C,CAACxZ,EAAWC,EAAamZ,EAAU9D,EAAUkE,EAAYrY,SAE3C1D,IAAb2b,EAAiC,cAAC,GAAD,CAAsBrd,MAAO,CAAC,EAAG,EAAG,KAElE,cAAC,GAAD,CAAsBA,MAAOud,K,UCpBhC/U,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJgG,SAAU,EAEVoG,uBAAwB,OACxBI,wBAAyB,OACzBzL,SAAU,SACVlD,QAAS,GAEXkI,QAAS,CACPlI,QAAS,EACToI,UAAW,QAEb4K,OAAQ,CACNlP,WAAY,QAEdmP,MAAO,CACLjU,MAAO,OACPE,QAAS,SAEX4I,OAAQ,CACN7J,YAAa,OACbC,WAAY,OACZgB,QAAS,SAEXgU,SAAU,CACRzE,YAAa,wCAIX0E,GAAmB,SAAC,GAEnB,IADLzY,EACI,EADJA,KAAM0Y,EACF,EADEA,UAAW3B,EACb,EADaA,UAEXpT,EAAUP,KAChB,OACE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQ8D,KAAnC,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAASV,UAAWJ,EAAQ2U,OAA7C,SACE,cAACtK,EAAA,EAAD,CACEhK,QAAQ,QACRD,UAAWJ,EAAQ6J,QAFrB,SAIE,eAACpG,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ6U,WACrC,cAACpR,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ6U,SAArC,SACyB,oBAAdzB,EAEL,cAAC,GAAD,CAEIvR,MAAO,aACPC,WAAY,WACVsR,EAAU/W,GAAM,IAGpB+D,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAiBqB,KAAMkK,SAGzB,cAACC,GAAA,EAAD,CAAQ7U,UAAWJ,EAAQyJ,WAEjC,cAAChG,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACE,cAAC,GAAD,CAEIhC,MAAO,SACPC,WAAY,WACViT,EAAU1Y,IAGd+D,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAiBqB,KAAMoK,qBAgBxB1U,kBAAKsU,IClGdK,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACtB,EAA8CvG,cAAtCsf,EAAR,EAAQA,eAAgBzB,EAAxB,EAAwBA,kBACxB,OACE,cAAC,GAAD,CACEtX,OAAM0Y,UAAWK,EAAgBhC,UAAWO,KAMlDwB,GAAa7U,iBAAmBC,EAMjB4U,UCoCAE,GA/CU,SAAC,GAAc,IAAZhb,EAAW,EAAXA,KAExBgC,EACEhC,EADFgC,KAAMwF,EACJxH,EADIwH,MAAO5C,EACX5E,EADW4E,KAAM0B,EACjBtG,EADiBsG,MAAOkM,EACxBxS,EADwBwS,cAAeG,EACvC3S,EADuC2S,SAAU1W,EACjD+D,EADiD/D,SAE7Cqd,EAAsB7d,cAAtB6d,kBAEF2B,EAAa,CACjB,CACEjZ,OAAMmU,SAAU,WAAYqD,cAAc,EAAOC,eAAe,GAElE,CACEzX,OAAMmU,SAAU,WAAYqD,cAAc,EAAOC,eAAe,GAElE,CACEzX,OAAMmU,SAAU,QAASqD,cAAc,EAAOC,eAAe,IAIjE,OACE,eAAC,GAAD,CAAiBnT,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,SACvD,cAAC,GAAD,CACE3I,WAAUuW,gBAAe5N,OAAM5C,OAAM2Q,WAAUoG,UAAWO,IAI1D2B,EAAWlc,KAAI,SAACG,GAAD,OACb,cAAC,GAAD,2BAAuDA,GAAvD,aAA0D,cAAC,GAAD,CAAkB8C,KAAM9C,EAAE8C,KAAMmU,SAAUjX,EAAEiX,aAAtG,UAAsBjX,EAAE8C,KAAxB,YAAgC9C,EAAEiX,SAAlC,aAGJ,cAAC,GAAD,CAAcnU,KAAMA,QCnCpB8Y,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACdkZ,EAAiBzf,cAAjByf,aACR,OACE,cAAC,GAAD,CACElZ,OAAM0Y,UAAWQ,EAAcnC,UAAW,gBAMhD+B,GAAa7U,iBAAmBC,EAMjB4U,UCjBFK,GAAiBpf,wBAAc,MAEjCqf,GAAsB,GAkDlBC,GAhDQ,SAAC,GAEjB,IADLpf,EACI,EADJA,SAEQ0B,EAAYlC,cAAZkC,QAER,EAAyBzB,oBAAS,kBAAM,IAAI0B,OAArC0d,EAAP,oBAEMC,EAAsB7e,mBAC1B,iBAAO,CACL8e,WADK,SACMxd,GACT,OAAOsd,EAAerd,IAAID,IAE5Byd,eAJK,SAIUtd,EAAYC,GAEzBkd,EAAe7c,IAAIN,EAAYC,GAC/BT,EAAQ,uBAAwBS,EAAK,QAEvCsd,iBATK,SASYvd,GAEfmd,EAAe/c,OAAOJ,GACtBR,EAAQ,uBAAwBQ,EAAY,WAE9Cwd,gBAdK,WAeH,OAAO/c,MAAMC,KAAKyc,EAAexc,QAAQC,KAAI,SAACf,GAAD,OAAQsd,EAAerd,IAAID,UAG5E,CAACsd,EAAgB3d,IAWnB,OARAyd,GAAsB1e,mBAAQ,+BAC5B4e,kBACGC,KACD,CACFD,EACAC,IAIA,cAACJ,GAAexe,SAAhB,CAAyBC,MAAOwe,GAAhC,SACGnf,KC9CQ,SAAS2f,KACtB,OAAOlgB,qBAAWyf,ICOpB,IAoCenB,GApCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb+a,GAAYL,EADKI,KAAfJ,YACqBxZ,GAE7B,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJkBV,IAAdud,IACFpa,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCkE,IAEpC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCkE,MAE5C,CAACxZ,EAAWC,EAAa+a,EAAW1F,EAAUkE,EAAYrY,SAE3C1D,IAAdud,EAAkC,cAAC,GAAD,CAAsBjf,MAAO,CAAC,EAAG,EAAG,KAEnE,cAAC,GAAD,CAAsBA,MAAOud,KCCvB2B,GA7BI,SAAC,GAAc,IAAZ9b,EAAW,EAAXA,KAElBgC,EACEhC,EADFgC,KAAMsE,EACJtG,EADIsG,MAAOkB,EACXxH,EADWwH,MAAO5C,EAClB5E,EADkB4E,KAGhBqW,EAAa,CACjB,CACEjZ,OAAMmU,SAAU,WAAYqD,cAAc,EAAMC,eAAe,IAInE,OACE,eAAC,GAAD,CAAiBnT,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,SACtDqW,EAAWlc,KAAI,SAACG,GAAD,OAAQ,cAAC,GAAD,2BAAuDA,GAAvD,aAA0D,cAAC,GAAD,CAAkB8C,KAAM9C,EAAE8C,KAAMmU,SAAUjX,EAAEiX,aAAtG,UAAsBjX,EAAE8C,KAAxB,YAAgC9C,EAAEiX,SAAlC,aACxB,cAAC,GAAD,CAAcnU,KAAMA,Q,UCfpBoD,GAAYC,aAAW,iBAAO,CAClC0W,WAAY,CACVzV,MAAO,QAET0V,aAAc,CACZ1U,QAAS,OAIP2U,GAAiB,SAAC,GAIjB,IAHLjc,EAGI,EAHJA,KACApD,EAEI,EAFJA,MACAmO,EACI,EADJA,SAEMpF,EAAUP,KAEhB,OACE,cAAC8W,GAAA,EAAD,CACEnW,UAAWJ,EAAQoW,WACnBnf,MAAOA,EACPmO,SAAUA,EACVoR,YAAa,kBACX,cAAC7N,GAAA,EAAD,CAAU1R,MAAOA,EAAOmJ,UAAWJ,EAAQqW,aAA3C,SACE,cAACpR,GAAA,EAAD,UAAehO,OANrB,SAUGoD,EAAKjB,KAAI,SAACqd,GAAD,OACR,cAAC9N,GAAA,EAAD,CAAkB1R,MAAOwf,EAAGrW,UAAWJ,EAAQqW,aAA/C,SACE,cAACpR,GAAA,EAAD,UAAewR,KADFA,SAcRjW,kBAAK8V,ICnCd7W,GAAYC,aAAW,iBAAO,CAClCiQ,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,SACXC,cAAe,cAEjB9C,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV8R,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,IAEd2S,eAAgB,CACd/V,MAAO,OACPyB,OAAQ,EACRT,QAAS,GAEXyU,WAAY,CACVzV,MAAO,QAET0V,aAAc,CACZ1U,QAAS,GAEXgV,SAAU,CACRvU,OAAQ,EACR6H,SAAU,GACVrK,YAAa,QAKXgX,GAAqB,SAAC,GAGrB,IAFL3f,EAEI,EAFJA,MAAO4f,EAEH,EAFGA,SACPrG,EACI,EADJA,SAAUnW,EACN,EADMA,KAEJ2F,EAAUP,KAEhB,OACE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,iBACrC,cAACjP,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAW,EACXF,OAAQ,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,SAA0Ca,IAClDkB,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,SAOE,cAACrC,GAAA,EAAD,CAASC,WAAuBvH,IAAhB1B,EAAM4K,MAAsB,GAAK5K,EAAM4K,MAAO,kBAA4BlJ,IAAhB1B,EAAM4K,MAAsB,GAAK5K,EAAM4K,MAAjH,SACE,cAACyB,EAAA,EAAD,CAAMlD,UAAWJ,EAAQ0W,eAAzB,SACE,cAAC,GAAD,CACErc,KAAMA,EAAKjB,KAAI,SAACqd,GAAD,OAAOA,EAAE5U,SACxB5K,WAAuB0B,IAAhB1B,EAAM4K,MAAsB,GAAK5K,EAAM4K,MAC9CuD,SAAU,SAACmB,GACTsQ,EAAStQ,EAAEvD,OAAO/L,kBAO9B,cAACwM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,wBAW9BpS,kBAAKoW,IC9BLE,GAjEQ,SAAC,GAAc,IAAZza,EAAW,EAAXA,KACxB,EAAmCvG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb+a,GAAYL,EADKI,KAAfJ,YACqBxZ,GAEvBP,EAAYC,kBAAO,GAEzB,EAAwBxF,mBAAS,IAAjC,mBAAOwP,EAAP,KAAagR,EAAb,KACA,EAAgCxgB,mBAASwP,EAAK,IAA9C,mBAAOiR,EAAP,KAAiBC,EAAjB,KAEMC,EAAiB9e,uBAAY,SAACsO,GAC9B5K,EAAU0D,SACZyX,EAAYvQ,KAEb,CAAC5K,EAAWmb,IAETE,EAAa/e,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZuX,EAAQrQ,KAET,CAAC5K,EAAWib,IAmBf,GAjBA1d,qBAAU,WAUR,YATkBV,IAAdud,IACFpa,EAAU0D,SAAU,EAEpByX,EAAYf,EAAUkB,gBACtBlc,EAAU,GAAD,OAAImB,EAAJ,4BAAoC6a,GAE7CH,EAAQb,EAAUmB,YAClBnc,EAAU,GAAD,OAAImB,EAAJ,wBAAgC8a,IAEpC,WACLrb,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,4BAAoC6a,GAC/C/b,EAAY,GAAD,OAAIkB,EAAJ,wBAAgC8a,MAE5C,CAACjc,EAAWC,EAAakB,EAAM6Z,EAAWgB,EAAgBC,SAE5Cxe,IAAbqe,EAAwB,OAAO,EAEnC,IAAMtQ,EAAOX,EAAK9J,QAAO,SAACwa,GAAD,OAAOA,EAAE5U,QAAUmV,EAASnV,SAAOyH,OAAS,EACjEvD,EAAK,GACLA,EAAK9J,QAAO,SAACwa,GAAD,OAAOA,EAAE5U,QAAUmV,EAASnV,SAAO,GAEnD,OACE,cAAC,GAAD,CAEI2O,SAAU,gBACVnW,KAAM0L,EACN9O,MAAOyP,EACPmQ,SAAU,SAAC3C,QACSvb,IAAdud,GACFA,EAAUoB,kBAAkBvR,EAAK9J,QAAO,SAACwa,GAAD,OAAOA,EAAE5U,QAAUqS,KAAG,QCrB3DqD,GA9BK,SAAC,GAAc,IAAZld,EAAW,EAAXA,KAEnBgC,EACEhC,EADFgC,KAAMsE,EACJtG,EADIsG,MAAOkB,EACXxH,EADWwH,MAAO5C,EAClB5E,EADkB4E,KAGhBqW,EAAa,CACjB,CACEjZ,OAAMmU,SAAU,cAAeqD,cAAc,EAAMC,eAAe,IAItE,OACE,eAAC,GAAD,CAAiBnT,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,SACvD,cAAC,GAAD,CAAsB5C,SACrBiZ,EAAWlc,KAAI,SAACG,GAAD,OAAQ,cAAC,GAAD,2BAAuDA,GAAvD,aAA0D,cAAC,GAAD,CAAkB8C,KAAM9C,EAAE8C,KAAMmU,SAAUjX,EAAEiX,aAAtG,UAAsBjX,EAAE8C,KAAxB,YAAgC9C,EAAEiX,SAAlC,aACxB,cAAC,GAAD,CAAcnU,KAAMA,QCNXmb,GAhBK,SAAC,GAAc,IAAZnd,EAAW,EAAXA,KAErB,OADiBA,EAAT4E,KACKC,eACX,QACE,OAAQ,cAACuY,GAAD,CAAkBpd,SAC5B,IAAK,SACH,OAAQ,cAACqd,GAAD,CAAmBrd,WCLpBsd,GAAoBvhB,wBAAc,MAEpCwhB,GAAyB,GAkDrBC,GAhDW,SAAC,GAEpB,IADLvhB,EACI,EADJA,SAEQ0B,EAAYlC,cAAZkC,QAER,EAA4BzB,oBAAS,kBAAM,IAAI0B,OAAxC6f,EAAP,oBAEMC,EAAgB3f,uBAAY,SAACC,GAAD,OAAQyf,EAAkBxf,IAAID,KAAK,CAACyf,IAEhEE,EAAyBjhB,mBAC7B,iBAAO,CACLghB,gBACAE,kBAFK,SAEazf,EAAYC,GAE5Bqf,EAAkBhf,IAAIN,EAAYC,GAClCT,EAAQ,0BAA2BS,EAAK,QAE1Cyf,oBAPK,SAOe1f,GAElBsf,EAAkBlf,OAAOJ,GACzBR,EAAQ,0BAA2BQ,EAAY,WAEjD2f,mBAZK,WAaH,OAAOlf,MAAMC,KAAK4e,EAAkB3e,QAAQC,KAAI,SAACf,GAAD,OAAQyf,EAAkBxf,IAAID,UAGlF,CAACyf,EAAmB9f,EAAS+f,IAW/B,OARAH,GAAyB7gB,mBAAQ,+BAC/B+gB,qBACGE,KACD,CACFF,EACAE,IAIA,cAACL,GAAkB3gB,SAAnB,CAA4BC,MAAO2gB,GAAnC,SACGthB,KChDQ,SAAS8hB,KACtB,OAAOriB,qBAAW4hB,ICOpB,IAoCetD,GApCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbkd,GAAeN,EADKK,KAAlBL,eAC2B1b,GAEnC,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJqBV,IAAjB0f,IACFvc,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCkE,IAEpC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCkE,MAE5C,CAACxZ,EAAWC,EAAakd,EAAc7H,EAAUkE,EAAYrY,SAE3C1D,IAAjB0f,EAAqC,cAAC,GAAD,CAAsBphB,MAAO,CAAC,EAAG,EAAG,KAEtE,cAAC,GAAD,CAAsBA,MAAOud,KChChCW,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACdic,EAAoBxiB,cAApBwiB,gBACR,OACE,cAAC,GAAD,CACEjc,OAAM0Y,UAAWuD,EAAiBlF,UAAW,gBAMnD+B,GAAa7U,iBAAmBC,EAMjB4U,UCVT1V,GAAYC,aAAW,iBAAO,CAClC0W,WAAY,CACVzV,MAAO,QAET0V,aAAc,CACZ1U,QAAS,GAEXgV,SAAU,CACRvU,OAAQ,EACR6H,SAAU,GACVrK,YAAa,QAIX2Y,GAAyB,SAAC,GAIzB,IAHLle,EAGI,EAHJA,KACApD,EAEI,EAFJA,MACAmO,EACI,EADJA,SAEMpF,EAAUP,KAEhB,OACE,cAAC8W,GAAA,EAAD,CACEnW,UAAWJ,EAAQoW,WACnBnf,MAAOA,EACPmO,SAAUA,EACVoR,YAAa,kBACX,eAAC7N,GAAA,EAAD,CAAU1R,MAAOA,EAAOmJ,UAAWJ,EAAQqW,aAA3C,UACE,cAAC5U,GAAA,EAAD,CAAcrB,UAAWJ,EAAQ2W,SAAjC,SACGhI,GAAc1X,KAEjB,cAACgO,GAAA,EAAD,UAAehO,QATrB,SAaGoD,EAAKjB,KAAI,SAACqd,GAAD,OACR,eAAC9N,GAAA,EAAD,CAAkB1R,MAAOwf,EAAGrW,UAAWJ,EAAQqW,aAA/C,UACE,cAAC5U,GAAA,EAAD,CAAcrB,UAAWJ,EAAQ2W,SAAjC,SACGhI,GAAc8H,KAEjB,cAACxR,GAAA,EAAD,UAAewR,MAJFA,SAiBRjW,kBAAK+X,IC9Cd9Y,GAAYC,aAAW,iBAAO,CAClCiQ,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,SACXC,cAAe,cAEjB9C,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV8R,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,IAEd2S,eAAgB,CACd/V,MAAO,OACPyB,OAAQ,EACRT,QAAS,GAEXyU,WAAY,CACVzV,MAAO,QAET0V,aAAc,CACZ1U,QAAS,GAEXgV,SAAU,CACRvU,OAAQ,EACR6H,SAAU,GACVrK,YAAa,QAKX4Y,GAAwB,SAAC,GAQxB,IANLvhB,EAMI,EANJA,MACA4f,EAKI,EALJA,SACAxa,EAII,EAJJA,KAAMmU,EAIF,EAJEA,SAAUqD,EAIZ,EAJYA,aAAcC,EAI1B,EAJ0BA,cAC9B7U,EAGI,EAHJA,KAEA5E,EACI,EADJA,KAEM2F,EAAUP,KAEhB,OAAQR,EAAKC,eACX,QACA,IAAK,QACH,OACE,cAACsE,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,eAArC,UACoB,IAAjBmB,EAAyB,cAAC,GAAD,CAAmBxX,OAAMmU,aAAiB,OAEtE,cAAC/M,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAW,EACXF,OAAQ,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,SAA0Ca,IAClDkB,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,SAOE,cAACrC,GAAA,EAAD,CAASC,MAAOjJ,EAAO,aAAYA,EAAnC,SACE,cAACkO,GAAA,EAAD,CACE9M,GAAG,MACH4G,KAAK,SACLhI,MAAOA,EACPmO,SAAU,SAACmD,GACTsO,EAAS4B,SAASlQ,EAAI/B,cAAcvP,MAAO,cAMrD,cAACwM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,gBAArC,UACqB,IAAlBkB,EAA0B,cAAC,GAAD,CAAoBzX,OAAMmU,aAAiB,YAKhF,IAAK,SACH,OACE,cAAChN,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,eAArC,UACoB,IAAjBmB,EAAyB,cAAC,GAAD,CAAmBxX,OAAMmU,aAAiB,OAEtE,cAAC/M,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAW,EACXF,OAAQ,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,SAA0Ca,IAClDkB,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,SAOE,cAACrC,GAAA,EAAD,CAASC,MAAOjJ,EAAO,aAAYA,EAAnC,SACE,cAACqM,EAAA,EAAD,CAAMlD,UAAWJ,EAAQ0W,eAAzB,SACE,cAAC,GAAD,CACErc,KAAMA,EACNpD,MAAOA,EACPmO,SAAU,SAACmB,GACTsQ,EAAStQ,EAAEvD,OAAO/L,kBAO9B,cAACwM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,gBAArC,UACqB,IAAlBkB,EAA0B,cAAC,GAAD,CAAoBzX,OAAMmU,aAAiB,cAiBrEhQ,kBAAKgY,I,oCCnJdE,GAAoB,SAAC,GAKpB,IAJLrc,EAII,EAJJA,KAAMmU,EAIF,EAJEA,SAENmI,EAEI,EAFJA,WACG5W,EACC,mBACJ,EAAmCjM,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbkd,GAAeN,EADKK,KAAlBL,eAC2B1b,GAEnC,EAAsB9F,mBAASoiB,GAA/B,mBAAOjS,EAAP,KAAYkS,EAAZ,KAEM9c,EAAYC,kBAAO,GAEnB8c,EAAczgB,uBAAY,SAAC8b,GAC3BpY,EAAU0D,SACZoZ,EAAO1E,KAER,CAACpY,EAAW8c,IAef,OAbAvf,qBAAU,WAOR,YANqBV,IAAjB0f,IACFvc,EAAU0D,SAAU,EAEpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCqI,GACzCD,EAAOP,EAAa7H,KAEf,WACL1U,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCqI,MAE5C,CAAC3d,EAAWC,EAAakB,EAAMgc,EAAcQ,EAAarI,IAG3D,cAAC,GAAD,yBAGMnU,OACAmU,WACAmI,cAGA5W,GARN,IAUI9K,MAAOyP,EACPmQ,SAAU,SAAC3C,QACYvb,IAAjB0f,GACFA,EAAa,MAAD,OAAO7H,EAASsI,QAAQ,OAAO,SAAC1L,GAAD,OAAOA,EAAE2L,mBAAkB7E,QAQlFwE,GAAkBpY,iBAAmBC,EAOtBmY,UC1BAM,GAnCQ,SAAC,GAAc,IAAZ3e,EAAW,EAAXA,KAEtBgC,EACEhC,EADFgC,KAAMwF,EACJxH,EADIwH,MAAOlB,EACXtG,EADWsG,MAAO1B,EAClB5E,EADkB4E,KAEtB,OACE,eAAC,GAAD,CAAiB0B,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,SACvD,cAAC,GAAD,CACE5C,OAAMmU,SAAU,WAAYvR,KAAM,SAAU0Z,WAAY,MAAOte,KAAM,CAAC,MAAO,WAAY,WAAY,UAAWwZ,cAAc,EAAMC,eAAe,IAGrJ,cAAC,GAAD,CACEzX,OAAMmU,SAAU,SAAUvR,KAAM,QAAS0Z,WAAY,EAAGte,KAAM,EAAGwZ,cAAc,EAAMC,eAAe,IAGtG,cAAC,GAAD,CACEzX,OAAMmU,SAAU,QAASqD,cAAc,EAAOC,eAAe,EAD/D,SAIE,cAAC,GAAD,CAAkBzX,OAAMmU,SAAU,YAEpC,cAAC,GAAD,CAAcnU,KAAMA,QC3Bb4c,GAAoB7iB,wBAAc,MAEpC8iB,GAAyB,GAE9BC,GAAoB,SAAC,GAEpB,IADL7iB,EACI,EADJA,SAEQ0B,EAAYlC,cAAZkC,QAER,EAA4BzB,oBAAS,kBAAM,IAAI0B,OAAxCmhB,EAAP,oBAEMC,EAAyBtiB,mBAC7B,iBAAO,CACLuiB,cADK,SACSjhB,GACZ,OAAO+gB,EAAkB9gB,IAAID,IAE/BkhB,kBAJK,SAIa/gB,EAAYC,GAE5B2gB,EAAkBtgB,IAAIN,EAAYC,GAClCT,EAAQ,0BAA2BS,EAAK,QAE1C+gB,oBATK,SASehhB,GAElB4gB,EAAkBxgB,OAAOJ,GACzBR,EAAQ,0BAA2BQ,EAAY,WAEjDihB,mBAdK,WAeH,OAAOxgB,MAAMC,KAAKkgB,EAAkBjgB,QAAQC,KAAI,SAACf,GAAD,OAAQ+gB,EAAkB9gB,IAAID,UAGlF,CAAC+gB,EAAmBphB,IAWtB,OARAkhB,GAAyBniB,mBAAQ,+BAC/BqiB,qBACGC,KACD,CACFD,EACAC,IAIA,cAACJ,GAAkBjiB,SAAnB,CAA4BC,MAAOiiB,GAAnC,SACG5iB,KASP6iB,GAAkB7Y,iBAAmBC,EAEtB4Y,UCzDA,SAASO,KACtB,OAAO3jB,qBAAWkjB,ICOpB,IAmCe5E,GAnCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbwe,GAAeL,EADKI,KAAlBJ,eAC2Bjd,GACnC,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJqBV,IAAjBghB,IACF7d,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAStR,cAArB,YAA8CwV,IAElD,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAStR,cAArB,YAA8CwV,MAE1D,CAACxZ,EAAWC,EAAawe,EAAcnJ,EAAUkE,EAAYrY,SAE3C1D,IAAjBghB,EAAqC,cAAC,GAAD,CAAsB1iB,MAAO,CAAC,EAAG,EAAG,KAEtE,cAAC,GAAD,CAAsBA,MAAOud,KCtCvB,SAASoF,GAASC,GAG/B,IAFA,IACMC,EAAS,GACNC,EAAI,EAAGA,GAAK,IAAKA,GAAM,IAAMF,EACpCC,EAAOE,KAAK,CAHA,EAID,KAAY,EAAJD,GAJP,IAKVE,KAAKC,IAAIH,GAAKE,KAAKE,GAAK,QAG5B,OAAOL,ECTM,SAASM,GAAWP,GAGjC,IAFA,IACMC,EAAS,GACNC,EAAI,EAAGA,GAAK,IAAKA,GAAM,IAAMF,EACpCC,EAAOE,KAAK,CAHG,EAIbC,KAAKC,IAAIH,GAAKE,KAAKE,GAAK,MAJX,EAKbF,KAAKI,IAAIN,GAAKE,KAAKE,GAAK,QAG5B,OAAOL,ECDT,IAAMra,GAAYC,aAAW,iBAAO,CAClC4a,gBAAiB,CACf3Z,MAAO,SAACoB,GAAD,OAAYA,EAAMwY,WAAW,IACpC3Z,OAAQ,SAACmB,GAAD,OAAYA,EAAMwY,WAAW,IACrCzZ,SAAU,WACViL,OAAQ,OAINyO,GAAyB,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,MAAOF,EAAiB,EAAjBA,WACvC,EAA8ChkB,mBAAS,CAAC,EAAE,EAAG,GAAI,EAAE,EAAG,KAAtE,mBAAOmkB,EAAP,KAAwBC,EAAxB,KACA,EAA8BpkB,mBAAS,MAAvC,mBAAOqkB,EAAP,KAAgBC,EAAhB,KACMC,EAAY/e,iBAAO,MACzB,EAAoCxF,mBAAS,CAAC,CAAC,EAAG,GAAI,CAAC,EAAG,KAA1D,mBAAOwkB,EAAP,KAAmBC,EAAnB,KAEA3hB,qBAAU,gBAEkBV,IAAtBmiB,EAAUtb,UACZmb,EAAmB,CACjB,CAACV,KAAKgB,IAAL,MAAAhB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,QAAM0gB,KAAKiB,IAAL,MAAAjB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,SACrE,CAAC0gB,KAAKgB,IAAL,MAAAhB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,QAAM0gB,KAAKiB,IAAL,MAAAjB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,WAIvEshB,EAAWC,EAAUtb,QAAQ2b,WAAW,UAEzC,CAACL,EAAWL,EAAOE,IAEtBthB,qBAAU,WACQ,OAAZuhB,GAEFI,EAAcP,EAAMrhB,KAAI,SAACgiB,GAAD,MAAO,EAC5BA,EAAE,GAAKV,EAAgB,GAAG,KAAwB,GAAhBH,EAAW,GAAY,GAAsB,IAAhBA,EAAW,KACzEa,EAAE,GAAKV,EAAgB,GAAG,KAAwB,GAAhBH,EAAW,GAAY,GAAsB,IAAhBA,EAAW,UAG/E,CAACK,EAASH,EAAOC,EAAiBH,IAErClhB,qBAAU,WACR,GAAgB,OAAZuhB,EAAkB,EAENS,EAaTT,GAZCU,UAAY,EAChBD,EAAIE,YAAc,UAClBF,EAAIG,OAAOT,EAAW,GAAG,GAAIA,EAAW,GAAG,IAC3CA,EAAWzhB,SAAQ,SAAC8hB,GAClBC,EAAII,OACFL,EAAE,GACFA,EAAE,OAGNC,EAAIK,SAVO,IAACL,IAef,CAACT,EAASG,IAGb,IAAM/a,EAAUP,GAAU,CAAE8a,eAC5B,OACE,wBACE5Z,MAAO4Z,EAAW,GAClB3Z,OAAQ2Z,EAAW,GACnBna,UAAWJ,EAAQsa,gBACnB7hB,IAAKqiB,KAKXN,GAAuBla,iBAAmBC,EAO3BC,sBAAKga,IC3Ed/a,GAAYC,aAAW,iBAAO,CAClC4a,gBAAiB,CACf3Z,MAAO,SAACoB,GAAD,OAAYA,EAAMwY,WAAW,IACpC3Z,OAAQ,SAACmB,GAAD,OAAYA,EAAMwY,WAAW,IACrCzZ,SAAU,WACViL,OAAQ,GAEV4P,IAAK,CACHlW,WAAY,UACZyL,aAAc,MACdsC,OAAQ,iBACR7S,MAAO,EACPC,OAAQ,EACRE,SAAU,WACVuG,KAAM,SAACtF,GAAD,OAAYA,EAAM6Z,SAAS,IACjC9P,IAAK,SAAC/J,GAAD,OAAYA,EAAM6Z,SAAS,SAK9BC,GAAwB,SAAC,GAExB,IADLpB,EACI,EADJA,MAAOjK,EACH,EADGA,SAAU+J,EACb,EADaA,WAAYle,EACzB,EADyBA,KAE7B,EAAmCvG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbwe,GAAeL,EADKI,KAAlBJ,eAC2Bjd,GAEnC,EAA8B9F,mBAAS,GAAvC,mBAAOie,EAAP,KAAgBC,EAAhB,KACA,EAA8Cle,mBAAS,EAAE,EAAG,GAAI,EAAE,EAAG,IAArE,mBAAOmkB,EAAP,KAAwBC,EAAxB,KACA,EAAgCpkB,mBAAS,CAAC,EAAG,IAA7C,mBAAOqlB,EAAP,KAAiBE,EAAjB,KAEMhgB,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAEfpb,qBAAU,WAMR,YALqBV,IAAjBghB,IACF7d,EAAU0D,SAAU,EACpBiV,EAAWkF,EAAanJ,IACxBtV,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCkE,IAEpC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCkE,MAE5C,CAACxZ,EAAWC,EAAawe,EAAcnJ,EAAUkE,EAAYrY,IAEhEhD,qBAAU,WACRshB,EAAmB,CACjB,CAACV,KAAKgB,IAAL,MAAAhB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,QAAM0gB,KAAKiB,IAAL,MAAAjB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,SACrE,CAAC0gB,KAAKgB,IAAL,MAAAhB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,QAAM0gB,KAAKiB,IAAL,MAAAjB,KAAI,aAAQQ,EAAMrhB,KAAI,SAACG,GAAD,OAAOA,EAAE,aAEtE,CAACkhB,EAAOE,IAEXthB,qBAAU,WACRyiB,EAAY,EACTtH,EAAQ,GAAKkG,EAAgB,GAAG,KACb,GAAhBH,EAAW,GAAY,GAAsB,IAAhBA,EAAW,GAAa,MACvD/F,EAAQ,GAAKkG,EAAgB,GAAG,KACd,GAAhBH,EAAW,GAAY,GAAsB,IAAhBA,EAAW,GAAa,EAAG,MAE7D,CAAC/F,EAASkG,EAAiBH,IAG9B,IAAMva,EAAUP,GAAU,CAAE8a,aAAYqB,aACxC,OAAO,qBAAKxb,UAAWJ,EAAQsa,gBAAxB,SAAyC,qBAAKla,UAAWJ,EAAQ2b,SAU3Dnb,kBAAKqb,I,+DC5Edpc,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJgG,SAAU,EAEVoG,uBAAwB,OACxBI,wBAAyB,OACzBzL,SAAU,SACVkF,UAAW,QAEbF,QAAS,CACPlI,QAAS,EACToI,UAAW,QAEb4K,OAAQ,CACNlP,WAAY,QAEdmP,MAAO,CACLjU,MAAO,QAET8I,OAAQ,CACN9H,QAAS,EACTS,OAAQ,EACR6H,SAAU,QAEZ8R,WAAY,CACVpa,QAAS,EACTS,OAAQ,EACR6H,SAAU,QAEZ+R,YAAa,CACX1Z,SAAU,QAKR2Z,GAAsB,SAAC,GAEtB,IADLC,EACI,EADJA,OAAQC,EACJ,EADIA,SAAUC,EACd,EADcA,OAAQC,EACtB,EADsBA,QAEpBrc,EAAUP,KAChB,OACE,qBAAKW,UAAWJ,EAAQ8D,KAAxB,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAASV,UAAWJ,EAAQ2U,OAA7C,SACE,cAACtK,EAAA,EAAD,CACEhK,QAAQ,QACRD,UAAWJ,EAAQ6J,QAFrB,SAIE,eAACpG,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAA3B,UACE,cAACF,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACE,cAACoR,GAAA,EAAD,CACE5c,GAAG,cACH+H,UAAWJ,EAAQyJ,OACnBxH,QAAS,WACPka,GAAUD,IAJd,UAOe,IAAXA,EAEE,cAACjc,GAAA,EAAD,CAASC,MAAM,OAAO,aAAW,OAAjC,SACE,cAAC,KAAD,CAAeoC,SAAS,YAI1B,cAACrC,GAAA,EAAD,CAASC,MAAM,QAAQ,aAAW,QAAlC,SACE,cAAC,KAAD,CAAWoC,SAAS,gBAK9B,cAACmB,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,SACE,cAACoR,GAAA,EAAD,CACE5c,GAAG,cACH+H,UAAWJ,EAAQ+b,WACnB9Z,QAAS,WACPoa,GAASD,IAJb,UAOe,IAAXA,EAEE,cAACnc,GAAA,EAAD,CAASC,MAAM,UAAU,aAAW,UAApC,SACE,cAAC,KAAD,CAAYoC,SAAS,YAIvB,cAACrC,GAAA,EAAD,CAASC,MAAM,OAAO,aAAW,OAAjC,SACE,cAAC,KAAD,CAAYkL,MAAM,WAAW9I,SAAS,gBAKhD,cAACmB,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,cAeZrD,kBAAKyb,IC5GdK,GAAkB,SAAC,GAAc,IAAZjgB,EAAW,EAAXA,KACzB,EAAmCvG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEnB,EAAgC5E,oBAAS,GAAzC,mBAAOgmB,EAAP,KAAiBC,EAAjB,KACA,EAAgCjmB,oBAAS,GAAzC,mBAAOkmB,EAAP,KAAiBC,EAAjB,KAEM5gB,EAAYC,kBAAO,GAEnB4gB,EAAcvkB,uBAAY,SAACsO,GAC3B5K,EAAU0D,SACZgd,EAAY9V,KAEb,CAAC5K,EAAW0gB,IAETI,EAAaxkB,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZkd,EAAYhW,KAEb,CAAC5K,EAAW4gB,IAiBf,OAfArjB,qBAAU,WAQR,OAPAyC,EAAU0D,SAAU,EAEpBtE,EAAU,GAAD,OAAImB,EAAJ,mBAA2BsgB,GAGpCzhB,EAAU,GAAD,OAAImB,EAAJ,mBAA2BugB,GAE7B,WACL9gB,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,mBAA2BsgB,GACtCxhB,EAAY,GAAD,OAAIkB,EAAJ,mBAA2BugB,MAEvC,CAACvgB,EAAMnB,EAAWC,EAAawhB,EAAaC,IAG7C,cAAC,GAAD,CACEV,OAAQK,EACRH,OAAQK,EACRN,SAAU,aAKVE,QAAS,gBAUfC,GAAgBhc,iBAAmBC,EAMpB+b,UC3CT7c,GAAYC,aAAW,iBAAO,CAClCmd,eAAgB,CACdlc,MAAO,OACPC,OAAQ,IACRe,QAAS,SAEX8N,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV8R,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,QAyGD+Y,GArGM,SAAC,GAAwB,IAAtBzgB,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC5B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YACnB,EAA8Cue,KAAtCJ,EAAR,EAAQA,cAAeG,EAAvB,EAAuBA,mBAEvB,EAAkCljB,mBAAS,MAA3C,mBAAOwmB,EAAP,KAAkBC,EAAlB,KAEMlhB,EAAYC,kBAAO,GAEnBkhB,EAAkB7kB,uBAAY,SAACsO,GAC/B5K,EAAU0D,SACZwd,EAAatW,KAEd,CAAC5K,EAAWkhB,IAEf3jB,qBAAU,WACR,IAAMsgB,EAAeL,EAAcjd,GAMnC,YALqB1D,IAAjBghB,IACF7d,EAAU0D,SAAU,EACpBwd,EAAarD,GACbze,EAAU,0BAA2B+hB,IAEhC,WACLnhB,EAAU0D,SAAU,EACpBrE,EAAY,0BAA2B8hB,MAExC,CAAC/hB,EAAWC,EAAa8hB,EAAiB3D,EAAejd,EAAMod,IAElE,MAA0BljB,mBAAS,CAAC,EAAE,GAAI,GAAI,CAAC,EAAG,GAAI,CAAC,GAAI,GAAI,EAAE,EAAG,KAApE,mBAAOkkB,EAAP,KAAcyC,EAAd,KAEMC,EAAWphB,iBAAO,MACxB,EAA0CxF,mBAAS,CAAC,EAAG,IAAvD,mBAAO6mB,EAAP,KAAsBC,EAAtB,KAGMrd,EAAUP,KAEhBpG,qBAAU,WACRgkB,EACEF,EAAS3d,QACL,CAAgC,GAA/B2d,EAAS3d,QAAQ8B,YAAmB6b,EAAS3d,QAAQ8d,cAAgB,CAAC,EAAG,MAE/E,CAACH,EAAUE,IAEdhkB,qBAAU,WACR,GAAI0jB,EACF,OAAQA,EAAU9d,KAAKC,eACrB,QACA,IAAK,WACHge,EAAStD,GAASmD,EAAUlD,aAC5B,MACF,IAAK,QACHqD,EAAS9C,GAAW2C,EAAUlD,gBAInC,CAACqD,EAAUH,IAEd,IAAoB3B,EAAGpa,EAmBvB,OACE,cAACwC,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,iBACrC,cAACjP,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAW,EACXF,OAAQ,cAAC,GAAD,CAAiBpV,KAAMA,IAC/BqV,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,UAxBY8Y,EA+BGX,EA/BAzZ,EA+BOoc,EA9BV,OAAdL,EAEA,qBAAK3c,UAAWJ,EAAQ6c,eAAgBpkB,IAAK0kB,EAA7C,SACE,cAAC,GAAD,CAA8B1C,MAAOW,EAAGb,WAAYvZ,MAKxD,sBAAKZ,UAAWJ,EAAQ6c,eAAgBpkB,IAAK0kB,EAA7C,UACE,cAAC,GAAD,CACE1C,MAAOW,EAAG4B,eAAcxM,WAAU+J,WAAYvZ,EAAM3E,SAGtD,cAAC,GAAD,CAA8Boe,MAAOW,EAAGb,WAAYvZ,YAoBpD,cAACyC,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,wBCzIvCuC,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACdkhB,EAAoBznB,cAApBynB,gBACR,OACE,cAAC,GAAD,CACElhB,OAAM0Y,UAAWwI,EAAiBnK,UAAW,gBAMnD+B,GAAa7U,iBAAmBC,EAMjB4U,UCTT1V,GAAYC,aAAW,iBAAO,CAClCiQ,SAAU,CACRrN,SAAU,OACVsC,WAAY,SACZ0N,UAAW,UAEb7C,SAAU,CACRrN,OAAQ,EACRT,QAAS,EACTwQ,QAAS,SACTC,aAAc,oCAEhBC,SAAU,CACR1R,MAAO,OACPC,OAAQ,QAEV8R,eAAgB,CACd/Q,QAAS,EACTgR,YAAa,EACb5O,WAAY,IAEd6O,gBAAiB,CACfjR,QAAS,EACTkR,aAAc,EACd9O,WAAY,IAEd2N,WAAY,CACV/P,QAAS,OAKP6b,GAAwB,SAAC,GAExB,IADLC,EACI,EADJA,IAAKC,EACD,EADCA,OAEC1d,EAAUP,KAChB,OACE,cAAC+D,EAAA,EAAD,CAAUD,OAAK,EAACnD,UAAWJ,EAAQyP,SAAnC,SACE,eAAChM,EAAA,EAAD,CAAMC,QAAS,EAAGC,WAAS,EAACvD,UAAWJ,EAAQqS,SAA/C,UACE,cAAC5O,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ0S,iBACrC,cAACjP,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,GAAD,CACE8N,aAAW,EACXF,OAAQ,cAACtR,EAAA,EAAD,CAAYC,UAAWJ,EAAQ2P,SAA/B,0BACR+B,WACE,cAAC,KAAD,CAAgBpP,SAAS,UAJ7B,SAOE,cAACrC,GAAA,EAAD,CAASC,MAAK,UAAKud,EAAL,kBAAkBA,EAAM,IAAItJ,QAAQ,GAApC,OAA6C,uBAAesJ,EAAf,QAA3D,SACE,cAACtY,GAAA,EAAD,CACE9M,GAAG,MACH4G,KAAK,SACLhI,MAAOwmB,EACPrY,SAAU,SAACmD,GACTmV,EAAOnV,EAAI/B,cAAcvP,gBAMnC,cAACwM,EAAA,EAAD,CAAMG,MAAI,EAACC,GAAI,EAAGzD,UAAWJ,EAAQ4S,wBAW9BpS,kBAAKgd,IC3EdG,GAAoB,SAAC,GAAc,IAAZthB,EAAW,EAAXA,KAC3B,EAAmCvG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbwe,GAAeL,EADKI,KAAlBJ,eAC2Bjd,GAEnC,EAAwB9F,mBAAS,GAAjC,mBAAOqnB,EAAP,KAAaC,EAAb,KACA,EAAsBtnB,mBAAS,GAA/B,mBAAOunB,EAAP,KAAYC,EAAZ,KAEMjiB,EAAYC,kBAAO,GAEnBiiB,EAAY5lB,uBAAY,SAACsO,GACzB5K,EAAU0D,SACZqe,EAAQnX,KAET,CAAC5K,EAAW+hB,IAETI,EAAY7lB,uBAAY,SAACsO,GACzB5K,EAAU0D,SACZue,EAAOrX,KAER,CAAC5K,EAAWiiB,IAmBf,OAjBA1kB,qBAAU,WAUR,YATqBV,IAAjBghB,IACF7d,EAAU0D,SAAU,EAEpBtE,EAAU,GAAD,OAAImB,EAAJ,gBAAwB2hB,GACjCH,EAAQlE,EAAa8D,KAErBviB,EAAU,GAAD,OAAImB,EAAJ,uBAA+B4hB,GACxCF,EAAOpE,EAAaE,aAEf,WACL/d,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,gBAAwB2hB,GACnC7iB,EAAY,GAAD,OAAIkB,EAAJ,uBAA+B4hB,MAE3C,CAAC/iB,EAAWC,EAAakB,EAAMsd,EAAcqE,EAAWC,IAGzD,cAAC,GAAD,CACEpE,WAAYiE,EACZL,IAAKG,EACLM,cAAe,SAACxX,QACO/N,IAAjBghB,GACFA,EAAauE,cAAcxX,IAG/BgX,OAAQ,SAAChX,QACc/N,IAAjBghB,GACFA,EAAawE,OAAOzX,OAQ9BiX,GAAkBrd,iBAAmBC,EAMtBod,UC7DTS,GAAY,SAAC,GAAc,IAAZ/jB,EAAW,EAAXA,KACXgC,EAAuBhC,EAAvBgC,KAAMwF,EAAiBxH,EAAjBwH,MAAOlB,EAAUtG,EAAVsG,MAErB,OACE,eAAC,GAAD,CAAiBA,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,KAAM,cAC7D,cAAC,GAAD,CAAoB5C,OAAMmU,SAAU,aACpC,cAAC,GAAD,CAAmBnU,KAAMA,IACzB,cAAC,GAAD,CACEA,OAAMmU,SAAU,WAAYqD,cAAc,EAAMC,eAAe,EADjE,SAIE,cAAC,GAAD,CAAkBzX,OAAMmU,SAAU,eAEpC,cAAC,GAAD,CAAcnU,KAAMA,QAK1B+hB,GAAU9d,iBAAmBC,EAUdC,sBAAK4d,ICIL/J,GAnCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEbkjB,GAAUlmB,EADKkD,IAAblD,UACiBkE,GACzB,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJgBV,IAAZ0lB,IACFviB,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAStR,cAArB,YAA8CwV,IAElD,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAStR,cAArB,YAA8CwV,MAE1D,CAACxZ,EAAWC,EAAakjB,EAAS7N,EAAUkE,EAAYrY,SAE3C1D,IAAZ0lB,EAAgC,cAAC,GAAD,CAAsBpnB,MAAO,CAAC,EAAG,EAAG,KAEjE,cAAC,GAAD,CAAsBA,MAAOud,KC/BhCW,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACdiiB,EAAexoB,cAAfwoB,WACR,OACE,cAAC,GAAD,CACEjiB,OAAM0Y,UAAWuJ,EAAYlL,UAAW,gBAM9C+B,GAAa7U,iBAAmBC,EAMjB4U,UC+BAoJ,GA1CG,SAAC,GAAc,IAAZlkB,EAAW,EAAXA,KACXgC,EAAgBhC,EAAhBgC,KAAMsE,EAAUtG,EAAVsG,MACNjE,EAAmB9C,KAAnB8C,eACR,EAAwBnG,mBAAS,MAAjC,mBAAOyI,EAAP,KAAawf,EAAb,KAEA,EAAoCjoB,mBAAS,IAA7C,mBAAO+e,EAAP,KAAmBmJ,EAAnB,KAmBA,OAjBAplB,qBAAU,WACK,OAAT2F,GACFyf,EAAc,CACZ,CACEpiB,KAAM2C,EAAK3C,KAAMmU,SAAU,OAAQqD,cAAc,EAAOC,eAAe,OAI5E,CAAC9U,IAEJ3F,qBAAU,WACR,IAAME,EAAImD,EAAeL,QACf1D,IAANY,GACFilB,EAAQjlB,KAET,CAAC8C,EAAMK,EAAgB8hB,IAEb,OAATxf,EAAwB,KAG1B,eAAC,GAAD,CAAiB2B,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAKiB,EAAKjB,MAAQ1B,KAAK,GAAD,OAAK2C,EAAK3C,MAAQ4C,KAAM,SACrEqW,EAAWlc,KAAI,SAACG,GAAD,OAAQ,cAAC,GAAD,2BAA0DA,GAA1D,aAA6D,cAAC,GAAD,CAAkB8C,KAAM2C,EAAK3C,KAAMmU,SAAUjX,EAAEiX,aAA5G,UAAsBxR,EAAK3C,KAA3B,YAAmC9C,EAAEiX,SAArC,aACxB,cAAC,GAAD,CAAcnU,KAAM2C,EAAK3C,WCnCzB8Y,GAAe,SAAC,GAAc,IAAZ9Y,EAAW,EAAXA,KACdqiB,EAAiB5oB,cAAjB4oB,aACR,OACE,cAAC,GAAD,CACEriB,OAAM0Y,UAAW2J,EAActL,UAAW,gBAMhD+B,GAAa7U,iBAAmBC,EAMjB4U,UCwBAd,GApCI,SAAC,GAAwB,IAAtBhY,EAAqB,EAArBA,KAAMmU,EAAe,EAAfA,SAC1B,EAAmC1a,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb+a,GAAYL,EADKI,KAAfJ,YACqBxZ,GAE7B,EAA8B9F,mBAAS,CAAC,EAAG,EAAG,IAA9C,mBAAOie,EAAP,KAAgBC,EAAhB,KAEM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAaf,OAXApb,qBAAU,WAKR,YAJkBV,IAAdud,IACFpa,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,YAAYmU,EAAZ,YAAgCkE,IAEpC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,YAAYmU,EAAZ,YAAgCkE,MAE5C,CAACxZ,EAAWC,EAAa+a,EAAW1F,EAAUkE,EAAYrY,SAE3C1D,IAAdud,EAAkC,cAAC,GAAD,CAAsBjf,MAAO,CAAC,EAAG,EAAG,KAEnE,cAAC,GAAD,CAAsBA,MAAOud,KCCvBmK,GA7BM,SAAC,GAAc,IAAZtkB,EAAW,EAAXA,KAEpBgC,EACEhC,EADFgC,KAAMsE,EACJtG,EADIsG,MAAOkB,EACXxH,EADWwH,MAAO5C,EAClB5E,EADkB4E,KAGhBqW,EAAa,CACjB,CACEjZ,OAAMmU,SAAU,cAAeqD,cAAc,EAAOC,eAAe,IAIvE,OACE,eAAC,GAAD,CAAiBnT,QAAjB,UACE,cAAC,GAAD,CAAoB5C,KAAK,GAAD,OAAK8D,GAASxF,KAAK,GAAD,OAAKA,GAAQ4C,SACtDqW,EAAWlc,KAAI,SAACG,GAAD,OAAQ,cAAC,GAAD,2BAAuDA,GAAvD,aAA0D,cAAC,GAAD,CAAkB8C,KAAM9C,EAAE8C,KAAMmU,SAAUjX,EAAEiX,aAAtG,UAAsBjX,EAAE8C,KAAxB,YAAgC9C,EAAEiX,SAAlC,aACxB,cAAC,GAAD,CAAcnU,KAAMA,QCNXuiB,GAdK,SAAC,GAAc,IAAZvkB,EAAW,EAAXA,KAIjB,OAHaA,EAAT4E,KACKC,cAED,cAAC2f,GAAD,CAAoBxkB,UCK5BoF,GAAYC,aAAW,iBAAO,CAClCof,iBAAkB,CAChBlf,YAAa,OACbC,WAAY,OACZc,MAAO,QAEToe,cAAe,CAAEC,QAAS,GAC1BC,kBAAmB,CAAED,QAAS,OAuFjBE,GApFI,SAAC,GAEb,IADLC,EACI,EADJA,QAASC,EACL,EADKA,QAASC,EACd,EADcA,eAAgBC,EAC9B,EAD8BA,QAASC,EACvC,EADuCA,QAASC,EAChD,EADgDA,eAAgBnnB,EAChE,EADgEA,GAAIiQ,EACpE,EADoEA,MAElEtI,EAAUP,KAERggB,EAAqB3pB,cAArB2pB,iBAER,EAAoClpB,oBAAS,GAA7C,mBAAOmpB,EAAP,KAAmBC,EAAnB,KAEMC,EAAWC,aAAkB,CACjCV,UAASC,UAASC,iBAAgBC,UAASC,UAASC,mBAEtD,EAAmCM,aAAc,CAC/CX,UACAC,UACAE,UACAC,YAJF,mBAAOQ,EAAP,KAAoBC,EAApB,KAOA,OACE,oBACEC,YAAa,WAAQN,GAAc,IACnCO,WAAY,WAAQP,GAAc,IAFpC,UAIE,+BACE,wBACEtnB,GAAG,YACH8nB,YAAY,KACZC,aAAa,KACbC,QAAQ,gBACRC,OAAO,OACPC,KAAK,KACLC,KAAK,IAPP,SASE,0BACE9E,OAAO,OACP+E,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,KAAK,OACL9G,OAAO,6BAIb,wBAAQ+G,GAAI1B,EAAS2B,GAAI1B,EAASwB,KAAK,OAAOrf,EAAG,EAAGma,OAAO,OAAOiF,YAAa,MAC/E,sBAAMtoB,GAAIA,EAAIiQ,MAAOA,EAAOlI,UAAU,wBAAwBqW,EAAGmJ,EAAUmB,UAAU,oBACrF,+BACEpgB,MA7BoB,GA8BpBC,OA9BoB,GA+BpBogB,EAAGjB,EAAckB,GACjBC,EAAGlB,EAAciB,GACjB7gB,UAAW8B,YAAKlC,EAAQ+e,cAAT,eACZ/e,EAAQif,kBAAoBS,IAE/ByB,mBAAmB,+BARrB,SAUE,cAAC,GAAD,CAEItf,MAAO,SACPC,WAAY,WACV2d,EAAiB,CAAEpnB,QAGvB+H,UAAWJ,EAAQ8e,iBAPrB,SASE,cAAC,KAAD,CAAiBhU,KAAMwE,eC3E3B7P,GAAYC,aAAW,iBAAO,CAClCof,iBAAkB,CAChBlf,YAAa,OACbC,WAAY,OACZc,MAAO,QAEToe,cAAe,CAAEC,QAAS,GAC1BC,kBAAmB,CAAED,QAAS,OAyFjBoC,GAtFW,SAAC,GAGpB,IAFLjC,EAEI,EAFJA,QAASC,EAEL,EAFKA,QAASC,EAEd,EAFcA,eAAgBC,EAE9B,EAF8BA,QAASC,EAEvC,EAFuCA,QAASC,EAEhD,EAFgDA,eAAgBnnB,EAEhE,EAFgEA,GAAIiQ,EAEpE,EAFoEA,MACxE4F,EACI,EADJA,OAEMlO,EAAUP,KAER4hB,EAAqBvrB,cAArBurB,iBAER,EAAoC9qB,oBAAS,GAA7C,mBAAOmpB,EAAP,KAAmBC,EAAnB,KAEMC,EAAW0B,aAAc,CAC7BnC,UAASC,UAASC,iBAAgBC,UAASC,UAASC,mBAEtD,EAAmCM,aAAc,CAC/CX,UACAC,UACAE,UACAC,YAJF,mBAAOQ,EAAP,KAAoBC,EAApB,KAOA,OACE,oBACEC,YAAa,WAAQN,GAAc,IACnCO,WAAY,WAAQP,GAAc,IAFpC,UAIE,+BACE,wBACEtnB,GAAG,mBACH8nB,YAAY,KACZC,aAAa,KACbC,QAAQ,gBACRC,OAAO,OACPC,KAAK,KACLC,KAAK,IAPP,SASE,0BACE9E,OAAO,OACP+E,cAAc,QACdC,eAAe,QACfC,YAAY,IACZC,KAAK,OACL9G,OAAO,6BAIb,wBAAQ+G,GAAI1B,EAAS2B,GAAI1B,EAASwB,KAAK,OAAOrf,EAAG,EAAGma,OAAO,OAAOiF,YAAa,MAC/E,sBAAMtoB,GAAIA,EAAIiQ,MAAOA,EAAOlI,UAAU,wBAAwBqW,EAAGmJ,EAAUmB,UAAU,2BACrF,+BACEpgB,MA7BoB,GA8BpBC,OA9BoB,GA+BpBogB,EAAGjB,EAAckB,GACjBC,EAAGlB,EAAciB,GACjB7gB,UAAW8B,YAAKlC,EAAQ+e,cAAT,eACZ/e,EAAQif,kBAAoBS,IAE/ByB,mBAAmB,+BARrB,SAUE,cAAC,GAAD,CAEItf,MAAO,aACPC,WAAY,WACVuf,EAAiB,CAAEhlB,KAAM6R,KAG7B9N,UAAWJ,EAAQ8e,iBAPrB,SASE,cAAC,KAAD,CAAiBhU,KAAMwE,e,qBCjF3B7P,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJnD,MAAO,OACPC,OAAQ,YAIN2gB,GAAS,aAOTC,GAAiB,SAAC,GAEjB,IADLC,EACI,EADJA,SAAUC,EACN,EADMA,UAAWC,EACjB,EADiBA,UAAWC,EAC5B,EAD4BA,iBAAkBC,EAC9C,EAD8CA,cAE5CC,EAAa,IAAIC,KAAMC,SAASC,MACtCH,EAAWI,qBAAoB,iBAAO,MAEtC,IAA6BC,EA4CvBC,GA5CuBD,EA4CgBV,EAASxlB,QAAO,SAAComB,GAAD,OAASA,EAAGrV,YA3CvE8U,EAAWQ,SAAS,CAClBC,QAAS,KACTC,MAAO,KAGPC,QAAS,GACTC,QAAS,EACTC,QAAS,GACTC,QAAS,GACTC,QAAS,KAGXV,EAAM7oB,SAAQ,SAAC+oB,GACTS,aAAOT,GACTP,EAAWiB,QAAQV,EAAGhqB,GAAI,CAAEsI,MAxBlB,IAwBoCC,OAvBnC,MAyBXkhB,EAAWkB,QAAQX,EAAGnU,OAAQmU,EAAGrf,WAIrC+e,KAAMkB,OAAOnB,GAENK,EAAMlmB,QAAO,SAAComB,GAAD,OAASA,EAAGrV,YAAU5T,KAAI,SAACipB,GAC7C,IAAIa,EAAW,GACf,GAAIJ,aAAOT,GAAK,CACd,IAAMc,EAAmBrB,EAAWsB,KAAKf,EAAGhqB,IAC5C6qB,EAAW,CACT1D,eAAgB,QAChBH,eAAgB,OAChBve,SAAU,CACRkgB,EAAGmC,EAAiBnC,EAAIqC,GAAgBpJ,KAAKqJ,SAAW,IACxDpC,EAAGiC,EAAiBjC,EAAIqC,MAK9B,OAAO,2BACFlB,GACAa,OAMHljB,EAAUP,KAChB,OACE,qBAAKW,UAAWJ,EAAQ8D,KAAxB,SACE,cAAC,KAAD,CACE2d,SAAUW,EACVV,UAAWA,EACXC,UAAWA,EACXJ,OAAQA,GACRiC,YAAU,EACVC,aAAc7B,EACdhR,UAAWiR,EAPb,SASE,cAAC,KAAD,SAMRL,GAAelhB,iBAAmBC,EAUnBC,sBAAKghB,ICpFdkC,GAAa,WACjB,MAAgCntB,mBAAS,IAAzC,mBAAOkrB,EAAP,KAAiBkC,EAAjB,KACA,EAAuD7tB,cAA/C2R,EAAR,EAAQA,UAAWma,EAAnB,EAAmBA,iBAAkBC,EAArC,EAAqCA,cAErC9qB,mBAAQ,WAAQ4sB,EAAYrW,GAAc7F,MAAgB,CAACA,IAE3D,IAAMia,EAAY,CAChBkC,SACAtP,SAAUuP,GACVC,OAAQC,GACRC,UAAWC,GACXlH,UAAWqB,GACXpf,KAAMklB,GACNC,OAAQC,IAGJzC,EAAY,CAChB0C,OAAQnF,GACRoF,cAAelD,IAGjB,OACE,cAAC,GAAD,CACEK,WAAUC,YAAWC,YAAWC,mBAAkBC,mBAMxD6B,GAAWpjB,iBAAmBC,EAEfmjB,UCxCTjkB,GAAYC,aAAW,iBAAO,CAClC+J,OAAQ,OAGJ8a,GAAoB,WACxB,IAAMvkB,EAAUP,KAChB,EAA8CvI,IAAtCR,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,kBAExB,OACE,cAAC,GAAD,CAEIkL,MAAO,QACPC,WAAY,WACVnL,GAAmBD,IAGvB0J,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAWnH,SAAS,aAK1BiiB,GAAkBjkB,iBAAmBC,EAEtBgkB,U,qBCzBT9kB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvC5D,WAAY,CACV9B,YAAa0F,EAAM5B,QAAQ,QAIzB8gB,GAA2B,SAAC,GAAmB,IAAjB/c,EAAgB,EAAhBA,UAC5BzH,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,iBACPC,WAAY,WAEV,IAAM2iB,EAAOC,SAASC,cAAc,KACpCF,EAAKG,SAAW,gBAChBH,EAAKnnB,KAAL,uCAA4CunB,mBAAmBpqB,KAAKC,UAAU+M,KAC9Egd,EAAKK,SAGT1kB,UAAWJ,EAAQ0B,WAXrB,SAaE,cAAC,KAAD,CAAYY,SAAS,aAK3BkiB,GAAyBlkB,iBAAmBC,EAM7BC,sBAAKgkB,ICtCdO,GAAuB,WAC3B,IAAQtd,EAAc3R,cAAd2R,UACR,OAAO,cAAC,GAAD,CAAgCA,eAGzCsd,GAAqBzkB,iBAAmBC,EAEzBwkB,U,yCCOTtlB,GAAYC,aAAW,iBAAO,CAClCqG,KAAM,CACJpE,QAAS,EACThB,MAAO,QAETwC,aAAc,CACZC,UAAW,QAIT4hB,GAAkB,SAAC,GAAmB,IAAjBjd,EAAgB,EAAhBA,UACzB,EAA+BjS,cAAvBmvB,EAAR,EAAQA,QAASxd,EAAjB,EAAiBA,UACT5K,EAAwBjD,KAAxBiD,oBACR,EAAmC/G,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb6E,EAAUP,KAEhB,EAAsClJ,mBAAS,IAA/C,mBAAO4S,EAAP,KAAoBC,EAApB,KAEA/P,qBAAU,WACR,IAAM2F,EAAOnC,SACAlE,IAATqG,GACFoK,EAAepK,EAAK/C,QAAO,SAAC1C,GAAD,OAASA,EAAE2C,WAEvC,CAACkN,EAAgBvM,IAEpB,IAAMf,EAAYC,kBAAO,GAEnBsN,EAAoBjR,uBAAY,WACpC,GAAI0D,EAAU0D,QAAS,CACrB,IAAMR,EAAOnC,SACAlE,IAATqG,GACFoK,EAAepK,EAAK/C,QAAO,SAAC1C,GAAD,OAASA,EAAE2C,YAGzC,CAACW,IAaJ,OAXAxD,qBAAU,WAKR,YAJ0BV,IAAtB0Q,IACFvN,EAAU0D,SAAU,EACpBtE,EAAU,sBAAuBmO,IAE5B,WACLvN,EAAU0D,SAAU,EACpBrE,EAAY,sBAAuBkO,MAEpC,CAACnO,EAAWC,EAAakO,IAED,IAAvBF,EAAYG,OAEZ,oBAAIlJ,UAAWJ,EAAQ+F,KAAvB,SACE,cAACmf,GAAA,EAAD,mCAMJ,qBAAI9kB,UAAWJ,EAAQ+F,KAAvB,UACE,cAACmf,GAAA,EAAD,uBACC/b,EAAY/P,KAAI,SAACmG,GAAD,OACf,eAACoJ,GAAA,EAAD,CACEpF,OAAK,EAEL4hB,SAAW1d,EAAUiG,MAAMzR,QAAO,SAAC1C,GAAD,OAAOA,EAAE8C,OAASkD,EAAWlD,QAAMiN,OAAS,EAC9ErH,QAAS,WAAQgjB,EAAQ1lB,EAAWlD,MAAO0L,KAJ7C,UAME,cAACtG,GAAA,EAAD,UACGkN,GAAc,UAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,mBAAkCd,EAAWxB,KAA7C,aAAsDwB,EAAWlD,KAAjE,SATF,wBAEwBkD,EAAWlD,KAFnC,YAE2CkD,EAAW9C,sBAc9DuoB,GAAgB1kB,iBAAmBC,EAMpBykB,UC3FTvlB,GAAYC,aAAW,iBAAO,CAClC+J,OAAQ,OAGJ2b,GAA4B,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAC7BrlB,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,QACPC,WAAY,SAACyG,GACX8c,EAAY9c,IAGhBnI,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAWnH,SAAS,aAS1B8iB,GAA0B9kB,iBAAmBC,EAE9BC,sBAAK4kB,ICjCdE,GAAwB,SAACvjB,GAAD,OAC5B,cAAC,GAAD,eAA+BA,KAGjCujB,GAAsBhlB,iBAAmBC,EAE1B+kB,UCMT7lB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAK,aACHgG,SAAU,GAEPxE,EAAMsE,OAAOC,SAElBG,QAAS,CACPC,SAAU,YAIRsb,GAAwB,SAAC,GAAwC,IAAtCxd,EAAqC,EAArCA,UAAW9Q,EAA0B,EAA1BA,MAAOkT,EAAmB,EAAnBA,aAC3CnK,EAAUP,KAChB,OACE,qBAAKW,UAAWJ,EAAQ8D,KAAxB,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAAjB,SACE,eAACuJ,EAAA,EAAD,CACEhK,QAAQ,QADV,UAGE,cAAC,GAAD,CAAuBglB,YAAatd,IACpC,qBAAK3H,UAAWJ,EAAQsK,SACxB,eAACC,GAAA,EAAD,CACEtT,MAAOA,EACPmO,SAAU+E,EACV9J,QAAQ,aACRqK,eAAe,YACfC,UAAU,YACVC,cAAc,MACd,aAAW,kCAPb,UASE,cAAC3K,GAAA,EAAD,CAASC,MAAM,aAAa,aAAW,aAAvC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAO,cAAC,KAAD,CAAiBA,KAAMkE,OAC9B,aAAW,UAET3W,GAAI,gBACJ,gBAAiB,yBAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,aAAa,aAAW,aAAvC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAMgE,OAC7B,aAAW,aAETzW,GAAI,mBACJ,gBAAiB,4BAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,QAAQ,aAAW,QAAlC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAME,OAC7B,aAAW,QAET3S,GAAI,cACJ,gBAAiB,uBAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,UAAU,aAAW,UAApC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAMiE,OAC7B,aAAW,UAET1W,GAAI,gBACJ,gBAAiB,yBAIvB,cAAC4H,GAAA,EAAD,CAASC,MAAM,aAAa,aAAW,aAAvC,SACE,cAAC2K,GAAA,EAAD,CACE7K,QAAS,CACP8D,KAAM9D,EAAQgK,SAEhBc,KAAM,cAAC,KAAD,CAAiBA,KAAM0a,OAC7B,aAAW,aAETntB,GAAI,mBACJ,gBAAiB,uCAiBpBmI,kBAAK+kB,ICxHdE,GAAoB,SAAC1jB,GAAD,OACxB,cAAC,GAAD,eAA2BA,KAG7B0jB,GAAkBnlB,iBAAmBC,EAEtBklB,U,gCCiBThmB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAM,CACJgG,SAAU,EACVnJ,MAAO,OACP4S,gBAAiBjO,EAAMI,QAAQD,WAAWE,OAE5CA,MAAO,GAIPI,KAAM,CACJpF,MAAO,OACPoD,WAAY,GAEd2hB,SAAU,CACR/kB,MAAO,OACPgB,QAAS,EACTS,OAAQ,GAEVujB,SAAU,CACRhkB,QAAS,UAEX8H,OAAQ,OAGJmc,GAAW,SAAC,GAEX,IADLtvB,EACI,EADJA,SAAUW,EACN,EADMA,MAAO4uB,EACb,EADaA,MAAU9jB,EACvB,mBACE/B,EAAUP,KAEhB,OACE,6CACEyE,KAAK,WACLyI,OAAQ1V,IAAU4uB,EAClBxtB,GAAE,sCAAiCwtB,GACnC,mDAA2CA,IACvC9jB,GALN,aAOG9K,IAAU4uB,GACT,cAACC,GAAA,EAAD,CAAK9lB,QAAS,CAAE8D,KAAM9D,EAAQ2lB,UAAYpsB,EAAG,EAA7C,SACE,8BAAMjD,UA6JDyvB,GAhJQ,WACrB,IAAM/lB,EAAUP,KAChB,EAA0BumB,IAAMzvB,SAAS,GAAzC,mBAAOU,EAAP,KAAc4f,EAAd,KAMA,EAGI/gB,cAFFmwB,EADF,EACEA,YAAaC,EADf,EACeA,aACbC,EAFF,EAEEA,UAAWC,EAFb,EAEaA,aAGb,EAAgC7vB,mBAAS,MAAzC,mBAAOoR,EAAP,KAAiBC,EAAjB,KACMC,EAAOC,QAAQH,GAMfI,EAAY,WAChBH,EAAY,OAGRye,EAAY,SAACpnB,GACjBgnB,EAAYhnB,GACZ8I,KAGF,OACE,gCACE,cAAC,GAAD,CAEIlG,MAAO,MACPC,WAAY,SAACyG,GAjBnBX,EAkBiBW,EAlBC/B,gBAqBd,aAAW,MACX,gBAAc,cACd,gBAAc,OACdpG,UAAWJ,EAAQyJ,OAVrB,SAYE,cAAC,KAAD,CAASnH,SAAS,YAEpB,cAACkG,GAAA,EAAD,CACEpI,UAAWJ,EAAQsmB,KACnBjuB,GAAG,cACHsP,SAAUA,EACVc,aAAW,EACX8d,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEd5e,KAAMA,EACNa,QAASX,EACT/H,QAAS,CACP2F,MAAO3F,EAAQ2F,MACfI,KAAM/F,EAAQ+F,MAjBlB,SAoBE,sBAAK3F,UAAWJ,EAAQ8D,KAAxB,UACE,cAAC,GAAD,CAAyB7M,QAAOkT,aA9DnB,SAACK,EAAOC,GAC3BoM,EAASpM,IA6D2C1C,cAC9C,cAAC,GAAD,CAAU9Q,MAAOA,EAAO4uB,MAAO,EAA/B,SACE,qBAAIzlB,UAAWJ,EAAQ0lB,SAAvB,UACE,cAACR,GAAA,EAAD,4BACA,eAACvc,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQokB,EAAU,OAAQte,KAAnD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,UAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,qBAEF,eAACsI,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQokB,EAAU,UAAWte,KAAtD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,UAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,uBAEF,eAACsI,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQokB,EAAU,SAAUte,KAArD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,UAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,2BAIN,cAAC,GAAD,CAAUpJ,MAAOA,EAAO4uB,MAAO,EAA/B,SACE,qBAAIzlB,UAAWJ,EAAQ0lB,SAAvB,UACE,cAACR,GAAA,EAAD,4BACA,eAACvc,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQikB,EAAa,YAAane,KAA3D,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,eAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,yBAEF,eAACsI,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQikB,EAAa,SAAUne,KAAxD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,eAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,2BAIN,cAAC,GAAD,CAAUpJ,MAAOA,EAAO4uB,MAAO,EAA/B,SACE,cAAC,GAAD,CAAiB9d,UAAWA,MAE9B,cAAC,GAAD,CAAU9Q,MAAOA,EAAO4uB,MAAO,EAA/B,SACE,qBAAIzlB,UAAWJ,EAAQ0lB,SAAvB,UACE,cAACR,GAAA,EAAD,yBACA,eAACvc,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQkkB,EAAU,UAAWpe,KAAtD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,YAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,uBAEF,eAACsI,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQkkB,EAAU,SAAUpe,KAArD,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,YAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,2BAIN,cAAC,GAAD,CAAUpJ,MAAOA,EAAO4uB,MAAO,EAA/B,SACE,qBAAIzlB,UAAWJ,EAAQ0lB,SAAvB,UACE,cAACR,GAAA,EAAD,4BACA,eAACvc,GAAA,EAAD,CAAUpF,OAAK,EAACtB,QAAS,WAAQmkB,EAAa,cAAere,KAA7D,UACE,cAACtG,GAAA,EAAD,UACGkN,GAAc,gBAEjB,cAACxO,EAAA,EAAD,CAAYE,QAAQ,UAApB,yCC3MVZ,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAK,yBACHgG,SAAU,GAEPxE,EAAMsE,OAAOC,SAHd,IAIFE,UAAW,oBAEbrI,WAAY,CACV9B,YAAa0F,EAAM5B,QAAQ,IAE7BxD,MAAO,CACLN,YAAa0F,EAAM5B,QAAQ,IAE7B4G,OAAQ,CACNR,SAAU,OAIR6c,GAAoB,SAAC,GAAmB,IAAjBlf,EAAgB,EAAhBA,UACrBzH,EAAUP,KAGR1B,EADW0J,EAAXiH,OACA3Q,KACR,OACE,qBAAKqC,UAAWJ,EAAQ8D,KAAxB,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAAjB,SACE,eAACuJ,EAAA,EAAD,CACEhK,QAAQ,QADV,UAGE,cAAC,GAAD,IACA,cAACF,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAWJ,EAAQE,MAA5C,SACGnC,IAEH,cAAC,GAAD,IACA,qBAAKqC,UAAWJ,EAAQsK,SACxB,cAAC,GAAD,YAeK9J,kBAAKmmB,ICvDdC,GAAgB,WACpB,IAAQnf,EAAc3R,cAAd2R,UACR,OAAO,cAAC,GAAD,CAAyBA,eAGlCmf,GAActmB,iBAAmBC,EAElBqmB,UCFTnnB,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJnD,MAAO,OACPC,OAAQ,SAACmB,GAAD,OAAWA,EAAMvL,kBACzBsK,SAAU,SAEZ6E,MAAO,CACLhF,MAAO,OACPC,OAAQ,SAACmB,GAAD,OAAWA,EAAMvL,uBAIvBqwB,GAAa,SAAC,GAA6D,IAA3DnwB,EAA0D,EAA1DA,eAAgBF,EAA0C,EAA1CA,iBAAkBG,EAAwB,EAAxBA,kBAChDqJ,EAAUP,GAAU,CAAE/I,iBAAgBF,mBAAkBG,sBAE9D,OACE,eAACyV,EAAA,EAAD,CACE/L,QAAQ,aACRgM,OAAO,SACPxE,KAAMnR,EACNsJ,QAAS,CACP8D,KAAM9D,EAAQ8D,KACd6B,MAAO3F,EAAQ2F,OANnB,UASE,cAAC,GAAD,IACA,cAACiB,GAAA,EAAD,IACA,cAAC,GAAD,QAWNigB,GAAWvmB,iBAAmBC,EAEfsmB,UC9CTC,GAAS,WACb,MAAgE5vB,IAAxDR,EAAR,EAAQA,eAAgBF,EAAxB,EAAwBA,iBAAkBG,EAA1C,EAA0CA,kBAE1C,OACE,cAAC,GAAD,CACED,iBACAF,mBACAG,uBAMNmwB,GAAOxmB,iBAAmBC,EAEXumB,U,wCCXTrnB,GAAYC,aAAW,iBAAO,CAClC+J,OAAQ,OAGJsd,GAAqB,SAAC,GAAqB,IAAnB1B,EAAkB,EAAlBA,YAEtBrlB,EAAUP,KAChB,OACE,cAAC,GAAD,CAEIoC,MAAO,QACPC,WAAY,WACVujB,KAGJjlB,UAAWJ,EAAQyJ,OAPrB,SASE,cAAC,KAAD,CAAWnH,SAAS,aAK1BykB,GAAmBzmB,iBAAmBC,EAMvBwmB,UC7BTtnB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAK,yBACHgG,SAAU,GAEPxE,EAAMsE,OAAOC,SAHd,IAIFE,UAAW,oBAEbrI,WAAY,CACV9B,YAAa0F,EAAM5B,QAAQ,IAE7BxD,MAAO,CACLN,YAAa0F,EAAM5B,QAAQ,IAE7B4G,OAAQ,CACNR,SAAU,OAIRkd,GAAqB,SAAC,GAAqB,IAAnB3B,EAAkB,EAAlBA,YACtBrlB,EAAUP,KAChB,OACE,qBAAKW,UAAWJ,EAAQ8D,KAAxB,SACE,cAACsG,EAAA,EAAD,CAAQtJ,SAAS,SAAjB,SACE,eAACuJ,EAAA,EAAD,CACEhK,QAAQ,QADV,UAGE,cAAC,GAAD,CAA0BglB,gBAC1B,cAACllB,EAAA,EAAD,CAAYE,QAAQ,KAAKD,UAAWJ,EAAQE,MAA5C,yCAaKM,kBAAKwmB,IC1CdC,GAAiB,SAAC,GAAD,IAAG5B,EAAH,EAAGA,YAAH,OAAqB,cAAC,GAAD,CAA0BA,iBAEtE4B,GAAe3mB,iBAAmBC,EAMnB0mB,UCJTxnB,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJnD,MAAO,SAETqD,SAAU,CACRrD,MAAO,QAETmF,SAAU,CACRnF,MAAO,QAETT,MAAO,OAGHgnB,GAAmB,SAACnlB,GACxB,IACEsjB,EACEtjB,EADFsjB,YAEIrlB,EAAUP,KAChB,OACE,eAAC0nB,GAAA,EAAD,CAAO/mB,UAAWJ,EAAQ8D,KAA1B,UACE,cAAC,GAAD,CAAsBuhB,gBACtB,cAACze,GAAA,EAAD,IACA,eAACtD,EAAA,EAAD,CACEC,OAAK,EACLnD,UAAWJ,EAAQgE,SAFrB,UAIE,cAACR,EAAA,EAAD,CAAUpD,UAAWJ,EAAQ8F,SAA7B,SACE,cAAC3F,EAAA,EAAD,CAAYE,QAAQ,QAApB,0MAMF,cAACmD,EAAA,EAAD,CAAUpD,UAAWJ,EAAQ8F,SAA7B,SACE,eAAC3F,EAAA,EAAD,CAAYE,QAAQ,QAApB,sBAEE,cAAC0C,GAAA,EAAD,CAAMC,OAAO,SAAS1F,KAAK,sEAA3B,8BAFF,oCAaV4pB,GAAiB5mB,iBAAmBC,EAMrBC,sBAAK0mB,I,0CCtDdznB,GAAYC,aAAW,iBAAO,CAClC0nB,MAAO,CACLvmB,QAAS,OACT8F,WAAY,SACZuF,eAAgB,cAIdmb,GAAOrB,IAAMsB,YAAW,SAACvlB,EAAOtJ,GACpC,IACMoP,EAEF9F,EAFFwlB,GAAUjxB,EAERyL,EAFQzL,SAAUkxB,EAElBzlB,EAFkBylB,QAASC,EAE3B1lB,EAF2B0lB,SAC1BC,EAFL,aAGI3lB,EAHJ,IAIMuG,EAAQqf,qBAAU,CACtBzuB,KAAM,CAAE8lB,QAAS,GACjB3Q,GAAI,CAAE2Q,QAASnX,EAAO,EAAI,GAC1B+f,QAAS,WACH/f,GAAQ2f,GACVA,KAGJK,OAAQ,YACDhgB,GAAQ4f,GACXA,OAKN,OAEE,aADA,CACC,YAASK,IAAV,yBAAcrvB,IAAKA,EAAK6P,MAAOA,GAAWof,GAA1C,aACGpxB,QA4CQyxB,GA9BM,WACnB,IAAM/nB,EAAUP,KAChB,EAAwBumB,IAAMzvB,UAAS,GAAvC,mBAAOsR,EAAP,KAAamgB,EAAb,KAEM3C,EAAc,WAClB2C,GAAQ,IAGV,OACE,cAACC,GAAA,EAAD,CACEC,qBAAmB,EACnBC,kBAAgB,EAChB,kBAAgB,qBAChB,mBAAiB,2BACjB/nB,UAAWJ,EAAQonB,MACnBvf,KAAMA,EACNa,QAAS2c,EACT+C,sBAAoB,EACpBC,kBAAmBC,KACnBC,cAAe,CACbC,QAAS,KAXb,SAcE,cAACnB,GAAD,CAAME,GAAI1f,EAAV,SACE,cAAC,GAAD,CAAwBwd,qB,SCxEnBoD,GAAiBryB,wBAAc,MAEjCsyB,GAAsB,GAkDlBC,GAhDQ,SAAC,GAEjB,IADLryB,EACI,EADJA,SAEQ0B,EAAYlC,cAAZkC,QAER,EAAyBzB,oBAAS,kBAAM,IAAI0B,OAArC2wB,EAAP,oBAEMC,EAAsB9xB,mBAC1B,iBAAO,CACL+xB,WADK,SACMzwB,GACT,OAAOuwB,EAAetwB,IAAID,IAE5B0wB,eAJK,SAIUvwB,EAAYC,GAEzBmwB,EAAe9vB,IAAIN,EAAYC,GAC/BT,EAAQ,uBAAwBS,EAAK,QAEvCuwB,iBATK,SASYxwB,GAEfowB,EAAehwB,OAAOJ,GACtBR,EAAQ,uBAAwBQ,EAAY,WAE9CywB,gBAdK,WAeH,OAAOhwB,MAAMC,KAAK0vB,EAAezvB,QAAQC,KAAI,SAACf,GAAD,OAAQuwB,EAAetwB,IAAID,UAG5E,CAACuwB,EAAgB5wB,IAWnB,OARA0wB,GAAsB3xB,mBAAQ,+BAC5B6xB,kBACGC,KACD,CACFD,EACAC,IAIA,cAACJ,GAAezxB,SAAhB,CAAyBC,MAAOyxB,GAAhC,SACGpyB,K,oBCjCM4yB,GAAgB9yB,wBAAc,MAE9B+yB,GAAe,CAC1B9sB,KAAM,MACN0B,KAAM,UACNkB,KAAM,UAGFmqB,GAAgB,SAAC,GAGhB,IAFL9yB,EAEI,EAFJA,SACGyL,EACC,mBACJ,EAEIjM,cADF2R,EADF,EACEA,UAAWvM,EADb,EACaA,UAAWC,EADxB,EACwBA,YAAanD,EADrC,EACqCA,QAE7BmR,EAAgB1B,EAAhB0B,YAEF3Q,EAAauD,iBAAOstB,OAAO,WAC3BjG,EAAOrnB,iBAAO,MAEpB,EAAexF,mBAASwL,EAAM1F,MAAvBA,EAAP,oBACA,EAAe9F,mBAASwL,EAAMhE,MAAvBA,EAAP,oBACA,EAAwBxH,mBAASwL,EAAM9C,MAAQ,IAA/C,mBAAOA,EAAP,KAAaqqB,EAAb,KAEA,EAA0C/yB,qBAA1C,mBAAOgzB,EAAP,KAAsBC,EAAtB,KAGMC,EAAkB,SAACC,EAAMhjB,GAC7B,OAAQgjB,EAAKxqB,eACX,QACE,MACF,IAAK,cACHsqB,EAAiB9iB,KAKvBrN,qBAAU,WAIR,OAHA8P,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDlS,EAAU,GAAD,OAAIkS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,SAEzG,WACLyC,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDjS,EAAY,GAAD,OAAIiS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,YAGnH,CAACyC,EAAa9M,EAAMnB,EAAWC,IAGlC9B,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,wBAAgCktB,KAAmB,CAACltB,EAAMktB,EAAevxB,IAElG,MC/DOjC,qBAAW0yB,ID+DVM,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,iBAClBW,EAAcC,eAGdC,EAAY9yB,mBAAQ,iBAAO,CAC/BsF,OACAhE,GAAIG,EAAWgH,QAEfzB,OAEAkB,OACAqqB,UAEAC,gBACAC,sBACE,CACFntB,EACA0B,EAEAkB,EAAMqqB,EAENC,EAAeC,IAIXM,EAAS1xB,uBAAY,kBAAMyxB,IAAW,CAACA,IAI7CxwB,qBAAU,WAER,OADA0vB,EAAe1sB,EAAMwtB,GACd,kBAAMb,EAAiB3sB,EAAMwtB,MACnC,IAGH,IAAME,EAAehzB,mBAAQ,iBAAO,CAClCsF,OACAhE,GAAIG,EAAWgH,QACfzB,OACAisB,QAAS5G,EACT0G,SAEA7qB,OACAqqB,UAEAC,gBACAC,mBAEAG,iBAEF,CACEttB,EACA7D,EACAuF,EACAqlB,EACA0G,EAEA7qB,EAAMqqB,EACNC,EAAeC,EAEfG,IAGF,OACE,cAACT,GAAclyB,SAAf,CAAwBC,MAAO8yB,EAA/B,SACGzzB,KAKP8yB,GAAc9oB,iBAAmBC,EASlB6oB,U,8BE5If,IAAMa,GAAc,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACfC,EAAWC,sBASjB,OAPA/wB,qBAAU,WACJ8wB,EAAS3qB,QAAQ6qB,YAAcH,IACjCC,EAAS3qB,QAAQ6qB,UAAY,MAE/BF,EAAS3qB,QAAQ6qB,UAAYH,IAC5B,CAACA,EAAQC,IAGV,uBAAOxpB,MAAM,OAAOC,OAAO,OAAOnI,IAAK0xB,EAAUG,UAAQ,EAACC,aAAW,EAACC,OAAK,KAQhEhqB,kBAAKypB,ICXdxqB,GAAYC,YAAW,CAC3BoE,KAAM,CACJhD,SAAU,WACVH,MAAO,SAACoB,GACN,OAAQA,EAAMf,KAAK9B,eACjB,QACA,IAAK,QACH,MAAO,MACT,IAAK,SACH,MAAO,MACT,IAAK,QACH,MAAO,MACT,IAAK,OACH,MAAO,MACT,IAAK,aACH,MAAO,SAGbsG,MAAO,SAACzD,GACN,OAAQA,EAAM1E,SAASotB,MAAM,KAAK,GAAGvrB,eACnC,QACA,IAAK,QACH,OAAO,EACT,IAAK,OACH,MAAO,UAIf+S,QAAS,CACPV,cAAe,SAsDJmZ,GAlDO,SAAC,GAEhB,IADL3sB,EACI,EADJA,KAAMiD,EACF,EADEA,KAAM3D,EACR,EADQA,SAAUhB,EAClB,EADkBA,KAEhB2D,EAAUP,GAAU,CAAEuB,OAAM3D,aAElC,EAAmCvH,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEXouB,EClDDxzB,qBAAWmzB,IDkDVK,cAEFztB,EAAYC,kBAAO,GAEzB,EAA4BxF,mBAASgzB,GAArC,mBAAOW,EAAP,KAAeS,EAAf,KAEMjW,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZmrB,EAAUjkB,KAEX,CAAC5K,EAAW6uB,IAYf,OAVAtxB,qBAAU,WAIR,OAHAyC,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAImB,EAAJ,wBAAgCqY,GAElC,WACL5Y,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,wBAAgCqY,MAE5C,CAACxZ,EAAWC,EAAauZ,EAAYrY,IAGtC,cAACuuB,GAAA,EAAD,CAAMxqB,UAAWJ,EAAQ8D,KAAzB,SACE,cAAC+mB,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAa1qB,UAAWJ,EAAQiS,QAAhC,eACetZ,IAAXuxB,EAAuB,cAAC,GAAD,CAAaA,OAAQA,IAAa,KAC3D,cAAC/pB,EAAA,EAAD,CAAYE,QAAQ,QAAQ+K,MAAM,gBAAgB2f,UAAU,IAA5D,SACGhtB,Y,6BEjCEitB,GAtCO,SAAC,GAAwC,IAAtCxa,EAAqC,EAArCA,SAAUjR,EAA2B,EAA3BA,WAAewC,EAAY,mBACpD7I,EAASqG,EAATrG,KACR,EAAmCpD,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAEb+a,GAAYL,EADKI,KAAfJ,YACqB3c,GAC7B,EAA8B3C,mBAAS,MAAvC,mBAAOie,EAAP,KAAgBC,EAAhB,KACM3Y,EAAYC,kBAAO,GAEnB2Y,EAAatc,uBAAY,SAACsO,GAC1B5K,EAAU0D,SACZiV,EAAW/N,KAEZ,CAAC5K,EAAW2Y,IAgBf,OAdApb,qBAAU,WAKR,YAJkBV,IAAdud,IACFpa,EAAU0D,SAAU,EACpBtE,EAAU,GAAD,OAAIgb,EAAU7Z,KAAd,YAAsBmU,EAAtB,YAA0CkE,IAE9C,gBACa/b,IAAdud,IACFpa,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAI+a,EAAU7Z,KAAd,YAAsBmU,EAAtB,YAA0CkE,OAGxD,CAACwB,EAAWhd,EAAMsX,EAAUtV,EAAWC,EAAauZ,IAGhD,cAAC,GAAD,aAAyBzd,MAAOud,GAAezS,K,mBC9BlDkpB,GAAc,SAAC,GAA8B,IAA5B5uB,EAA2B,EAA3BA,KAAM4C,EAAqB,EAArBA,KAAS8C,EAAY,mBACxC0F,EAAc3R,cAAd2R,UACR,OAAQxI,EAAKC,eACX,QACA,IAAK,UACH,OACGuI,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO,GAElD,cAAC,GAAD,uCAAmB8sB,IAAnB,IAAiC9sB,KAAMA,EAAM4C,KAAMA,GAAU8C,GAA7D,aACE,cAAC,GAAD,yBAAS1F,KAAMA,EAAM4C,KAAMA,GAAU8C,GAArC,IAA4CyO,SAAS,gBAAgBjR,WAAYkI,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO,SAGxI,OAKZ4uB,GAAY3qB,iBAAmBC,EAOhBC,sBAAKyqB,ICvBdxrB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAM,CACJhD,SAAU,WACViL,OAAQ,EACRmf,cAAe,OACfvqB,MAAO,SAACoB,GAAD,4BACWA,EAAMxK,kBAAoBwK,EAAM1K,mBAAqB,EADhE,QAGPuJ,OAAQ,OACR2K,WAAYjG,EAAMkG,YAAYC,OAAO,CAAC,SAAU,CAC9CC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,sBAIrCsf,GAAU,SAAC,GAKV,IAJLz0B,EAII,EAJJA,eACAF,EAGI,EAHJA,iBACAe,EAEI,EAFJA,kBACAF,EACI,EADJA,mBAGQmW,EADc1X,cAAd2R,UACA+F,QAEFxN,EAAUP,GAAU,CACxB/I,iBACAF,mBACAe,oBACAF,uBAEF,OACE,qBACE+I,UAAWJ,EAAQ8D,KACnB7B,QAAS,SAACsE,GAAQA,EAAE6kB,kBACpB,cAAY,OAHd,SAKG5d,EAAQpU,KAAI,SAAC+qB,GAAD,OACX,cAAC,GAAD,eAAiEA,GAAjE,aAAwBA,EAAOllB,KAA/B,mBAA8CklB,EAAO9nB,aAM7D8uB,GAAQ7qB,iBAAmBC,EASZC,sBAAK2qB,ICxCd1rB,GAAYC,aAAW,SAAC4F,GAAD,MAAY,CACvCxB,KAAM,CACJnD,MAAO,OACPC,OAAQ,OACRiE,SAAU,UAEZwmB,gBAAiB,CACfzqB,OAAQ,SAACmB,GAAD,4BAA2BA,EAAMrL,eAAiBqL,EAAMvL,iBAAmB,EAA3E,QACR+U,WAAYjG,EAAMkG,YAAYC,OAAO,SAAU,CAC7CC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,kBAGzCyf,OAAQ,CACN3qB,MAAO,SAACoB,GAAD,4BAA4BA,EAAMxK,kBAAoBwK,EAAM1K,mBAAqB,EAAjF,QACPkU,WAAYjG,EAAMkG,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQpG,EAAMkG,YAAYE,OAAO6f,MACjC3f,SAAUtG,EAAMkG,YAAYI,SAAS4f,gBAEvC/lB,WAAY,OACZwL,UAAW,QAEbwa,gBAAiB,CACflgB,WAAYjG,EAAMkG,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,kBAGzC6f,iBAAkB,CAChB9rB,YAAa,SAACmC,GAAD,OAAYA,EAAM1K,oBAC/BkU,WAAYjG,EAAMkG,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,kBAGzC8f,WAAY,CACV7hB,SAAU,EACVyB,WAAYjG,EAAMkG,YAAYC,OAAO,SAAU,CAC7CC,OAAQpG,EAAMkG,YAAYE,OAAO6f,MACjC3f,SAAUtG,EAAMkG,YAAYI,SAAS4f,gBAEvC3rB,WAAY,EACZD,YAAa,EACbgB,OAAQ,QAEVgrB,oBAAqB,CACnBrgB,WAAYjG,EAAMkG,YAAYC,OAAO,SAAU,CAC7CC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,kBAGzCggB,qBAAsB,CACpBtgB,WAAYjG,EAAMkG,YAAYC,OAAO,SAAU,CAC7CC,OAAQpG,EAAMkG,YAAYE,OAAOC,QACjCC,SAAUtG,EAAMkG,YAAYI,SAASC,iBAEvCjM,YAAa,SAACmC,GAAD,OAAYA,EAAM1K,qBAEjCy0B,aAAc,CACZnrB,MAAO,SAACoB,GAAD,4BAA4BA,EAAMxK,kBAAoBwK,EAAM1K,mBAAqB,EAAjF,QACPkU,WAAYjG,EAAMkG,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQpG,EAAMkG,YAAYE,OAAO6f,MACjC3f,SAAUtG,EAAMkG,YAAYI,SAAS4f,gBAEvC1f,IAAK,OACL2G,OAAQ,SAAC1Q,GAAD,OAAYA,EAAMrL,eAAiBqL,EAAMvL,iBAAmB,GACpEiP,WAAY,OACZwL,UAAW,QAEb8a,cAAe,CACbprB,MAAO,QAETqrB,aAAc,GACdC,gBAAiB,CACfpsB,WAAY,uBAIVqsB,GAAU,SAAC,GAQV,IAPL51B,EAOI,EAPJA,SACAI,EAMI,EANJA,eACAF,EAKI,EALJA,iBACAG,EAII,EAJJA,kBACAY,EAGI,EAHJA,kBACAF,EAEI,EAFJA,mBACAG,EACI,EADJA,qBAGMwI,EAAUP,GAAU,CACxB/I,iBACAF,mBACAe,oBACAF,uBAGF,OACE,sBACE+I,UAAW8B,YAAKlC,EAAQ8D,KAAT,eACZ9D,EAAQqrB,gBAAkB30B,IAF/B,UAKE,uBACE0J,UAAW8B,YAAKlC,EAAQ2rB,WAAT,eACZ3rB,EAAQ6rB,qBAAuBt0B,IAFpC,UAKE,cAAC,GAAD,CAEIb,iBACAF,mBACAe,oBACAF,uBAGHf,EACD,cAAC8T,EAAA,EAAD,CACEtJ,SAAS,QACTsK,MAAM,UACNhL,UAAW8B,YAAKlC,EAAQ8rB,aAAT,eACZ9rB,EAAQ0rB,iBAAmBn0B,IAJhC,SAOE,eAAC8S,EAAA,EAAD,CACEhK,QAAQ,QACRD,UAAWJ,EAAQ+rB,cAFrB,WAIsB,IAAnBr1B,EACC,cAAC,GAAD,CAEImL,MAAO,OACPC,WAAY,WACVnL,GAAmBD,IAGvB0J,UAAWJ,EAAQgsB,aAPrB,SASE,cAAC,IAAD,CAAY1pB,SAAS,YAErB,MACmB,IAAtB/K,EACC,cAAC,GAAD,CAEIsK,MAAO,UACPC,WAAY,WACVtK,GAAsBD,IAG1B6I,UAAWJ,EAAQisB,gBAPrB,SASE,cAAC,IAAD,CAAkB3pB,SAAS,YAE3B,cAIa,IAAtB/K,EAA6B,cAAC,GAAD,IAAgB,MAC1B,IAAnBb,EAA0B,cAAC,GAAD,IAAa,KACxC,cAACy1B,GAAD,QAKND,GAAQ5rB,iBAAmBC,EAY3B2rB,GAAQ5rB,iBAAmBC,EAEZC,sBAAK0rB,I,mBClLdE,GAAoB,SAACrqB,GACzB,IAAMsqB,EAjBe,SAACtqB,GACtB,IAAMuqB,EAAWv1B,mBACf,kBAAMw1B,OAAOpzB,KAAK4I,GAAO9F,QAAO,SAACytB,GAAD,YAA4C/wB,KAAlC,IAAI6zB,GAAMzqB,EAAM9C,OAAQyqB,QAClE,CAAC3nB,IASH,OAPsBhL,mBAAQ,kBAAMu1B,EACjCrwB,QAAO,SAAC7B,GAAD,OAASkyB,EAAS1d,SAASxU,MAClCJ,QAAO,SAACyyB,EAAKryB,GAGZ,OADAqyB,EAAIryB,GAAO2H,EAAM3H,GACVqyB,IACN,MAAK,CAACH,EAAUvqB,IAMC2qB,CAAe3qB,GAE/B8O,EAAS9Z,mBACb,uBAA8C4B,KAAvC,IAAI6zB,GAAMzqB,EAAM9C,OAAQ0tB,YAC3B,IAAIH,GAAMzqB,EAAM9C,OAAQ0tB,WAAaN,IACzC,CAACtqB,EAAOsqB,IAOV,OALat1B,mBAAQ,uBAAkB4B,IAAXkY,EAAuB,GAAK0b,OAAOpzB,KAAK0X,GAAQzX,KAAI,SAACwzB,GAC/E,MAAc,UAAVA,EAAyB,IAAN,OAAW,IAAIJ,SAAYzqB,EAAM6qB,IAAQC,gBACzD9qB,EAAM6qB,QACV,CAAC7qB,EAAO8O,K,kBClBFic,GAAe12B,wBAAc,MAC7B22B,GAAoB,GA8BlBC,GA5BM,SAAC,GAAD,IACnB12B,EADmB,EACnBA,SADmB,OAGnB,cAAC,KAAWU,SAAZ,CAAqBC,MAAOg2B,KAA5B,SACE,cAAC,KAAoBj2B,SAArB,CAA8BC,MAAOi2B,KAArC,SACE,cAACr1B,EAAab,SAAd,CAAuBC,MAAOa,EAA9B,SACE,cAACiD,EAAmB/D,SAApB,CAA6BC,MAAO+D,GAApC,SACE,cAACie,GAAkBjiB,SAAnB,CAA4BC,MAAOiiB,GAAnC,SACE,cAAC1D,GAAexe,SAAhB,CAAyBC,MAAOwe,GAAhC,SACE,cAACkC,GAAkB3gB,SAAnB,CAA4BC,MAAO2gB,GAAnC,SACE,cAAC6Q,GAAezxB,SAAhB,CAAyBC,MAAOyxB,GAAhC,SACE,cAACoE,GAAa91B,SAAd,CAAuBC,MAAO81B,GAA9B,SACGz2B,qB,yBCZR62B,GAAmB/2B,wBAAc,MAEjC+yB,GAAe,CAC1BprB,KAAM,UACN+C,SAAU,CAAC,EAAG,EAAG,IAGbssB,GAAmB,SAAC,GAGnB,IAFL92B,EAEI,EAFJA,SACGyL,EACC,mBACI/J,EAAYlC,cAAZkC,QAEFQ,EAAauD,iBAAOstB,OAAO,cAC3BjG,EAAOrnB,iBAAO,MAEpB,EAAexF,mBAASwL,EAAM1F,MAAvBA,EAAP,oBACA,EAAe9F,mBAASwL,EAAMhE,MAAvBA,EAAP,oBACA,EAAwBxH,mBAASwL,EAAM9C,MAAQ,IAA/C,mBAAOA,EAAP,KAAaqqB,EAAb,KACA,EAAoC/yB,mBAASkiB,SAAS1W,EAAM8X,WAAY,KAAO,GAA/E,mBAAOA,EAAP,KAAmBqE,EAAnB,KACA,EAAsB3nB,mBAASkiB,SAAS1W,EAAM0b,IAAK,KAAO,KAA1D,mBAAOA,EAAP,KAAYU,EAAZ,KACA,EAA4B5nB,mBAASwL,EAAMqa,SAAU,GAArD,mBAAOA,EAAP,KAAeiR,EAAf,KACA,EAA4B92B,mBAASwL,EAAMma,SAAU,GAArD,mBAAOA,EAAP,KAAeoR,EAAf,KAEA,EAAgC/2B,mBAAS,CAAC,EAAG,EAAG,IAAhD,mBAAOuK,EAAP,KAAiBysB,EAAjB,KAEAl0B,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,qBAA6ByE,KAAc,CAACzE,EAAMyE,EAAU9I,IACrFqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,mBAA2B6f,KAAY,CAAC7f,EAAM6f,EAAQlkB,IAC/EqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,mBAA2B+f,KAAY,CAAC/f,EAAM+f,EAAQpkB,IAC/EqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,gBAAwBohB,KAAS,CAACphB,EAAMohB,EAAKzlB,IACtEqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,uBAA+Bwd,KAAgB,CAACxd,EAAMwd,EAAY7hB,IAE3F,MAAmD0hB,KAA3CH,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,oBACrBmQ,EAAcC,eAGd4D,EAAez2B,mBAAQ,iBAAO,CAClCsF,OACAhE,GAAIG,EAAWgH,QAEfzB,OAEAkB,OACAqqB,UACAzP,aACAqE,gBACAT,MACAU,SACA/B,SACAiR,YACAnR,SACAoR,YACAxsB,WACAysB,iBACE,CACFlxB,EACA0B,EAEAkB,EAAMqqB,EACNzP,EAAYqE,EACZT,EAAKU,EACL/B,EAAQiR,EACRnR,EAAQoR,EACRxsB,EAAUysB,IAINzD,EAAS1xB,uBAAY,kBAAMo1B,IAAc,CAACA,IAGhDn0B,qBAAU,WAER,OADAkgB,EAAkBld,EAAMmxB,GACjB,kBAAMhU,EAAoBnd,EAAMmxB,MACtC,IAGH,IAAMzD,EAAehzB,mBAAQ,iBAAO,CAClCsF,OACAhE,GAAIG,EAAWgH,QACfzB,OACAisB,QAAS5G,EACT0G,SAEA7qB,OACAqqB,UACAzP,aACAqE,gBACAT,MACAU,SACA/B,SACAiR,YACAnR,SACAoR,YACAxsB,WACAysB,cAEA5D,iBAEF,CACEttB,EACA7D,EACAuF,EACAqlB,EACA0G,EAEA7qB,EAAMqqB,EACNzP,EAAYqE,EACZT,EAAKU,EACL/B,EAAQiR,EACRnR,EAAQoR,EACRxsB,EAAUysB,EAEV5D,IAGF,OACE,cAACwD,GAAiBn2B,SAAlB,CAA2BC,MAAO8yB,EAAlC,SACGzzB,KAgBP82B,GAAiB9sB,iBAAmBC,EAErB6sB,UCpJA,SAASK,KACtB,OAAO13B,qBAAWo3B,ICKpB,IAAMO,GAAiB,SAAC,GAAgB,IAAdnf,EAAa,EAAbA,OACxB,EAEIkf,KADFxuB,EADF,EACEA,KAAM4a,EADR,EACQA,WAAY4D,EADpB,EACoBA,IAAKrB,EADzB,EACyBA,OAAQF,EADjC,EACiCA,OAAqByR,EADtD,EACyCJ,YAGzC,EAAmBh3B,mBAAW,IAAaknB,GAAQ,IAAM5D,IAAlD+T,EAAP,oBAEM9T,EAAS/iB,mBAAQ,WACrB,OAAQkI,EAAKC,eACX,QACA,IAAK,OACH,OAAOkb,GAAWP,MAErB,CAAC5a,EAAM4a,IAEJgU,EAAW92B,mBAAQ,+BACpB+iB,EAAO1gB,KAAI,SAAC00B,GAAD,sBAAavf,EAAS,CAACuf,EAAI,GAAIA,EAAI,GAAI,UACpD,CAAChU,EAAQvL,IAENpE,EAAe/R,uBAAY,SAAC21B,QACXp1B,IAAjBo1B,EAAO92B,OACT02B,EAAeI,EAAO92B,MAAMsX,MAE7B,CAACA,EAAQof,IAENK,EAASj3B,mBAAQ,iBAAO,CAC5Bk3B,MAAO/R,EACPgS,KAAM9R,EACN/N,GAAIwf,EACJG,OAAQ,CACNpiB,SAAUgiB,EACVO,SAAU,GAEZ/oB,SAAU+E,KACR,CAAC0jB,EAAUD,EAAU1R,EAAQE,EAAQjS,IAEzC,EAAgBwd,sBAAU,kBAAOqG,KAAxBI,EAAT,oBAMA,OALA/0B,qBAAU,WACR+0B,EAAIC,OACJD,EAAIE,MAAMN,KACT,CAACI,EAAKJ,IAEF,MAGTN,GAAeptB,iBAAmBC,EAEnBmtB,U,oBCxDTa,GAAY,SAAC9Q,EAAK5D,GAAN,OAAuB,IAAa4D,GAAQ,IAAM5D,ICY9D2U,GAAoB,SAAC,GAAgB,IAAdjgB,EAAa,EAAbA,OAC3B,EAEIkf,KADFxuB,EADF,EACEA,KAAM4a,EADR,EACQA,WAAY4D,EADpB,EACoBA,IAAKrB,EADzB,EACyBA,OAAQF,EADjC,EACiCA,OAAqByR,EADtD,EACyCJ,YAEzC,EAAgCh3B,mBAASg4B,GAAU9Q,EAAK5D,IAAxD,mBAAO+T,EAAP,KAAiBa,EAAjB,KAEAp1B,qBAAU,WACRo1B,EAAYF,GAAU9Q,EAAK5D,MAC1B,CAAC4D,EAAK5D,IAET,IAAMC,EAAS/iB,mBAAQ,WACrB,OAAQkI,EAAKC,eACX,QACA,IAAK,OACH,OAAO0a,GAASC,MAEnB,CAAC5a,EAAM4a,IAEJgU,EAAW92B,mBAAQ,+BACpB+iB,EAAO1gB,KAAI,SAAC00B,GAAD,sBAAavf,EAAS,CAACuf,EAAI,GAAIA,EAAI,GAAI,UACpD,CAAChU,EAAQvL,IAENpE,EAAe/R,uBAAY,SAAC21B,QACXp1B,IAAjBo1B,EAAO92B,OACT02B,EAAeI,EAAO92B,MAAMsX,MAE7B,CAACA,EAAQof,IAENK,EAASj3B,mBAAQ,iBAAO,CAC5Bk3B,MAAO/R,EACPgS,KAAM9R,EACN/N,GAAIwf,EACJG,OAAQ,CACNpiB,SAAUgiB,EACVO,SAAU,GAEZ/oB,SAAU+E,KACR,CAAC0jB,EAAUD,EAAU1R,EAAQE,EAAQjS,IAEzC,EAAgBwd,sBAAU,kBAAOqG,KAAxBI,EAAT,oBAMA,OALA/0B,qBAAU,WACR+0B,EAAIC,OACJD,EAAIE,MAAMN,KACT,CAACI,EAAKJ,IAEF,MAGTQ,GAAkBE,UAAY,CAC5BngB,OAAQogB,KAAUC,OAAOC,YAG3BL,GAAkBluB,iBAAmBC,EAEtBiuB,U,YC1DTM,GAAiB,SAAC,GAAwB,IAAtB7vB,EAAqB,EAArBA,KAAS8C,EAAY,mBAC7C,OAAQ9C,EAAKC,eACX,QACA,IAAK,QACH,OACE,cAAC,GAAD,uCAAsBiqB,IAAtB,IAAoClqB,KAAMA,GAAU8C,GAApD,aACE,cAACgtB,GAAD,OAGN,IAAK,WACH,OACE,cAAC,GAAD,uCAAsB5F,IAAtB,IAAoClqB,KAAMA,GAAU8C,GAApD,aACE,cAACitB,GAAD,CAAmBzgB,OAAO,eAMpCugB,GAAexuB,iBAAmBC,EAMnBC,sBAAKsuB,IC5BdG,GAAa,SAAC,GAAD,SAAGnhB,WAA4B1U,KAAI,SAAC81B,GAAD,OAAU,cAAC,GAAD,eAAiEA,GAAjE,aAA2BA,EAAIjwB,KAA/B,sBAAiDiwB,EAAI7yB,WAErH4yB,GAAW3uB,iBAAmBC,EAEfC,sBAAKyuB,I,gBCSPE,GAAc/4B,wBAAc,MAE5B+yB,GAAe,CAC1BprB,KAAM,UACN+C,SAAU,CAAC,EAAG,EAAG,IAGbsuB,GAAc,SAAC,GAGd,IAFL94B,EAEI,EAFJA,SACGyL,EACC,mBACJ,EAEIjM,cADF2R,EADF,EACEA,UAAWvM,EADb,EACaA,UAAWC,EADxB,EACwBA,YAAanD,EADrC,EACqCA,QAE7BmR,EAAgB1B,EAAhB0B,YAER,EAAyC9N,IAAjC9C,EAAR,EAAQA,aAAcQ,EAAtB,EAAsBA,eACtB,EAAkCa,KAA1BoC,EAAR,EAAQA,MAAOU,EAAf,EAAeA,eACTitB,EAAcC,eAEdxG,EAAOrnB,iBAAO,MAEpB,EAAexF,mBAASwL,EAAM1F,MAAvBA,EAAP,oBACA,EAAe9F,mBAASwL,EAAMhE,MAAvBA,EAAP,oBACA,EAAwBxH,mBAASwL,EAAM9C,MAAvC,mBAAOA,EAAP,KAAaqqB,EAAb,KAEA,EAAwB/yB,mBAASwL,EAAM1H,MAAQ,CAAC,EAAG,EAAG,IAAtD,mBAAOA,EAAP,KAAa8E,EAAb,KAEA,EAAoC5I,qBAApC,mBAAOgJ,EAAP,KAAmB8vB,EAAnB,KAEAh2B,qBAAU,WACRg2B,EAAc3yB,EAAeL,MAC5B,CAACK,EAAgBL,IAGpB,IAAMotB,EAAkBrxB,uBAAY,SAACsxB,EAAMxwB,EAAMwN,GAC/C,IAAM9K,EAAKI,IAEX,OAAQ0tB,EAAKxqB,eACX,QACE,MACF,IAAK,YACgBvG,IAAf4G,GACiC,oBAAxBA,EAAWf,WACpBe,EAAWf,SAAS,CAClBS,KAAM/F,EAAMkG,QAASsH,EAAKrK,KAAMT,EAAGS,KAAMnD,KAAM0C,EAAGa,aAAc4L,UAAWpK,KAAKC,MAElFiB,EAAQuH,OAKf,CAACnH,EAAYvD,IAEhB3C,qBAAU,WAIR,OAHA8P,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDlS,EAAU,GAAD,OAAIkS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAekO,EAAEgB,SAASlP,cAAewH,SAEnI,WACLyC,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDjS,EAAY,GAAD,OAAIiS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAekO,EAAEgB,SAASlP,cAAewH,YAG7I,CACDyC,EACA9M,EACAnB,EACAC,EACAsuB,IAGFpwB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,iBAAyBhC,KAAU,CAACgC,EAAMhC,EAAMrC,IAGzE,IAAMs3B,EAAUv4B,mBAAQ,iBAAO,CAC7BsF,OACA0B,OAEA1D,OACA8E,aACE,CACF9C,EACA0B,EAEA1D,EAAM8E,IAIF2qB,EAAS1xB,uBAAY,kBAAMk3B,IAAS,CAACA,IAG3Cj2B,qBAAU,WAER,OADAd,EAAa8D,EAAMizB,GACZ,kBAAMv2B,EAAesD,EAAMizB,MACjC,IAGH,IAAMvF,EAAehzB,mBAAQ,iBAAO,CAClCsF,OACA0B,OAEAisB,QAAS5G,EACT0G,SAEA7qB,OACAqqB,UACAjvB,OACA8E,UAEAwqB,iBAEF,CACEttB,EACA0B,EAEAqlB,EACA0G,EAEA7qB,EAAMqqB,EACNjvB,EAAM8E,EAENwqB,IAGF,OACE,cAACwF,GAAYn4B,SAAb,CAAsBC,MAAO8yB,EAA7B,SACGzzB,KAKP84B,GAAY9uB,iBAAmBC,EAUhB6uB,U,YCxJTG,GAAW,SAAC,GAAD,IAAGtwB,EAAH,EAAGA,KAAS8C,EAAZ,0BACf,cAAC,GAAD,2BAAiBonB,IAAjB,IAA+BlqB,KAAMA,GAAU8C,KAGjDwtB,GAASjvB,iBAAmBC,EAMbC,sBAAK+uB,ICZdC,GAAQ,SAAC,GAAD,SAAG9hB,MAAkBtU,KAAI,SAAC4F,GAAD,OAAW,cAAC,GAAD,eAAwDA,GAAxD,aAAqBA,EAAKC,KAA1B,iBAAuCD,EAAK3C,WAE9FmzB,GAAMlvB,iBAAmBC,EAEVC,sBAAKgvB,ICQPC,GAAgBr5B,wBAAc,MAE9B+yB,GAAe,CAC1B9sB,KAAM,MACN0B,KAAM,UACNkB,KAAM,GACN6B,SAAU,CAAC,EAAG,EAAG,GACjBsT,QAAQ,EACRiD,WAAY,CAAC,IACbD,eAAgB,IAGZsY,GAAgB,SAAC,GAShB,IARLp5B,EAQI,EARJA,SACMq5B,EAOF,EAPJtzB,KACMuzB,EAMF,EANJ7xB,KACM8xB,EAKF,EALJ5wB,KACU6wB,EAIN,EAJJhvB,SACQivB,EAGJ,EAHJ3b,OACY4b,EAER,EAFJ3Y,WACgB4Y,EACZ,EADJ7Y,eAEA,EAEIthB,cADF2R,EADF,EACEA,UAAWvM,EADb,EACaA,UAAWC,EADxB,EACwBA,YAAanD,EADrC,EACqCA,QAE7BmR,EAAgB1B,EAAhB0B,YAEF3Q,EAAauD,iBAAOstB,OAAO,WAC3BjG,EAAOrnB,iBAAO,MAEpB,EAAexF,mBAASo5B,GAAjBtzB,EAAP,oBACA,EAAe9F,mBAASq5B,GAAjB7xB,EAAP,oBAEA,EAAwBxH,mBAASs5B,GAAc,IAA/C,mBAAO5wB,EAAP,KAAaqqB,EAAb,KACA,EAAgC/yB,mBAASu5B,GAAkB,CAAC,EAAG,EAAG,IAAlE,mBAAOhvB,EAAP,KAAiBysB,EAAjB,KACA,EAAsCh3B,qBAAtC,mBAAO25B,EAAP,KAAoBC,EAApB,KAEA,EAA4B55B,mBAASw5B,IAAgB,GAArD,mBAAO3b,EAAP,KAAegc,EAAf,KACA,EAAoC75B,mBAASy5B,GAAoB,IAAjE,mBAAO3Y,EAAP,KAAmBgZ,EAAnB,KACA,EAA4C95B,mBAAS05B,GAAwB5Y,EAAW,IAAxF,mBAAOD,EAAP,KAAuBE,EAAvB,KAGMmS,EAAkB,SAACC,EAAMhjB,GAC7B,OAAQgjB,EAAKxqB,eACX,QACE,MACF,IAAK,WACHquB,EAAY7mB,GACZ,MACF,IAAK,cACHypB,EAAezpB,KAKrBrN,qBAAU,WAIR,OAHA8P,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDlS,EAAU,GAAD,OAAIkS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,SAEzG,WACLyC,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDjS,EAAY,GAAD,OAAIiS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,YAGnH,CAACyC,EAAa9M,EAAMnB,EAAWC,IAGlC9B,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,qBAA6ByE,KAAc,CAACzE,EAAMyE,EAAU9I,IACrFqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,wBAAgC6zB,KAAiB,CAAC7zB,EAAM6zB,EAAal4B,IAE9FqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,mBAA2B+X,KAAY,CAAC/X,EAAM+X,EAAQpc,IAC/EqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,4BAAoC+a,KAAoB,CAAC/a,EAAM+a,EAAgBpf,IACxGqB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,wBAAgCgb,QAA6C1e,IAA5Bye,EAAekZ,UAA0BhZ,EAAkBD,EAAW,MAAU,CAAChb,EAAMgb,EAAYrf,EAASsf,EAAmBF,IAEzM,MAA6CnB,KAArCH,EAAR,EAAQA,eAAgBC,EAAxB,EAAwBA,iBAClB4T,EAAcC,eAGd2G,GAAYx5B,mBAAQ,iBAAO,CAC/BsF,OACAhE,GAAIG,EAAWgH,QAEfzB,OAEAkB,OACAqqB,UAEAxoB,WACAysB,cAEA2C,cACAC,iBAEA/b,SACAgc,YACAhZ,iBACAE,oBACAD,aACAgZ,mBACE,CACFh0B,EACA0B,EAEAkB,EAAMqqB,EAENxoB,EAAUysB,EACV2C,EAAaC,EAEb/b,EAAQgc,EACRhZ,EAAgBE,EAChBD,EAAYgZ,IAIRvG,GAAS1xB,uBAAY,kBAAMm4B,KAAW,CAACA,KAI7Cl3B,qBAAU,WAER,OADAyc,EAAezZ,EAAMk0B,IACd,kBAAMxa,EAAiB1Z,EAAMk0B,OACnC,IAGH,IAAMxG,GAAehzB,mBAAQ,iBAAO,CAClCsF,OACAhE,GAAIG,EAAWgH,QACfzB,OACAisB,QAAS5G,EACT0G,UAEA7qB,OACAqqB,UAEAxoB,WACAysB,cAEA2C,cACAC,iBAEA/b,SACAgc,YACAhZ,iBACAE,oBACAD,aACAgZ,gBAEA1G,iBAEF,CACEttB,EACA7D,EACAuF,EACAqlB,EACA0G,GAEA7qB,EAAMqqB,EACNxoB,EAAUysB,EACV2C,EAAaC,EAEb/b,EAAQgc,EACRhZ,EAAgBE,EAChBD,EAAYgZ,EAEZ1G,IAGF,OACE,cAAC8F,GAAcz4B,SAAf,CAAwBC,MAAO8yB,GAA/B,SACGzzB,KAKPo5B,GAAcpvB,iBAAmBC,EAelBmvB,UC1MA,SAASc,KACtB,OAAOz6B,qBAAW05B,ICApB,IAAMgB,GAAc,WAClB,IAAQlD,EAAgBiD,KAAhBjD,YAEFmD,EAAsBt4B,uBAAY,SAACu4B,GACvCpD,EAAY,CAACoD,EAAGC,QAASD,EAAGE,QAAS,MACpC,CAACtD,IAUJ,OARAl0B,qBAAU,WAKR,OAHA+D,OAAO0zB,iBAAiB,YAAaJ,GAG9B,kBAAMtzB,OAAO2zB,oBAAoB,YAAaL,MACpD,CAACA,IAEG,MAGTD,GAAYnwB,iBAAmBC,EAEhBkwB,UCbTO,GAAiB,SAAC,GAAgB,IAAdziB,EAAa,EAAbA,OACxB,EAEIkf,KADFxuB,EADF,EACEA,KAAM4a,EADR,EACQA,WAAY4D,EADpB,EACoBA,IAAKrB,EADzB,EACyBA,OAAQF,EADjC,EACiCA,OAAqByR,EADtD,EACyCJ,YAEzC,EAAmBh3B,mBAAW,IAAaknB,GAAQ,IAAM5D,IAAlD+T,EAAP,oBAEM9T,EAAS/iB,mBAAQ,WACrB,OAAQkI,EAAKC,eACX,QACA,IAAK,OACH,OAAO0a,GAASC,MAEnB,CAAC5a,EAAM4a,IAEJgU,EAAW92B,mBAAQ,+BACpB+iB,EAAO1gB,KAAI,SAAC00B,GAAD,sBAAavf,EAAS,CAACuf,EAAI,GAAIA,EAAI,GAAI,UACpD,CAAChU,EAAQvL,IAENpE,EAAe/R,uBAAY,SAAC21B,QACXp1B,IAAjBo1B,EAAO92B,OACT02B,EAAeI,EAAO92B,MAAMsX,MAE7B,CAACA,EAAQof,IAENK,EAASj3B,mBAAQ,iBAAO,CAC5Bk3B,MAAO/R,EACPgS,KAAM9R,EACN/N,GAAIwf,EACJG,OAAQ,CACNpiB,SAAUgiB,EACVO,SAAU,GAEZ/oB,SAAU+E,KACR,CAAC0jB,EAAUD,EAAU1R,EAAQE,EAAQjS,IAEzC,EAAgBwd,sBAAU,kBAAOqG,KAAxBI,EAAT,oBAMA,OALA/0B,qBAAU,WACR+0B,EAAIC,OACJD,EAAIE,MAAMN,KACT,CAACI,EAAKJ,IAEF,MAGTgD,GAAe1wB,iBAAmBC,EAElCywB,GAAetC,UAAY,CACzBngB,OAAQogB,KAAUC,OAAOC,YAGZmC,U,6BCtDTC,GAAe,SAAC,GAAc,IAAZ50B,EAAW,EAAXA,KACtB,EAAmCvG,cAA3BoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YACnB,EAIIq1B,KAHFpZ,EADF,EACEA,eACA8Y,EAFF,EAEEA,YAAaC,EAFf,EAEeA,eACb9Y,EAHF,EAGEA,WAAYgZ,EAHd,EAGcA,cAGRv0B,EAAYC,kBAAO,GAEzB,EAAgCxF,mBAAS6gB,GAAzC,mBAAOJ,EAAP,KAAiBC,EAAjB,KAEMC,EAAiB9e,uBAAY,SAACsO,GAC9B5K,EAAU0D,SACZyX,EAAYvQ,KAEb,CAAC5K,EAAWmb,IAEf5d,qBAAU,WAMR,OALAyC,EAAU0D,SAAU,EAEpByX,EAAYG,GACZlc,EAAU,GAAD,OAAImB,EAAJ,4BAAoC6a,GAEtC,WACLpb,EAAU0D,SAAU,EACpBrE,EAAY,GAAD,OAAIkB,EAAJ,4BAAoC6a,MAEhD,CAACE,EAAgBlc,EAAWC,EAAa+b,EAAgB7a,IAG5D,IAAM60B,EAAU,yCAAG,WAAOlD,GAAP,UAAAmD,EAAA,+EAAkB1uB,UAAU2uB,aAAaC,aAAarD,IAAtD,2CAAH,sDAGVsD,EAAU,yCAAG,uBAAAH,EAAA,+EAAY1uB,UAC5B2uB,aAAaG,oBADG,2CAAH,qDAkDhB,OA/CAl4B,qBAAU,WACRi4B,IACG1uB,MAAK,SAACgL,GACLyiB,EAAcziB,EAAQ3R,QAAO,SAAC6nB,GAAD,MAA4B,eAAhBA,EAAO0N,cACtB74B,IAAtBqe,EAASsZ,UACXrZ,EAAYrJ,EAAQ3R,QAAO,SAAC6nB,GAAD,MAA4B,eAAhBA,EAAO0N,QAAuB,OAGxEC,OAAM,SAAClrB,GAENmK,QAAQC,IAAIpK,QAEf,CAAC8pB,EAAerZ,IAEnB3d,qBAAU,WACJge,EAAWpb,QAAO,SAAC6nB,GAAD,MAA4B,eAAhBA,EAAO0N,QAAuBloB,OAAS,GACvE4nB,EAAW,CACTQ,OAAO,EACPC,MAAO,CACLrB,SAAU,CACRsB,WAAqBj5B,IAAbqe,EACJK,EAAWpb,QAAO,SAAC6nB,GAAD,MAA4B,eAAhBA,EAAO0N,QAAuB,GAAGlB,SAC/DtZ,EAASsZ,aAIhB1tB,MAAK,SAACwY,GACL+U,EAAe/U,MAEhBqW,OAAM,SAAClrB,GAENmK,QAAQC,IAAIpK,QAIjB,CAAC4pB,EAAgBnZ,IAGpB3d,qBAAU,WACR,IAAM6wB,EAASgG,EACf,OAAO,WACDhG,GACFA,EAAO2H,YAAYv4B,SAAQ,SAACw4B,GAAD,OAAWA,EAAMzD,aAG/C,CAAC6B,IAEG,MAGTe,GAAa3wB,iBAAmBC,EAEjB0wB,U,yBCtFTc,GAAc,SAAC,GAAoC,IAAlCxyB,EAAiC,EAAjCA,WAAYN,EAAqB,EAArBA,KAAS8C,EAAY,mBACtD,OAAQ9C,EAAKC,eACX,QACA,IAAK,QACH,OACE,cAAC,GAAD,uCAAmBiqB,IAAnB,IAAiClqB,KAAMA,GAAU8C,GAAjD,aACE,cAAC,GAAD,eAAiBA,OAGvB,IAAK,WACH,OACE,cAAC,GAAD,uCAAmBonB,IAAnB,IAAiClqB,KAAMA,GAAU8C,GAAjD,aACE,cAACiwB,GAAD,eAAoBjwB,OAG1B,IAAK,SACH,OACGxC,EAEG,cAAC,GAAD,uCAAmB4pB,IAAnB,IAAiClqB,KAAMA,GAAU8C,GAAjD,aACE,cAAC,GAAD,eAAkBA,OAGpB,OAKZgwB,GAAYzxB,iBAAmBC,EAMhBC,sBAAKuxB,ICvCdE,GAAU,SAAC,GAAiB,IAAfrkB,EAAc,EAAdA,QACTnG,EAAc3R,cAAd2R,UACR,OAAOmG,EAAQxU,KAAI,SAAC84B,GAAD,OAAU,cAAC,GAAD,aAAuD3yB,WAAYkI,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASg5B,EAAI71B,QAAO,IAAQ61B,GAAtI,aAAwBA,EAAIjzB,KAA5B,mBAA2CizB,EAAI71B,WAG9E41B,GAAQ3xB,iBAAmBC,EAEZC,sBAAKyxB,I,gBCGPE,GAAmB/7B,wBAAc,MAEjC+yB,GAAe,CAC1B9sB,KAAM,MACN0B,KAAM,UACNkB,KAAM,aACNmzB,YAAa,UACbC,OAAQ,EACRp7B,MAAO,GACPq7B,SAAU,IAGNC,GAAmB,SAAC,GAGnB,IAFLj8B,EAEI,EAFJA,SACGyL,EACC,mBACJ,EAEIjM,cADF2R,EADF,EACEA,UAAWvM,EADb,EACaA,UAAWC,EADxB,EACwBA,YAAanD,EADrC,EACqCA,QAE7BmR,EAAgB1B,EAAhB0B,YAEF3Q,EAAauD,iBAAOstB,OAAO,cAC3BjG,EAAOrnB,iBAAO,MAEpB,EAAexF,mBAASwL,EAAM1F,MAAvBA,EAAP,oBACA,EAAe9F,mBAASwL,EAAMhE,MAAvBA,EAAP,oBACA,EAAsBxH,mBAASwL,EAAMqwB,aAA9BA,EAAP,oBACA,EAAwB77B,mBAASwL,EAAM9C,MAAQ,cAA/C,mBAAOA,EAAP,KAAaqqB,EAAb,KAEA,EAA4B/yB,mBAASwL,EAAMswB,QAAU,GAArD,mBAAOA,EAAP,KAAeG,EAAf,KACA,EAA0Bj8B,mBAASwL,EAAM9K,OAAS,CAAC,EAAG,EAAG,IAAzD,mBAAOA,EAAP,KAAc4f,EAAd,KACA,EAAgCtgB,mBAASwL,EAAMuwB,UAAY,OAA3D,mBAAOA,EAAP,KAAiBG,EAAjB,KAGMhJ,EAAkBrxB,uBAAY,SAACsxB,EAAMhjB,GACzC,OAAQgjB,EAAKxqB,eACX,QACE,MACF,IAAK,OACH2X,EAASnQ,MAGZ,CAACmQ,IAEJxd,qBAAU,WAIR,OAHA8P,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDlS,EAAU,GAAD,OAAIkS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,SAEzG,WACLyC,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDjS,EAAY,GAAD,OAAIiS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,YAGnH,CAACyC,EAAa9M,EAAMnB,EAAWC,EAAasuB,IAE/CpwB,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,kBAA0BpF,KAAW,CAACA,EAAOe,EAASqE,IAC/EhD,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,mBAA2Bg2B,KAAY,CAACA,EAAQr6B,EAASqE,IAClFhD,qBAAU,WAAQrB,EAAQ,GAAD,OAAIqE,EAAJ,qBAA6Bi2B,KAAc,CAACA,EAAUt6B,EAASqE,IAExF,MAAmD+b,KAA3CH,EAAR,EAAQA,kBAAmBC,EAA3B,EAA2BA,oBACrByR,EAAcC,eAGd0F,EAAUv4B,mBAAQ,iBAAO,CAC7BsF,OACAhE,GAAIG,EAAWgH,QAEfzB,OACAq0B,cAEAnzB,OACAqqB,UAEAryB,QACA4f,WAEAwb,SACAG,YAEAF,WACAG,iBACE,CACFp2B,EACA0B,EAAMq0B,EAENnzB,EAAMqqB,EAENryB,EAAO4f,EACPwb,EAAQG,EACRF,EAAUG,IAIN3I,EAAS1xB,uBAAY,kBAAMk3B,IAAS,CAACA,IAG3Cj2B,qBAAU,WAGR,OADA4e,EAAkB5b,EAAMizB,GACjB,kBAAMpX,EAAoB7b,EAAMizB,MACtC,IAGH,IAAMvF,EAAehzB,mBAAQ,iBAAO,CAClCsF,OACAhE,GAAIG,EAAWgH,QACfzB,OACAisB,QAAS5G,EACT0G,SAEA7qB,OACAqqB,UAEAryB,QACA4f,WAEAwb,SACAG,YAEAF,WACAG,cAEA9I,iBAEF,CACEttB,EACA7D,EACAuF,EACAqlB,EACA0G,EAEA7qB,EAAMqqB,EACNryB,EAAO4f,EACPwb,EAAQG,EACRF,EAAUG,EAEV9I,IAGF,OACE,cAACwI,GAAiBn7B,SAAlB,CAA2BC,MAAO8yB,EAAlC,SACGzzB,KAKPi8B,GAAiBjyB,iBAAmBC,EAiBrBgyB,UC7Kf,IAAMG,GAAsB,WAC1B,MCFO38B,qBAAWo8B,IDGhB91B,EADF,EACEA,KAAgBs2B,EADlB,EACQ9b,SAAyBwb,EADjC,EACiCA,OAAQC,EADzC,EACyCA,SAEzC,EAA8Cx8B,cAAtC2R,EAAR,EAAQA,UAAWvM,EAAnB,EAAmBA,UAAWC,EAA9B,EAA8BA,YAEtBgO,EAAgB1B,EAAhB0B,YAEFypB,EAAYx6B,uBAAY,SAAC8b,GAC7B,OAAQoe,EAASpzB,eACf,QACA,IAAK,MACH,OAAQgV,EAAIme,EACd,IAAK,WACH,OAAQne,EAAIme,EACd,IAAK,WACH,OAAQne,EAAIme,EACd,IAAK,SACH,OAAQne,EAAIme,KAEf,CAACA,EAAQC,IAyBZ,OAtBAj5B,qBAAU,WACR,IAAMowB,EAAkB,SAACC,EAAMhjB,GAC7B,OAAQgjB,EAAKxqB,eACX,QACE,MACF,IAAK,QACHyzB,EAAcjsB,EAAItN,IAAIw5B,MAS5B,OAJAzpB,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDlS,EAAU,GAAD,OAAIkS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,SAGzG,WACLyC,EAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAEiB,KAAOhS,KAAO/C,SAAQ,SAAC8T,GAClDjS,EAAY,GAAD,OAAIiS,EAAElU,KAAN,YAAckU,EAAEgB,SAASlP,cAAzB,aAAkD,SAACwH,GAAU+iB,EAAgBrc,EAAEmB,OAAOrP,cAAewH,YAGnH,CAACyC,EAAa9M,EAAMnB,EAAWC,EAAak3B,EAAQM,EAAeC,IAE/D,MAGTF,GAAoBpyB,iBAAmBC,EAExBmyB,U,mBE/CTG,GAAiB,SAAC,GAA8B,IAA5Bx2B,EAA2B,EAA3BA,KAAM4C,EAAqB,EAArBA,KAAS8C,EAAY,mBACnD,OAAQ9C,EAAKC,eACX,QACA,IAAK,aACH,OACE,cAAC,GAAD,uCAAsBiqB,IAAtB,IAAoC9sB,KAAMA,EAAM4C,KAAMA,GAAU8C,GAAhE,aACE,cAAC+wB,GAAD,aAAqBz2B,KAAMA,EAAM4C,KAAMA,GAAU8C,SAM3D8wB,GAAevyB,iBAAmBC,EAOnBC,sBAAKqyB,ICvBdE,GAAa,SAAC,GAAD,SAAG/kB,WAA4B5U,KAAI,SAAC4qB,GAAD,OAAgB,cAAC,GAAD,eAA6EA,GAA7E,aAA2BA,EAAU/kB,KAArC,sBAAuD+kB,EAAU3nB,WAEvI02B,GAAWzyB,iBAAmBC,EAEfC,sBAAKuyB,ICWdtzB,GAAYC,aAAW,iBAAO,CAClCoE,KAAM,CACJhD,SAAU,WACVkyB,WAAY,OACZryB,MAAO,OACPC,OAAQ,YAINqyB,GAAQ,SAAC,GAER,IADL38B,EACI,EADJA,SAEQmR,EAAc3R,cAAd2R,UAENiH,EACEjH,EADFiH,OAAQwkB,EACNzrB,EADMyrB,OAAQplB,EACdrG,EADcqG,WAAYJ,EAC1BjG,EAD0BiG,MAAOE,EACjCnG,EADiCmG,QAASI,EAC1CvG,EAD0CuG,WAGxChO,EAAUP,KAEhB,QAAe9G,IAAX+V,EACF,OACE,sBAAKtO,UAAWJ,EAAQ8D,KAAxB,UACE,cAAC,GAAD,CAAkBgK,eAClB,cAAC,GAAD,CAAaJ,UACb,cAAC,GAAD,CAAeE,YACf,cAAC,GAAD,CAAkBI,kBAKxB,OAAQU,EAAOzP,KAAKC,eAClB,QACE,OACE,qBAAKkB,UAAWJ,EAAQ8D,OAE5B,IAAK,QACH,OACE,qBAAK1D,UAAWJ,EAAQ8D,KAAxB,SACE,cAAC,IAAD,CACEqvB,SAAO,EACPD,OAAQA,EAERE,IAAKh2B,OAAOi2B,iBAJd,SAME,eAAC,GAAD,WACE,cAAC,GAAD,CAAkBvlB,eAClB,cAAC,GAAD,CAAaJ,UACb,cAAC,GAAD,CAAeE,YACf,cAAC,GAAD,CAAkBI,oBAEFrV,IAAf+V,EAAO4kB,IAAoB3O,wBAAcjW,EAAO4kB,IAAIr0B,KAAM,CAAEA,KAAMyP,EAAO4kB,IAAIr0B,KAAMs0B,OAAQ,MAAOC,KAAMpH,GAAkB1d,EAAO4kB,MAAQ,IAAM,KAC/Ih9B,EACD,cAACm9B,GAAA,EAAD,CAAeC,WAAS,EAACC,YAAU,EAACC,cAAY,aAY9DX,GAAM3yB,iBAAmBC,EAEVC,sBAAKyyB,ICrFL,SAASY,GAAUC,GAChC,OAAO,IAAIC,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAASF,MCQ/C,IAAMI,GAAsB99B,wBAAc,MAI3C+9B,GAAe,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,aAAc99B,EAAe,EAAfA,SAC5B0B,EAAYlC,cAAZkC,QAER,EAAyCo8B,EAAa3J,MAAM,KAA5D,mBAAO4J,EAAP,YAAqBC,OAArB,MAAoC,EAApC,EACA,EAAiC/9B,mBAAS89B,GAA1C,mBAAOE,EAAP,KAAqBC,EAArB,KACMC,EAAY14B,kBAAQ,GACpB24B,EAAe34B,iBAAO44B,OAAOL,IAC7BM,EAAa74B,iBAAO,IAAI9D,KACxBm2B,EAAMr3B,mBACV,iBAAO,CACLw9B,eACAE,UAAWA,EAAUj1B,QACrBk1B,aAAcA,EAAal1B,QACrBg1B,SAJD,SAIUK,GAAY,OAAD,0HAEaA,EAAUpK,MAAM,KAF7B,mBAEnBqK,EAFmB,YAENC,OAFM,MAEQ,EAFR,EAGxBA,EAAcJ,OAAOI,GAEjBR,IAAiBO,EALG,oBAOD,KAAjBP,EAPkB,iCAQdv8B,EAAQ,iBAAkBu8B,GARZ,uBASdv8B,EAAQ,aAAcu8B,GATR,cAYpBC,EAAS,IAZW,UAadX,GAAU,KAbI,QAetBY,EAAUj1B,SAAW,EACrBk1B,EAAal1B,QAAUu1B,EACvBP,EAASM,GAjBa,wBAkBbJ,EAAal1B,UAAYu1B,GAElC3G,EAAI4G,SAASD,GApBS,+CAuBpBC,SA3BD,SA2BU9nB,GAAQ,OAAD,0GAChBA,IAAUwnB,EAAal1B,QADP,uBAElBi1B,EAAUj1B,QAAUk1B,EAAal1B,QACjCk1B,EAAal1B,QAAU0N,EAHL,SAIZkhB,EAAI6G,aAJQ,8CAOhBA,WAlCD,WAkCe,OAAD,wHACXC,EAAYX,EACZY,EAAqBT,EAAal1B,QAClC41B,EAAkBX,EAAUj1B,QAHjB,SAKX4uB,EAAIoG,SAAS,IALF,uBAMXX,GAAU,KANC,OAQjBY,EAAUj1B,QAAU41B,EACpBV,EAAal1B,QAAU21B,EACvBX,EAASU,GAVQ,+CAYnBG,cA9CK,SA8CSj7B,EAAKnD,GACjB29B,EAAWp1B,QAAQ1G,IAAnB,UAA0By7B,EAA1B,YAA0Cn6B,GAAOnD,IAEnDq+B,cAjDK,SAiDSl7B,GACZ,OAAOw6B,EAAWp1B,QAAQlH,IAAnB,UAA0Bi8B,EAA1B,YAA0Cn6B,QAGrD,CAACm6B,EAAcG,EAAc18B,IAG/B,OACE,cAACk8B,GAAoBl9B,SAArB,CAA8BC,MAAOm3B,EAArC,SACG93B,KAUP69B,GAAa7zB,iBAAmBC,EAEjB4zB,UC/Ef,IAAMoB,GAAen/B,wBAAc,MAM5B,IAAMo/B,GAAep/B,wBAAc,MAM1C,IAAMwtB,GAAQ,SAAC,GAAiC,IAA/BvrB,EAA8B,EAA9BA,GAAIoP,EAA0B,EAA1BA,UAAWnR,EAAe,EAAfA,SAC9B,ECrBOP,qBAAWm+B,IDsBhBK,EADF,EACEA,aACAG,EAFF,EAEEA,aACAD,EAHF,EAGEA,UACAQ,EAJF,EAIEA,WACAD,EALF,EAKEA,SAEMtmB,EAAWjH,EAAXiH,OACR,EAAkCnY,mBAAS,IAA3C,mBAAOk/B,EAAP,KAAkBC,EAAlB,KAGMC,EAAav9B,sBAAW,wBAAC,uBAAA+4B,EAAA,0FAW5B,IAEGpH,EAAehzB,mBACnB,+BACE6+B,YADF,SACcC,EAAYC,GACtB,IAAM17B,EAAwB,MAAlBy7B,EAAWz7B,IAAc6f,KAAKqJ,SAAWuS,EAAWz7B,IAC1D27B,EAAWD,EACbE,YAAaH,EAAYC,EAAY,KAAM17B,GAC3C4rB,IAAMiQ,aAAaJ,EAAY,CAAEz7B,QAErC,OADAs7B,GAAa,SAACl2B,GAAD,6BAAiBA,GAAjB,CAA0Bu2B,OAChC,WACLL,GAAa,SAACl2B,GAAD,OAAaA,EAAQvD,QAAO,SAACi6B,GAAD,OAAUA,IAASH,UAIhExB,eACAG,eACAD,YACAQ,aACAD,YACGtmB,KAEL,CAAC6lB,EAAcG,EAAcD,EAAWQ,EAAYD,EAAUtmB,IAG1DynB,EAAoBp/B,mBACxB,iBAAO,CACLmW,MAAOwnB,EACPnpB,WAAYkpB,EAAYC,GAAgB,EAAI,EAC5C0B,eAHK,WAIHpB,EAASN,EAAe,IAE1B2B,eANK,WAOHrB,EAASN,EAAe,OAG5B,CAACA,EAAcD,EAAWO,IAgB5B,OAbA37B,qBAAU,WAEJk7B,IAAiBl8B,EAEnBs9B,IAGAD,EAAa,MAGd,CAACnB,EAAcl8B,EAAIs9B,IAGjBpB,EAAa+B,WAAWj+B,GAG3B,cAACk9B,GAAav+B,SAAd,CAAuBC,MAAO8yB,EAA9B,SACE,cAACyL,GAAax+B,SAAd,CAAuBC,MAAOk/B,EAA9B,SACE,gCAEE,kCACE,mCAAG7/B,IACH,mCAAGm/B,aAT4B,MAyB3C7R,GAAMtjB,iBAAmBC,EAEVqjB,UE9GT2S,GAAevQ,IAAMwQ,MAAK,kBAAM,iCAEhCC,GAAa,SAAC10B,GAElB,IAAM20B,EAAO36B,mBAGb,EAA4BxF,oBAAS,GAArC,mBAAOogC,EAAP,KAAgBC,EAAhB,KACA,EAA4BrgC,oBAAS,GAArC,mBAAO6d,EAAP,KAAegc,EAAf,KAKA,OAFAyG,aAAS,WAAQH,EAAKl3B,QAAQs3B,SAAS9V,GAAK,OAG1C,iDAEMjf,GAFN,IAGEtJ,IAAKi+B,EACLK,MAAO3iB,EAAS,IAAM,EACtBnS,QAAS,kBAAMmuB,GAAWhc,IAC1B4iB,cAAe,kBAAMJ,GAAS,IAC9BK,aAAc,kBAAML,GAAS,IAP/B,UASE,6BAAapD,KAAM,CAAC,EAAG,EAAG,KAC1B,sCAAsBpoB,MAAOurB,EAAU,UAAY,gBAKnDO,GAAM,WACV,MAEIphC,cADFoF,EADF,EACEA,UAAWC,EADb,EACaA,YAAasM,EAD1B,EAC0BA,UAAWrM,EADrC,EACqCA,aAErC,EAAgElE,IAAxDV,EAAR,EAAQA,iBAAkBE,EAA1B,EAA0BA,eAAgBC,EAA1C,EAA0CA,kBAC1C,EAAwEiB,IAAhEP,EAAR,EAAQA,mBAAoBE,EAA5B,EAA4BA,kBAAmBC,EAA/C,EAA+CA,qBAEzCsE,EAAYC,kBAAO,GAEnBo7B,EAAc/+B,uBAAY,SAACiC,GAC3ByB,EAAU0D,SACZpE,EAAaf,KAEd,CAACe,IAaJ,OAXA/B,qBAAU,WAKR,YAJkBV,IAAd8O,IACF3L,EAAU0D,SAAU,EACpBtE,EAAU,gBAAiBi8B,IAEtB,WACLr7B,EAAU0D,SAAU,EACpBrE,EAAY,gBAAiBg8B,MAE9B,CAACr7B,EAAWq7B,EAAaj8B,EAAWC,EAAasM,IAGlD,cAAC,GAAD,CACE/Q,iBACAF,mBACAG,oBACAY,oBACAF,qBACAG,uBANF,SASE,cAAC,GAAD,CAAaiQ,YAAb,SACE,cAAC,GAAD,CAAoB2sB,aAAc,YAAlC,SACE,cAAC,GAAD,CAAa/7B,GAAI,UAAWoP,YAA5B,SACE,cAAC,WAAD,CAAU2vB,SAAW,cAAC,GAAD,CAAYt2B,SAAU,CAAC,IAAK,EAAG,KAApD,SACE,cAACy1B,GAAD,CAAoB9uB,yBASlCyvB,GAAI52B,iBAAmBC,EAER22B,UCpET5xB,GAAQ+xB,YAAe,CAC3B3xB,QAAQ,yBACNzG,KAAM,OACNwG,WAAY,CACV6xB,QAASC,IAAK,KACd5xB,MAAO4xB,IAAK,OAEXC,WANE,IAOLzyB,QAAS,CACP0yB,KAAMF,IAAK,MAEbvyB,UAAW,CACTyyB,KAAMF,IAAK,UAKjBG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,eAACC,EAAA,EAAD,CAAevyB,MAAOA,GAAtB,UACE,cAACwyB,EAAA,EAAD,IACA,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,GAAD,UACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,cAAC,GAAD,6BAcxBtT,SAASuT,eAAe,U,oFCxEX,SAASrO,IACtB,MAAqBrzB,mBAAS,IAArB2hC,EAAT,oBACA,OAAO9/B,uBAAY,kBAAM8/B,EAAS,MAAK,M,gCCJzC,kCACA,IAAM59B,EAAS,iBAA0C,KAAnC8C,OAAOC,SAASE,KAAKC,OAAO,K,4ICMrCtH,EAAsBE,wBAAc,MAEtC82B,EAA2B,GAqGvB8K,IAnGa,SAAC,GAEtB,IADL1hC,EACI,EADJA,SAEA,EAA4CR,cAApCoF,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,YAAanD,EAAhC,EAAgCA,QAChC,EAA8BzB,oBAAS,kBAAM,IAAI0B,OAA1CkgC,EAAP,oBACA,EAAoC5hC,oBAAS,kBAAM,IAAI0B,OAAhDmgC,EAAP,oBACA,EAAmC7hC,oBAAS,kBAAM,IAAI0B,OAA/CogC,EAAP,oBACA,EAAoC9hC,oBAAS,kBAAM,IAAI0B,OAAhDqgC,EAAP,oBAEMC,EAAYngC,uBAAY,gBACAO,IAAxBw/B,GAAqCA,EAAoBK,aAC3B7/B,IAA9By/B,GAA2CA,EAA0BI,aACxC7/B,IAA7B0/B,GAA0CA,EAAyBG,aACrC7/B,IAA9B2/B,GAA2CA,EAA0BE,UACxE,CACDL,EACAG,EACAF,EACAC,IAEFh/B,qBAAU,WAER,OADA6B,EAAU,aAAcq9B,GACjB,WACLp9B,EAAY,aAAco9B,MAE3B,CAACr9B,EAAWC,EAAao9B,IAE5B,IAAME,EAA4B1hC,mBAChC,iBAAO,CACL2hC,oBADK,SACelgC,EAAYC,GAE9B0/B,EAAoBr/B,IAAIN,EAAYC,GAEpC2/B,EAA0Bt/B,IAAIL,EAAIsF,KAAMtF,GAExC,IAAQqI,EAAarI,EAAbqI,SACFgtB,EAAG,UAAMhtB,EAASkgB,EAAf,YAAoBlgB,EAASogB,EAA7B,YAAkCpgB,EAAS63B,GAC9CC,EAAUP,EAAyB//B,IAAIw1B,IAAQ,GACrD8K,EAAQ5e,KAAKvhB,GACb4/B,EAAyBv/B,IAAIg1B,EAAK8K,GAElC5gC,EAAQ,4BAA6BS,EAAK,QAE5CogC,sBAfK,SAeiBrgC,EAAYC,GAEhC0/B,EAAoBv/B,OAAOJ,GAE3B4/B,EAA0Bx/B,OAAOH,EAAIsF,MAErC,IAAQ+C,EAAarI,EAAbqI,SACFgtB,EAAG,UAAMhtB,EAASkgB,EAAf,YAAoBlgB,EAASogB,EAA7B,YAAkCpgB,EAAS63B,GAC9CC,EAAUP,EAAyB//B,IAAIw1B,GAC7C8K,EAAQE,OAAOF,EAAQG,QAAQtgC,GAAM,GAErCT,EAAQ,4BAA6BQ,EAAY,WAEnD+b,gBA5BK,SA4BWlc,GACd,OAAO8/B,EAAoB7/B,IAAID,IAEjC2gC,sBA/BK,SA+BiBj7B,GACpB,OAAOq6B,EAA0B9/B,IAAIyF,IAEvCk7B,sBAlCK,SAkCiBjY,EAAGE,GACvB,OAAOmX,EAAyB//B,IAAzB,UAAgC0oB,EAAhC,YAAqCE,IAAKjlB,QAAO,SAACwwB,GAAD,OAAUA,EAAItH,aAAa,IAErF+T,wBArCK,SAqCmBj6B,GACtB,OAAOq5B,EAA0BhgC,IAAI2G,GAAMhD,QAAO,SAACwwB,GAAD,OAAUA,EAAItH,aAAa,IAE/EgU,sBAxCK,WAyCH,OAAOlgC,MAAMC,KAAKk/B,EAA0Bj/B,YAGhD,CACEg/B,EACAG,EACAF,EACAC,EACArgC,IAWJ,OAPAk1B,EAA2Bn2B,mBAAQ,+BACjCqhC,6BACGK,KACD,CACFL,EACAK,IAGA,cAACviC,EAAoBc,SAArB,CAA8BC,MAAOi2B,EAArC,SACG52B,M,uKCpDQ8iC,EAjDO,WACpB,IAAMC,EAAS,GAaTl+B,EAAc,SAAC4C,EAAMu7B,GACzB,QAAqB3gC,IAAjB0gC,EAAOt7B,GAAX,CAEA,IAAM8nB,EAAQwT,EAAOt7B,GAAMw7B,SAASR,QAAQO,GAC5CD,EAAOt7B,GAAMw7B,SAAST,OAAOjT,EAAO,KAuBtC,MAAO,CACL7tB,QAxCW,uCAAG,WAAO+F,EAAM1D,GAAb,SAAA82B,EAAA,kEACOx4B,IAAjB0gC,EAAOt7B,KACTs7B,EAAOt7B,GAAQ,CAAEA,OAAMw7B,SAAU,KAGnCF,EAAOt7B,GAAMy7B,SAAWn/B,EALV,SAQR05B,QAAQ0F,IAAIJ,EAAOt7B,GAAMw7B,SAASG,QAAQtgC,KAAI,SAACkgC,GAAD,OAAaA,EAAQj/B,KAAO,MARlE,iCASP,GATO,2CAAH,wDAyCXa,UAtBgB,SAAC6C,EAAMu7B,GAUvB,YATqB3gC,IAAjB0gC,EAAOt7B,KACTs7B,EAAOt7B,GAAQ,CAAEA,OAAMw7B,SAAU,GAAIC,SAAU,OAEjDH,EAAOt7B,GAAMw7B,SAASvf,KAAKsf,GAEG,OAA1BD,EAAOt7B,GAAMy7B,UACfF,EAAQD,EAAOt7B,GAAMy7B,UAGhB,kBAAMr+B,EAAY4C,EAAMu7B,KAa/Bn+B,cACAw+B,iBAXuB,SAAC57B,GACxB,YAAqBpF,IAAjB0gC,EAAOt7B,GACF,EAEFs7B,EAAOt7B,GAAMw7B,SAASjwB,U,iCCtBpBtT,EAAaI,wBAAc,MAE7B62B,EAAkB,GAEvB8K,EAAa,SAAC,GAEb,IADLzhC,EACI,EADJA,SAEA,EAAkCC,oBAAS,WACzC,OAAI+D,cACKs/B,EAEFC,KAJT,mBAAOpyB,EAAP,KAAkBrM,EAAlB,KAOA,EAA4B7E,oBAAS,GAArC,mBAAO2lB,EAAP,KAAeoR,EAAf,KAEA,EAAiB/2B,oBAAS,kBAAM6iC,OAAzBC,EAAP,oBAEMS,EAAgB,SAACC,EAAS96B,GAAV,MAAoB,CACxC5C,KAAM09B,EACN96B,KAAK,GAAD,OAAKA,EAAL,YACJ0B,MAAO,EACPC,OAAQ,EACRo5B,MAAO,EACPC,cAAe,EACfC,eAAgB,EAChBC,cAAe,IAGXC,EAAgB,SAACC,GAAD,MAAmB,CACvCh+B,KAAMg+B,EACNp7B,KAAM,uBACNmM,MAAO,SACPkvB,UAAW,EACXC,UAAW,EACXC,SAAU,EACVC,gBAAiB,EACjBC,gBAAiB,IACjBC,UAAW,EACXC,WAAW,EACXC,YAAY,EACZC,YAAY,EACZC,cAAc,EACdC,iBAAkB,IAClBC,YAAa,IACbC,WAAY,EACZC,gBAAiB,IACjBC,YAAa,KACbC,aAAc,KACdC,aAAc,OAGVC,EAAYnjC,uBAAY,SAACojC,EAAQn/B,EAAMqK,EAAK+0B,GAChDD,EAAOliC,SAAQ,SAACoiC,GACVA,EAAMr/B,OAASA,GAEjBq/B,EAAM3uB,SAASD,cAAgBpG,EAC/B+0B,UAC4B9iC,IAAnB+iC,EAAMplC,UACfilC,EAAUG,EAAMplC,SAAU+F,EAAMqK,EAAK+0B,QAGxC,IAEGE,EAAcvjC,uBAAY,SAACojC,EAAQn/B,EAAMo/B,GAC7CD,EAAOliC,SAAQ,SAACoiC,EAAOE,GACrB,GAAIF,EAAMr/B,OAASA,EAAM,CACvB,IAAM+Q,EAAIouB,EAAO1C,OAAO8C,EAAK,GAC7BH,EAASruB,aACmBzU,IAAnB+iC,EAAMplC,UACfqlC,EAAYD,EAAMplC,SAAU+F,EAAMo/B,QAGrC,IAGGI,EAAa9kC,mBAAQ,iBAAO,CAChCuhB,gBADgC,SAChBjc,GACdjB,EAAa,2BACRqM,GADO,IAEVuG,WAAW,YACNvG,EAAUuG,WAAW/R,QAAO,SAAC6/B,GAAD,OAAQA,EAAEz/B,OAASA,MAEpD8M,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,UAI1E+pB,aAZgC,SAYnBnnB,GACX7D,EAAa,2BACRqM,GADO,IAEVuG,WAAW,GAAD,mBACLvG,EAAUuG,YADL,CAER,CACE3R,KAAMyB,cACNmB,OACAlB,KAAK,OAAD,OAASkB,GACbozB,OAAQ,EACRtlB,SAAU,CACRD,eAAe,UAMzB4R,aA7BgC,SA6BnBriB,GACXjB,EAAa,2BACRqM,GADO,IAEV+F,QAAQ,YACH/F,EAAU+F,QAAQvR,QAAO,SAACwa,GAAD,OAAQA,EAAEpa,OAASA,MAEjD8M,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,UAI1EkZ,aAxCgC,SAwCnBlZ,GACXjB,EAAa,2BACRqM,GADO,IAEVmG,QAAQ,YACHnG,EAAUmG,QAAQ3R,QAAO,SAACwa,GAAD,OAAQA,EAAEpa,OAASA,MAEjD8M,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,UAI1E8pB,UAnDgC,SAmDtBlnB,GACR,IAAM88B,EAAaj+B,cACfk+B,EAAO,2BACNv0B,GADM,IAETmG,QAAQ,GAAD,mBACFnG,EAAUmG,SADR,CAEL,CACEvR,KAAM0/B,EACN98B,OACAlB,KAAK,OAAD,OAASkB,GACb8N,SAAU,CACRD,eAAe,QAKvB,GAAa,WAAT7N,EAAmB,CAErB,IAAMg9B,EAAcn+B,cACpBk+B,EAAO,2BACFA,GADE,IAELxuB,QAAQ,GAAD,mBACF/F,EAAU+F,SADR,CAEL,CACEnR,KAAM4/B,EACNh9B,KAAM,UACNlB,KAAM,cACNiD,KAAM,QACN3D,SAAU,YACV0P,SAAU,CACRD,eAAe,MAIrB3D,YAAY,GAAD,mBACN1B,EAAU0B,aADJ,CAET,CACE9M,KAAMyB,cACN5E,KAAM6iC,EACN3tB,SAAU,cACVC,GAAI4tB,EACJ1tB,OAAQ,mBAKhBnT,EAAa4gC,IAEfze,gBAnGgC,SAmGhBlhB,GACdjB,EAAa,2BACRqM,GADO,IAEVqG,WAAW,YACNrG,EAAUqG,WAAW7R,QAAO,SAACigC,GAAD,OAAQA,EAAE7/B,OAASA,MAEpD8M,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,UAI1E6pB,aA9GgC,SA8GnBjnB,GACX7D,EAAa,2BACRqM,GADO,IAEVqG,WAAW,GAAD,mBACLrG,EAAUqG,YADL,CAER,CACEzR,KAAMyB,cACNmB,OACAlB,KAAK,OAAD,OAASkB,GACb4a,WAAY,GACZ4D,IAAK,GACLrB,QAAQ,EACRF,QAAQ,EACRnP,SAAU,CACRD,eAAe,UAMzB6G,kBAlIgC,SAkIdtX,EAAMqK,GACtB,IAAMy1B,EAAkB10B,EAAUiH,OAAOpY,SACzCilC,EAAUY,EAAiB9/B,EAAMqK,GAAK,WACpCtL,EAAa,2BACRqM,GADO,IAEViH,OAAO,2BACFjH,EAAUiH,QADT,IAEJpY,SAAU6lC,WAKlB/mB,eA9IgC,SA8IjB/Y,GACb,IAAM8/B,EAAkB10B,EAAUiH,OAAOpY,SACzCqlC,EAAYQ,EAAiB9/B,GAAM,WACjCjB,EAAa,2BACRqM,GADO,IAEViH,OAAO,2BACFjH,EAAUiH,QADT,IAEJpY,SAAU6lC,IAEZhzB,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,aAK5E4pB,YA7JgC,SA6JpBhnB,GACV,IAAM86B,EAAUj8B,cACVu8B,EAAev8B,cACrB1C,EAAa,2BACRqM,GADO,IAEV20B,WAAW,GAAD,mBACL30B,EAAU20B,YADL,CAERtC,EAAcC,EAAS96B,KAEzBo9B,UAAU,GAAD,mBACJ50B,EAAU40B,WADN,CAEPjC,EAAcC,KAEhB3rB,OAAO,2BACFjH,EAAUiH,QADT,IAEJpY,SAAS,GAAD,mBACHmR,EAAUiH,OAAOpY,UADd,CAEN,CACE+F,KAAMyB,cACNmB,KAAM,OACNlB,KAAMkB,EACNq9B,OAAQ,EACRC,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACtDC,SAAUzC,EACV0C,SAAUpC,EACVttB,SAAU,CACRD,eAAe,YAQ3B4vB,WA/LgC,SA+LrBrgC,EAAM5D,GACf2C,EAAa,2BACRqM,GADO,IAEViG,MAAM,GAAD,mBACAjG,EAAUiG,OADV,YAEAjV,QAIT6lB,WAxMgC,SAwMrBjiB,GACTjB,EAAa,2BACRqM,GADO,IAEViG,MAAM,YACDjG,EAAUiG,MAAMzR,QAAO,SAAC1C,GAAD,OAAQA,EAAE8C,OAASA,MAE/C8M,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAElU,OAASmD,GAAQ+Q,EAAEiB,KAAOhS,UAI1E4oB,QAnNgC,SAmNxB5oB,GACNjB,EAAa,2BACRqM,GADO,IAEViG,MAAM,GAAD,mBACAjG,EAAUiG,OADV,CAEH,CACEzO,KAAM,OACNlB,KAAM1B,EACNA,OACA0Q,SAAU,CACRD,eAAe,UAOzB+U,cApOgC,SAoOlB8a,GACZvhC,EAAa,2BACRqM,GADO,IAEV0B,YAAY,GAAD,mBACN1B,EAAU0B,aADJ,CAET,CACE9M,KAAMyB,cACN5E,KAAMyjC,EAAKzuB,OACXE,SAAUuuB,EAAKxuB,aAAa2K,QAAQ6jB,EAAKzuB,OAAQ,IAAIuc,MAAM,KAAK,GAAGvrB,cACnEmP,GAAIsuB,EAAK35B,OACTuL,OAAQouB,EAAKruB,aAAawK,QAAQ6jB,EAAK35B,OAAQ,IAAIynB,MAAM,KAAK,GAAGvrB,qBAKzE0iB,iBAnPgC,SAmPfgb,EAASC,GACxBzhC,EAAa,2BACRqM,GADO,IAEV0B,YAAY,GAAD,mBACN1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAE/Q,OAASugC,EAAQvkC,OADlD,CAET,CACEgE,KAAMugC,EAAQvkC,GACda,KAAM2jC,EAAc3uB,OACpBE,SAAUyuB,EAAc1uB,aAAa2K,QAAQ+jB,EAAc3uB,OAAQ,IAAIuc,MAAM,KAAK,GAClFpc,GAAIwuB,EAAc75B,OAClBuL,OAAQsuB,EAAcvuB,aAAawK,QAAQ+jB,EAAc75B,OAAQ,IAAIynB,MAAM,KAAK,UAKxFhL,iBAlQgC,SAkQfmd,GACfxhC,EAAa,2BACRqM,GADO,IAEV0B,YAAY,YACP1B,EAAU0B,YAAYlN,QAAO,SAACmR,GAAD,OAAQA,EAAE/Q,OAASugC,EAAQvkC,WAIjEgpB,iBA1QgC,SA0Qfqa,GACf,IAAMS,EAAkB10B,EAAUiH,OAAOpY,SACzCqlC,EAAYQ,EAAiBT,EAAMr/B,MAAM,SAAC+Q,GACxChS,EAAa,2BACRqM,GADO,IAEViH,OAAO,2BACFjH,EAAUiH,QADT,IAEJpY,SAAS,GAAD,mBACH6lC,GADG,CAEN/uB,EAAE,iBAMV,CAAC3F,EAAWrM,EAAcugC,EAAaJ,IAkB3C,OAhBAtO,EAAkBl2B,mBAAQ,8BAAC,aACzB+lC,SAAU,GAEV5gB,SACAoR,YACA7lB,YACArM,gBACGi+B,GACAwC,KACD,CACF3f,EAAQoR,EACR7lB,EAAWrM,EACXi+B,EACAwC,IAGM,cAAC7lC,EAAWgB,SAAZ,CAAqBC,MAAOg2B,EAA5B,SAA8C32B,KAOxDyhC,EAAWz3B,iBAAmBC,EAEfw3B,Q","file":"static/js/main.52131b3e.chunk.js","sourcesContent":["import { useContext } from 'react';\nimport { AppContext } from '../Managers/AppManager';\n\nexport default function useAppContext() {\n  return useContext(AppContext);\n}\n","import { useContext } from 'react';\nimport { ThreeObjectsContext } from '../Managers/ThreeObjectsManager';\n\nexport default function useThreeObjectsContext() {\n  return useContext(ThreeObjectsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nexport const EditorMenuContext = createContext(null);\n\nconst EditorMenuManager = ({\n  children,\n}) => {\n  const [editorMenuHeight, setEditorMenuHeight] = useState(500);\n  const [editorMenuOpen, setEditorMenuOpen] = useState(false);\n  const [editorMenuTab, setEditorMenuTab] = useState(0);\n\n  const editorMenuContextValue = useMemo(() => ({\n    editorMenuHeight,\n    setEditorMenuHeight,\n    editorMenuOpen,\n    setEditorMenuOpen,\n    editorMenuTab,\n    setEditorMenuTab,\n  }), [\n    editorMenuHeight, setEditorMenuHeight,\n    editorMenuOpen, setEditorMenuOpen,\n    editorMenuTab, setEditorMenuTab,\n  ]);\n\n  return (\n    <EditorMenuContext.Provider value={editorMenuContextValue}>\n      {children}\n    </EditorMenuContext.Provider>\n  );\n};\n\nEditorMenuManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default EditorMenuManager;\n","import { useContext } from 'react';\nimport { EditorMenuContext } from '../Managers/EditorMenuManager';\n\nexport default function useEditorMenuContext() {\n  return useContext(EditorMenuContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nexport const InspectorMenuContext = createContext(null);\n\nconst InspectorMenuManager = ({\n  children,\n}) => {\n  const [inspectorMenuWidth, setInspectorMenuWidth] = useState(375);\n  const [inspectorMenuOpen, setInspectorMenuOpen] = useState(false);\n  const [inspectorMenuTab, setInspectorMenuTab] = useState(0);\n\n  const inspectorMenuContextValue = useMemo(() => ({\n    inspectorMenuWidth,\n    setInspectorMenuWidth,\n    inspectorMenuOpen,\n    setInspectorMenuOpen,\n    inspectorMenuTab,\n    setInspectorMenuTab,\n  }), [\n    inspectorMenuWidth, setInspectorMenuWidth,\n    inspectorMenuOpen, setInspectorMenuOpen,\n    inspectorMenuTab, setInspectorMenuTab,\n  ]);\n\n  return (\n    <InspectorMenuContext.Provider value={inspectorMenuContextValue}>\n      {children}\n    </InspectorMenuContext.Provider>\n  );\n};\n\nInspectorMenuManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default InspectorMenuManager;\n","import { useContext } from 'react';\nimport { InspectorMenuContext } from '../Managers/InspectorMenuManager';\n\nexport default function useInspectorMenuContext() {\n  return useContext(InspectorMenuContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext, useCallback, useEffect, useMemo, useState,\n} from 'react';\n\nimport moment from 'moment';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const PeersContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let peersContextValue = {};\n\nconst PeersManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n\n  // Peer Connections\n  const [PeerRegistry] = useState(() => new Map());\n\n  const findPeer = useCallback((id) => PeerRegistry.get(id), [PeerRegistry]);\n\n  const registerPeer = useCallback((identifier, ref) => {\n    let oldRef = {};\n    if (oldRef !== undefined) {\n      oldRef = findPeer(identifier);\n      PeerRegistry.delete(identifier);\n    }\n\n    const newRef = {\n      ...oldRef,\n      ...ref,\n    };\n\n    // register by id\n    PeerRegistry.set(identifier, newRef);\n\n    publish('peer-modified', newRef);\n    publish('peers-list-changed', newRef, 'add');\n  }, [PeerRegistry, findPeer, publish]);\n\n  const unregisterPeer = useCallback((identifier) => {\n    // unregister by id\n    PeerRegistry.delete(identifier);\n    publish('peers-list-changed', identifier, 'remove');\n  }, [PeerRegistry, publish]);\n\n  const getPeersArray = useCallback(\n    () => Array.from(PeerRegistry.keys()).map((id) => PeerRegistry.get(id)),\n    [PeerRegistry],\n  );\n\n  // prune old connections\n  useEffect(() => {\n    Array.from(PeerRegistry).forEach((p) => {\n      const [id, ref] = p;\n      const freshness = moment().diff(ref.lastSeen, 'seconds');\n      if (freshness > 0) {\n        unregisterPeer(id, ref);\n      }\n    });\n  }, [PeerRegistry, unregisterPeer]);\n\n  const peerRegistryUtils = useMemo(\n    () => ({\n      findPeer,\n      registerPeer,\n      unregisterPeer,\n      getPeersArray,\n    }),\n    [\n      findPeer,\n      registerPeer,\n      unregisterPeer,\n      getPeersArray,\n    ],\n  );\n\n  peersContextValue = useMemo(() => ({\n    PeerRegistry,\n    ...peerRegistryUtils,\n  }), [\n    PeerRegistry,\n    peerRegistryUtils,\n  ]);\n\n  return (\n    <PeersContext.Provider value={peersContextValue}>\n      {children}\n    </PeersContext.Provider>\n  );\n};\n\nPeersManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default PeersManager;\n","import { useContext } from 'react';\nimport { PeersContext } from '../Managers/PeersManager';\n\nexport default function useConnectionsContext() {\n  return useContext(PeersContext);\n}\n","import niceware from 'niceware';\n\nexport default function GenerateRoomId() {\n  return niceware.generatePassphrase(6).reduce((accumulator, currentValue) => `${accumulator}-${currentValue}`);\n}\n","import { isHost } from './userCheck';\n\n// Save data in local or session storage.\nconst persistData = (key, data) => {\n  if (isHost()) {\n    // Hosts remember room details between sessions\n    // eslint-disable-next-line no-undef\n    localStorage.setItem(key, JSON.stringify(data));\n  } else {\n    // Peers will forget room details when a tab / window is closed\n    // eslint-disable-next-line no-undef\n    sessionStorage.setItem(key, JSON.stringify(data));\n  }\n};\n\nconst restoreData = (key) => {\n  if (isHost()) {\n    // eslint-disable-next-line no-undef\n    return JSON.parse(localStorage.getItem(key));\n  }\n\n  // eslint-disable-next-line no-undef\n  return JSON.parse(sessionStorage.getItem(key));\n};\n\nexport {\n  persistData,\n  restoreData,\n};\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useEffect, createContext, useState, useMemo, useCallback,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { joinRoom, selfId } from 'trystero';\nimport useAppContext from '../../App/Contexts/useAppContext';\nimport usePeersContext from '../../Peers/Contexts/usePeersContext';\n\nimport generateRoomId from '../../Utils/generateRoomId';\nimport { restoreData, persistData } from '../../Utils/PersistantStorage';\n\nimport { isHost } from '../../Utils/userCheck';\n\nexport const ConnectionsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let connectionsContextValue = {};\n\nconst ConnectionsManager = ({ children }) => {\n  const {\n    subscribe, unsubscribe, publish, setSceneJSON,\n  } = useAppContext();\n\n  const { findPeer } = usePeersContext();\n\n  const [connectionType] = useState((isHost()) ? 'host' : 'peer');\n\n  const [room, setRoom] = useState(null);\n  const [roomInfo, setRoomInfo] = useState(null);\n  const [roomActions] = useState(() => new Map());\n\n  // Pull from local storage\n  const me = restoreData('me');\n\n  const [ConnectionRegistry] = useState(() => new Map());\n\n  const isMounted = useRef(false);\n\n  const getMe = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.isMe === true)[0],\n    [ConnectionRegistry],\n  );\n\n  const getHost = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.isHost === true)[0],\n    [ConnectionRegistry],\n  );\n\n  const getByUUID = useCallback(\n    (uuid) => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.uuid === uuid)[0],\n    [ConnectionRegistry],\n  );\n\n  const updateConnectionInfo = useCallback((uuid, ref) => {\n    let oldRefs = {};\n\n    if (ConnectionRegistry.has(ref.connectionId)) {\n      oldRefs = {\n        ...oldRefs,\n        ...ConnectionRegistry.get(ref.connectionId),\n      };\n      ConnectionRegistry.delete(ref.connectionId);\n    }\n\n    if (ConnectionRegistry.has(uuid)) {\n      oldRefs = {\n        ...oldRefs,\n        ...ConnectionRegistry.get(uuid),\n      };\n      ConnectionRegistry.delete(uuid);\n    }\n\n    const newRef = { ...oldRefs, ...ref };\n\n    ConnectionRegistry.set(uuid, newRef);\n    // addPeer(uuid, newRef);\n\n    if (newRef.isMe) {\n      persistData('me', newRef);\n      publish('me-modified', newRef);\n    }\n\n    if (newRef.isHost) {\n      publish('host-modified', newRef);\n    }\n\n    persistData('connections', Array.from(ConnectionRegistry));\n    publish('connection-modified', newRef);\n  }, [ConnectionRegistry, publish]);\n\n  const findConnection = useCallback((id) => ConnectionRegistry.get(id), [ConnectionRegistry]);\n\n  const registerConnection = useCallback((identifier, ref) => {\n    // register by id\n    ConnectionRegistry.set(identifier, ref);\n\n    if (ref.isMe) {\n      persistData('me', ref);\n      publish('me-modified', ref);\n    }\n\n    if (ref.isHost) {\n      publish('host-modified', ref);\n    }\n\n    persistData('connections', Array.from(ConnectionRegistry));\n\n    publish('connections-list-changed', ref, 'add');\n    publish('connection-modified', ref);\n  }, [ConnectionRegistry, publish]);\n\n  const unregisterConnection = useCallback((identifier) => {\n    // unregister by id\n    ConnectionRegistry.delete(identifier);\n    publish('connections-list-changed', identifier, 'remove');\n  }, [ConnectionRegistry, publish]);\n\n  const getConnectionsArray = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)),\n    [ConnectionRegistry],\n  );\n\n  const getRoomInfo = useCallback(() => roomInfo, [roomInfo]);\n\n  const connectionRegistryUtils = useMemo(\n    () => ({\n      updateConnectionInfo,\n      findConnection,\n      registerConnection,\n      unregisterConnection,\n      getConnectionsArray,\n      getRoomInfo,\n      getMe,\n      getHost,\n      getByUUID,\n    }),\n    [\n      updateConnectionInfo,\n      findConnection,\n      getConnectionsArray,\n      registerConnection,\n      unregisterConnection,\n      getRoomInfo,\n      getMe,\n      getHost,\n      getByUUID,\n    ],\n  );\n\n  // Store props for context provider\n  connectionsContextValue = useMemo(() => ({\n    ConnectionRegistry,\n    ...connectionRegistryUtils,\n    connectionType,\n    room,\n    setRoom,\n    roomInfo,\n    setRoomInfo,\n  }), [\n    ConnectionRegistry,\n    connectionRegistryUtils,\n    connectionType,\n    room, setRoom,\n    roomInfo, setRoomInfo,\n  ]);\n\n  // Find, create, and save details abount a room\n  useEffect(() => {\n    if (roomInfo === null) { // There is no roomInfo, create it\n      let info = restoreData('roomInfo');\n\n      if (info === null) { // There is no stored state, make it up\n        if (isHost()) { // If there is no connection url, you're the host\n          const newId = generateRoomId();\n          info = {\n            id: newId,\n            // eslint-disable-next-line no-undef\n            url: `${window.location.href}#${newId}`,\n          };\n        } else {\n          info = {\n            // eslint-disable-next-line no-undef\n            id: window.location.hash.substr(1),\n            // eslint-disable-next-line no-undef\n            url: `${window.location.href}#${window.location.hash.substr(1)}`,\n          };\n        }\n      }\n\n      // Save / pass down room info\n      persistData('roomInfo', info);\n      setRoomInfo(info);\n    }\n  }, [roomInfo, setRoomInfo]);\n\n  // Save roomInfo updates to localstorage\n  useEffect(() => {\n    if (roomInfo !== null) {\n      persistData('roomInfo', roomInfo);\n      publish('room-modified', roomInfo);\n    }\n  }, [roomInfo, publish]);\n\n  // Create peer to peer room\n  useEffect(() => {\n    if (room === null && roomInfo !== null) {\n      setRoom(joinRoom({ appId: `Reckless Technology room ${roomInfo.id}` }, roomInfo.id));\n    }\n  }, [setRoom, room, roomInfo]);\n\n  // Create ref to access me props\n  const meRef = useMemo(() => ({\n    status: 'connected',\n    connectionId: selfId,\n    uuid: me !== null ? me.uuid : uuidv4(),\n    name: me !== null ? me.name : `new ${connectionType}`,\n    isMe: true,\n    isHost: (connectionType === 'host'),\n    mode: 'view',\n    lastSeen: Date.now(),\n  }), [me, connectionType]);\n\n  const pingMe = useCallback(() => {\n    // if (room !== null) {\n    //   console.log(`took ${room.ping(meRef.connectionId)}ms`);\n    // }\n  }, []);\n\n  const getRoomActions = useCallback(() => {\n    if (room !== null) {\n      if (roomActions.get('announce') === undefined) {\n        const [sendAnnounce, getAnnounce] = room.makeAction('announce');\n        roomActions.set('announce', { sendAnnounce, getAnnounce });\n      }\n\n      if (roomActions.get('scene') === undefined) {\n        const [sendData, getData] = room.makeAction('scene');\n        roomActions.set('scene', { sendData, getData });\n      }\n\n      return {\n        ...roomActions.get('announce'),\n        ...roomActions.get('scene'),\n      };\n    }\n    return {};\n  }, [room, roomActions]);\n\n  useEffect(() => {\n    if (room !== null) {\n      const actionsRef = getRoomActions();\n\n      // If someone connects to host\n      const connectionJoin = (id) => {\n        // Create ref to access connection props\n        const connectionRef = {\n          status: 'connected',\n          connectionId: id,\n          name: 'new connection',\n          isMe: false,\n          isHost: false,\n          mode: 'view',\n          lastSeen: Date.now(),\n        };\n\n        // Add to connection registry\n        registerConnection(id, {\n          ...connectionRef,\n          ...actionsRef,\n          ping: pingMe,\n        });\n\n        // Send your info to connected peers\n        actionsRef.sendAnnounce({\n          connectionId: meRef.connectionId,\n          uuid: meRef.uuid,\n          name: meRef.name,\n          isHost: meRef.isHost,\n        });\n      };\n\n      room.onPeerJoin((id) => connectionJoin(id));\n\n      // Add me to registry\n      registerConnection(meRef.uuid, {\n        ...meRef,\n        ...actionsRef,\n        ping: pingMe,\n      });\n\n      // Remove connection from registry if they leave the room\n      room.onPeerLeave((id) => unregisterConnection(id));\n\n      // Listen for commands\n      actionsRef.getData((data) => {\n        const peer = findPeer(data.uuid);\n        switch (data.type.toLowerCase()) {\n          default:\n            if (peer !== undefined && typeof peer.setData === 'function') {\n              peer.setData(data.payload);\n            }\n            break;\n          case 'sharescene':\n            setSceneJSON(data.payload);\n            publish('scene-changed', data.payload);\n            break;\n        }\n      });\n\n      // Listen for info about connection\n      actionsRef.getAnnounce(({\n        connectionId, uuid, name, isHost: host,\n      }) => {\n        updateConnectionInfo(uuid, {\n          connectionId, host, uuid, name, lastSeen: Date.now(),\n        });\n      });\n    }\n  }, [\n    meRef,\n    pingMe,\n    publish,\n    registerConnection,\n    room,\n    setSceneJSON,\n    unregisterConnection,\n    findConnection,\n    updateConnectionInfo,\n    findPeer,\n    getRoomActions,\n  ]);\n\n  // send updates to connections\n  const announceMeChanges = useCallback((connection) => {\n    if (isMounted.current && connection !== undefined) {\n      if (connection.isMe) {\n        if (typeof connection.sendAnnounce === 'function') {\n          connection.sendAnnounce({\n            connectionId: connection.connectionId,\n            uuid: connection.uuid,\n            name: connection.name,\n            isHost: connection.isHost,\n          });\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (meRef !== undefined) {\n      isMounted.current = true;\n      subscribe('me-modified', announceMeChanges);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', announceMeChanges);\n    };\n  }, [subscribe, unsubscribe, announceMeChanges, meRef]);\n\n  return (\n    <ConnectionsContext.Provider value={connectionsContextValue}>\n      {children}\n    </ConnectionsContext.Provider>\n  );\n};\n\nConnectionsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ConnectionsManager;\n","import { useContext } from 'react';\nimport { ConnectionsContext } from '../Managers/ConnectionsManager';\n\nexport default function useConnectionsContext() {\n  return useContext(ConnectionsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Typography, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  roomName: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n  },\n}));\n\nconst RoomNameView = ({\n  roomId,\n}) => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <Tooltip title=\"Room ID\" aria-label=\"Room ID\">\n      <Typography className={classes.roomName} variant=\"subtitle1\">{roomId}</Typography>\n    </Tooltip>\n  );\n};\n\nRoomNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomNameView.propTypes = {\n  roomId: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomNameView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomNameView from './view';\n\nconst RoomName = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n  return (\n    <RoomNameView {...{ roomId: roomInfo.id }} />\n  );\n};\n\nRoomName.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomName;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport QRCode from 'react-qr-code';\n\nconst useStyles = makeStyles(() => ({\n  qrCode: {\n    width: '100%',\n    height: '100%',\n    display: 'block',\n    position: 'relative',\n\n  },\n}));\n\nconst QRView = ({\n  size,\n  url,\n}) => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <QRCode size={size} className={classes.qrCode} value={url} />\n  );\n};\n\nQRView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nQRView.propTypes = {\n  size: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(QRView);\n","import React, {\n  useEffect, useRef, useState, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ListItemIcon } from '@material-ui/core';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport RoomQRView from './view';\n\nconst useStyles = makeStyles(() => ({\n  qrContainer: {\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst RoomQR = () => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { getRoomInfo } = useConnectionsContext();\n\n  const qrRef = useRef(null);\n  const [qrSize, setQrSize] = useState(0);\n\n  // Create local classes\n  const classes = useStyles();\n\n  useEffect(() => {\n    setQrSize(qrRef.current ? qrRef.current.offsetWidth : 0);\n  }, [qrRef]);\n\n  const [room, setRoom] = useState({});\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const r = getRoomInfo();\n      if (r !== undefined) {\n        setRoom(r);\n      }\n    }\n  }, [setRoom, getRoomInfo]);\n\n  const updateRoom = useCallback(() => { // update data only when peer list is modified\n    if (isMounted.current) {\n      const r = getRoomInfo();\n      if (r !== undefined) {\n        setRoom(r);\n      }\n    }\n  }, [getRoomInfo, setRoom]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe('room-modified', updateRoom);\n    return () => {\n      isMounted.current = false;\n      unsubscribe('room-modified', updateRoom);\n    };\n  }, [subscribe, unsubscribe, updateRoom]);\n\n  if (!room) { return null; }\n\n  return (\n    <ListItemIcon className={classes.qrContainer} ref={qrRef}>\n      <RoomQRView {...{\n        size: qrSize,\n        url: `${room.url}`,\n      }}\n      />\n    </ListItemIcon>\n  );\n};\n\nRoomQR.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomQR;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { IconButton, Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(() => ({\n  menuButton: {\n    // marginRight: theme.spacing(2),\n    padding: '10px',\n  },\n}));\n\nconst IconButtonView = ({\n  children, label, handeClick, className, ...props\n}) => {\n  const classes = useStyles();\n  return (\n    <Tooltip title={label} aria-label={label}>\n      <IconButton\n        size=\"small\"\n        aria-label={label}\n        onClick={handeClick}\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...props}\n        className={clsx(classes.menuButton, className)}\n      >\n        { children }\n      </IconButton>\n    </Tooltip>\n  );\n};\n\nIconButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nIconButtonView.propTypes = {\n  children: PropTypes.node.isRequired,\n  label: PropTypes.string.isRequired,\n  handeClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n};\n\nexport default memo(IconButtonView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nimport generateRoomId from '../../../Utils/generateRoomId';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomRefreshIdButtonView = ({ setRoomInfo }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Refresh Room ID',\n        handeClick: () => {\n          setRoomInfo({\n            id: generateRoomId(),\n          });\n        },\n      }}\n      className={classes.iconButton}\n    >\n      <RefreshIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nRoomRefreshIdButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomRefreshIdButtonView.propTypes = {\n  setRoomInfo: PropTypes.func.isRequired,\n};\n\nexport default memo(RoomRefreshIdButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomRefreshIdButtonView from './view';\n\nconst RoomRefreshIdButton = () => {\n  const { setRoomInfo } = useConnectionsContext();\n\n  return <RoomRefreshIdButtonView {...{ setRoomInfo }} />;\n};\n\nRoomRefreshIdButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomRefreshIdButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomCopyUrlButtonView = ({ url }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Copy URL',\n        handeClick: () => {\n          // eslint-disable-next-line no-undef\n          navigator.clipboard.writeText(url).then();\n        },\n      }}\n      className={classes.iconButton}\n    >\n      <FileCopyIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nRoomCopyUrlButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomCopyUrlButtonView.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomCopyUrlButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomCopyUrlButtonView from './view';\n\nconst RoomCopyUrlButton = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n\n  return <RoomCopyUrlButtonView {...{ url: `${roomInfo.url}` }} />;\n};\n\nRoomCopyUrlButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomCopyUrlButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles, Link } from '@material-ui/core';\n\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomOpenUrlButtonView = ({ url }) => {\n  const classes = useStyles();\n  return (\n    <Link href={url} target=\"_blank\" rel=\"noopener\">\n      <IconButtonView\n        {...{\n          label: 'Open URL',\n          handeClick: () => {\n          },\n        }}\n        className={classes.iconButton}\n      >\n        <OpenInNewIcon fontSize=\"small\" />\n      </IconButtonView>\n    </Link>\n  );\n};\nRoomOpenUrlButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomOpenUrlButtonView.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomOpenUrlButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomOpenUrlButtonView from './view';\n\nconst RoomOpenUrlButton = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n\n  return <RoomOpenUrlButtonView {...{ url: `${roomInfo.url}` }} />;\n};\n\nRoomOpenUrlButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomOpenUrlButton;\n","import { memo } from 'react';\n\nimport React, {\n  Typography, ListItem, List, Grid,\n} from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport RoomName from '../RoomName';\nimport RoomQR from '../RoomQR';\nimport RoomRefreshIdButton from '../RoomRefreshIdButton';\nimport RoomCopyUrlButton from '../RoomCopyUrlButton';\nimport RoomOpenUrlButton from '../RoomOpenUrlButton';\n\nimport { isHost } from '../../../Utils/userCheck';\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst RoomInfo = () => {\n  const classes = useStyles();\n\n  return (\n    <List dense>\n      <ListItem dense>\n        <Grid spacing={0} container>\n          <Grid item xs={12}>\n            <Typography className={classes.sectionTitle}>Room</Typography>\n          </Grid>\n        </Grid>\n      </ListItem>\n      <ListItem dense>\n        <RoomQR />\n      </ListItem>\n      <ListItem dense>\n        <RoomName />\n      </ListItem>\n      <ListItem dense>\n        <Grid spacing={0} container>\n          <Grid item xs={4}>\n            {(isHost()) ? <RoomRefreshIdButton /> : null}\n          </Grid>\n          <Grid item xs={4}>\n            <RoomCopyUrlButton />\n          </Grid>\n          <Grid item xs={4}>\n            <RoomOpenUrlButton />\n          </Grid>\n        </Grid>\n      </ListItem>\n    </List>\n  );\n};\n\nRoomInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(RoomInfo);\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport RoomInfo from '../RoomInfo';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    paddingTop: 0,\n  },\n  listRoot: {\n    display: 'block',\n    width: '100%',\n    paddingTop: 0,\n  },\n}));\n\nconst RoomMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      role=\"tabpanel\"\n      id={`full-width-tabpanel-${0}`}\n      aria-labelledby={`full-width-tab-${0}`}\n      className={classes.root}\n    >\n      <List dense className={classes.listRoot}>\n        <RoomInfo />\n      </List>\n    </ListItem>\n  );\n};\n\nRoomMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(RoomMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CreateIcon from '@material-ui/icons/Create';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    padding: '5px',\n    marginLeft: '5px',\n  },\n}));\n\nconst EditPeerNameButtonView = ({ peerInfo, updateConnectionInfo }) => {\n  // Create local classes\n  const classes = useStyles();\n\n  switch (peerInfo.mode.toLowerCase()) {\n    default:\n    case 'view':\n      return (\n        <IconButtonView\n          {...{\n            label: 'Edit',\n            handeClick: () => {\n              updateConnectionInfo(peerInfo.uuid, 'cancel', { mode: 'edit' });\n            },\n          }}\n          className={classes.iconButton}\n        >\n          <CreateIcon fontSize=\"small\" />\n        </IconButtonView>\n      );\n    case 'edit':\n      return (\n        <div>\n          <IconButtonView\n            {...{\n              label: 'Cancel',\n              handeClick: () => {\n                updateConnectionInfo(peerInfo.uuid, 'cancel', { mode: 'view' });\n              },\n            }}\n            className={classes.iconButton}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButtonView>\n          <IconButtonView\n            {...{\n              label: 'Save',\n              handeClick: () => {\n                updateConnectionInfo(peerInfo.uuid, 'save', { mode: 'view' });\n              },\n            }}\n            className={classes.iconButton}\n          >\n            <CheckIcon fontSize=\"small\" />\n          </IconButtonView>\n        </div>\n      );\n  }\n};\n\nEditPeerNameButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nEditPeerNameButtonView.propTypes = {\n  peerInfo: PropTypes.shape({\n    mode: PropTypes.string.isRequired,\n    uuid: PropTypes.string.isRequired,\n  }).isRequired,\n  updateConnectionInfo: PropTypes.func.isRequired,\n};\n\nexport default memo(EditPeerNameButtonView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport EditPeerNameButtonView from './view';\n\nconst EditPeerNameButton = ({ peerInfo, updateConnectionInfo }) => (\n  <EditPeerNameButtonView {...{ peerInfo, updateConnectionInfo }} />\n);\n\nEditPeerNameButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nEditPeerNameButton.propTypes = {\n  peerInfo: PropTypes.shape({}).isRequired,\n  updateConnectionInfo: PropTypes.func.isRequired,\n};\n\nexport default EditPeerNameButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { ListItemAvatar, Avatar } from '@material-ui/core';\n\nconst PeerAvatar = ({ peerInfo }) => (\n  <ListItemAvatar>\n    <Avatar alt={peerInfo.isHost ? 'host' : 'Peer'} src=\"\" />\n  </ListItemAvatar>\n);\n\nPeerAvatar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerAvatar.propTypes = {\n  peerInfo: PropTypes.shape({\n    isHost: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default memo(PeerAvatar);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItemText } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  multiline: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n}));\n\nconst PeerNameView = ({ primary, secondary }) => {\n  const classes = useStyles();\n  return (\n    <ListItemText\n      classes={{\n        multiline: classes.multiline,\n      }}\n      primary={primary}\n      secondary={secondary}\n    />\n  );\n};\n\nPeerNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerNameView.propTypes = {\n  primary: PropTypes.string.isRequired,\n  secondary: PropTypes.string.isRequired,\n};\n\nexport default memo(PeerNameView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { TextField } from '@material-ui/core';\n\nconst PeerNameView = ({ value, onNameUpdate }) => (\n  <TextField id=\"standard-basic\" label=\"Edit name\" value={value} onChange={onNameUpdate} />\n);\n\nPeerNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerNameView.propTypes = {\n  value: PropTypes.string.isRequired,\n  onNameUpdate: PropTypes.func.isRequired,\n};\n\nexport default memo(PeerNameView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PeerNameView from './view';\nimport PeerNameEdit from './edit';\n\nconst PeerName = ({ peerInfo, onNameUpdate }) => {\n  const {\n    mode, name, uuid, isMe, connectionId,\n  } = peerInfo;\n  switch (mode.toLowerCase()) {\n    default:\n    case 'waiting':\n      return <PeerNameView {...{ primary: '...loading', secondary: '' }} />;\n    case 'view':\n      return <PeerNameView {...{ primary: `${name} (${uuid})`, secondary: `${(isMe) ? 'me' : 'peer'} (${connectionId})` }} />;\n    case 'edit':\n      return <PeerNameEdit {...{ value: name, onNameUpdate }} />;\n  }\n};\n\nPeerName.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerName.propTypes = {\n  peerInfo: PropTypes.shape({\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    uuid: PropTypes.string,\n    isMe: PropTypes.bool,\n    connectionId: PropTypes.string,\n  }).isRequired,\n  onNameUpdate: PropTypes.func.isRequired,\n};\n\nexport default PeerName;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItemSecondaryAction } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbarButtons: {\n    padding: '15px 0 15px 15px',\n    right: 0,\n    background: `linear-gradient(to left, ${theme.palette.background.paper} 90%, rgba(0,0,0,0))`,\n  },\n}));\n\nconst PeerToolbar = ({ children }) => {\n  const classes = useStyles();\n  return (\n    <ListItemSecondaryAction className={classes.toolbarButtons}>\n      {children}\n    </ListItemSecondaryAction>\n  );\n};\n\nPeerToolbar.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default PeerToolbar;\n","import React, {\n  memo, useCallback, useEffect, useRef, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid, List, Divider, Typography,\n} from '@material-ui/core';\n\nimport EditPeerNameButton from '../EditPeerNameButton';\n\nimport PeerAvatar from '../PeerAvatar';\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../PeerToolbar';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n    overflow: 'hidden',\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst HostInfo = () => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo, getHost } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [hostName, setHostName] = useState(null);\n  const [host, setHost] = useState(null);\n\n  const isMounted = useRef(false);\n\n  useEffect(() => { // update data on load\n    const h = getHost();\n    if (h !== undefined) {\n      setHost(h);\n      setHostName(h.name);\n    }\n  }, [getHost, setHost]);\n\n  const updateHost = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const h = getHost();\n      if (h !== undefined) {\n        setHost(h);\n        setHostName(h.name);\n      }\n    }\n  }, [getHost, setHost]);\n\n  useEffect(() => {\n    if (getHost !== undefined) {\n      isMounted.current = true;\n      subscribe('host-modified', updateHost);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('host-modified', updateHost);\n    };\n  }, [subscribe, unsubscribe, getHost, updateHost]);\n\n  const updateName = useCallback((e) => {\n    setHostName(e.currentTarget.value);\n  }, [setHostName]);\n\n  const updateHostInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: hostName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, hostName]);\n\n  if (host === null || hostName === null) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Host</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n              <PeerAvatar {...{ peerInfo: host }} />\n              <PeerName {...{ peerInfo: { ...host, name: hostName }, onNameUpdate: updateName }} />\n              {(!host.isMe) ? null : (\n                <PeerToolbar>\n                  <EditPeerNameButton {...{\n                    peerInfo: host, updateConnectionInfo: updateHostInfo,\n                  }}\n                  />\n                </PeerToolbar>\n              )}\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nHostInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(HostInfo);\n","import React, {\n  memo, useCallback, useEffect, useRef, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid, List, Divider, Typography,\n} from '@material-ui/core';\n\nimport PeerAvatar from '../PeerAvatar';\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../PeerToolbar';\n\nimport EditPeerNameButton from '../EditPeerNameButton';\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n    overflow: 'hidden',\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst MeInfo = () => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo, getMe } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [meName, setMeName] = useState(null);\n  const [me, setMe] = useState(null);\n\n  const isMounted = useRef(false);\n\n  useEffect(() => { // update data on load\n    const m = getMe();\n    if (m !== undefined) {\n      setMe(m);\n      setMeName(m.name);\n    }\n  }, [getMe, setMe]);\n\n  const updateMe = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const h = getMe();\n      if (h !== undefined) {\n        setMe(h);\n        setMeName(h.name);\n      }\n    }\n  }, [getMe, setMe]);\n\n  useEffect(() => {\n    if (getMe !== undefined) {\n      isMounted.current = true;\n      subscribe('me-modified', updateMe);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', updateMe);\n    };\n  }, [getMe, subscribe, unsubscribe, updateMe]);\n\n  const updateName = useCallback((e) => {\n    setMeName(e.currentTarget.value);\n  }, [setMeName]);\n\n  const updateMeInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: meName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, meName]);\n\n  if (me === null || meName === null || me.isHost) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Me</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n              <PeerAvatar {...{ peerInfo: me }} />\n              <PeerName {...{ peerInfo: { ...me, name: meName }, onNameUpdate: updateName }} />\n              {(!me.isMe) ? null : (\n                <PeerToolbar>\n                  <EditPeerNameButton {...{ peerInfo: me, updateConnectionInfo: updateMeInfo }} />\n                </PeerToolbar>\n              )}\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nMeInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(MeInfo);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useState, useRef, useEffect,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Menu, MenuItem,\n} from '@material-ui/core';\n\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\n\nimport testJSON from '../../../../scenes/TestScene.json';\nimport posenetJSON from '../../../../scenes/PosenetScene.json';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    padding: '5px',\n    marginLeft: '5px',\n    position: 'relative',\n  },\n  sceneMenu: {\n    left: 100,\n  },\n}));\n\nconst ShareScenePeerButtonView = ({ me, peerInfo }) => {\n  const { uuid: meUUID, connectionId: meConnectionId } = me;\n  const { sendData, connectionId, isMe } = peerInfo;\n  const { sceneJSON } = useAppContext();\n  const buttonRef = useRef(null);\n\n  // Create local classes\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  useEffect(() => {\n    if (buttonRef.current !== undefined) {\n      setAnchorEl(buttonRef.current);\n    }\n  }, [buttonRef, setAnchorEl]);\n\n  const openMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenu = (e) => {\n    const { menuValue } = e.currentTarget.dataset;\n    let json = {};\n    switch (menuValue.toLowerCase()) {\n      default:\n      case 'my':\n        json = sceneJSON;\n        break;\n      case 'test':\n        json = testJSON;\n        break;\n      case 'posenet':\n        json = posenetJSON;\n        break;\n    }\n    if (typeof sendData === 'function') {\n      sendData({\n        type: 'shareScene', payload: json, uuid: meUUID, from: meConnectionId, timestamp: Date.now,\n      }, connectionId);\n    }\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{ display: 'block' }}>\n      <IconButtonView\n        {...{\n          label: isMe ? 'Share Scene With Everyone' : 'Share Scene',\n          handeClick: (evt) => {\n            openMenu(evt);\n          },\n        }}\n        className={classes.iconButton}\n      >\n        <OpenInBrowserIcon fontSize=\"small\" />\n      </IconButtonView>\n      <Menu\n        className={classes.sceneMenu}\n        id=\"scene-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={closeMenu}\n      >\n        <MenuItem dense data-menu-value=\"mine\" onClick={closeMenu}>My Scene</MenuItem>\n        <MenuItem dense data-menu-value=\"test\" onClick={closeMenu}>Test Scene</MenuItem>\n        <MenuItem dense data-menu-value=\"posenet\" onClick={closeMenu}>Posenet</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nShareScenePeerButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShareScenePeerButtonView.propTypes = {\n  me: PropTypes.shape({\n    uuid: PropTypes.string,\n    connectionId: PropTypes.string,\n  }).isRequired,\n  peerInfo: PropTypes.shape({\n    sendData: PropTypes.func,\n    connectionId: PropTypes.string,\n    isMe: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default memo(ShareScenePeerButtonView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport ShareScenePeerButtonView from './view';\n\nconst ShareScenePeerButton = ({ peerInfo }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { getMe } = useConnectionsContext();\n\n  const [me, setMe] = useState({});\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    const m = getMe();\n    if (m !== undefined) {\n      setMe(m);\n    }\n  }, [setMe, getMe]);\n\n  const updateMe = useCallback(() => { // update data only when peer list is modified\n    if (isMounted.current) {\n      const m = getMe();\n      if (m !== undefined) {\n        setMe(m);\n      }\n    }\n  }, [getMe, setMe]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe('me-modified', updateMe);\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', updateMe);\n    };\n  }, [subscribe, unsubscribe, updateMe]);\n\n  if (!me) { return null; }\n\n  return <ShareScenePeerButtonView {...{ me, peerInfo }} />;\n};\n\nShareScenePeerButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShareScenePeerButton.propTypes = {\n  peerInfo: PropTypes.shape({}).isRequired,\n};\n\nexport default ShareScenePeerButton;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useState, useCallback, useEffect,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItem } from '@material-ui/core';\n\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../PeerToolbar';\nimport ShareScenePeerButton from '../ShareScenePeerButton';\nimport PeerAvatar from '../PeerAvatar';\nimport EditPeerNameButton from '../EditPeerNameButton';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n  },\n  buttons: {\n    right: 0,\n  },\n}));\n\nconst PeerInfo = ({ peerInfo }) => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo } = useConnectionsContext();\n\n  const [peerName, setPeerName] = useState(null);\n\n  const updateName = useCallback((e) => {\n    setPeerName(e.currentTarget.value);\n  }, [setPeerName]);\n\n  const updateInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: peerName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, peerName]);\n\n  useEffect(() => {\n    if (peerInfo) {\n      setPeerName(peerInfo.name);\n    }\n  }, [peerInfo, setPeerName]);\n\n  if (!peerInfo || peerName === null) { return <ListItem dense className={classes.listItem} alignItems=\"flex-start\">No</ListItem>; }\n\n  return (\n    <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n      <PeerAvatar {...{ peerInfo }} />\n      <PeerName {...{ peerInfo: { ...peerInfo, name: peerName }, onNameUpdate: updateName }} />\n      <PeerToolbar>\n        {(!peerInfo.isMe)\n          ? null : <EditPeerNameButton {...{ peerInfo, updateConnectionInfo: updateInfo }} />}\n        {(peerInfo.isHost) ? null : <ShareScenePeerButton {...{ peerInfo }} /> }\n      </PeerToolbar>\n    </ListItem>\n  );\n};\n\nPeerInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerInfo.propTypes = {\n  peerInfo: PropTypes.shape({\n    name: PropTypes.string,\n    isMe: PropTypes.bool,\n    isHost: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default memo(PeerInfo);\n","import React, {\n  useRef, useState, useEffect, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  List, ListItem, Grid, Typography,\n} from '@material-ui/core';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport PeerInfo from '../PeerInfo';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst PeersList = () => {\n  const { getConnectionsArray } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const classes = useStyles();\n\n  const [connections, setConnections] = useState([]);\n\n  const isMounted = useRef(false);\n\n  const updateConnections = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const peer = getConnectionsArray();\n      if (peer !== undefined && isMounted.current) {\n        setConnections(peer.filter((p) => (!p.isMe && !p.isHost)));\n      }\n    }\n  }, [getConnectionsArray, setConnections]);\n\n  useEffect(() => { // update data on load\n    const peer = getConnectionsArray();\n    if (peer !== undefined) {\n      isMounted.current = true;\n      setConnections(peer.filter((p) => (!p.isMe && !p.isHost)));\n      subscribe('connection-modified', updateConnections);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('connection-modified', updateConnections);\n    };\n  }, [setConnections, getConnectionsArray, subscribe, unsubscribe, updateConnections]);\n\n  if (connections.length === 0) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Peers</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            {connections.map((peer) => <PeerInfo key={peer.connectionId} peerInfo={peer} />)}\n          </List>\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nPeersList.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default PeersList;\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport HostInfo from '../HostInfo';\nimport MeInfo from '../MeInfo';\nimport PeersList from '../PeersList';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    width: '100%',\n  },\n  listItem: {\n    paddingTop: 0,\n  },\n}));\n\nconst PeersInfo = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n\n    <ListItem dense className={classes.listItem}>\n      <List dense className={classes.list}>\n        <MeInfo />\n        <HostInfo />\n        <PeersList />\n      </List>\n    </ListItem>\n  );\n};\n\nPeersInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(PeersInfo);\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport PeersInfo from '../PeersInfo';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'block',\n    width: '100%',\n    padding: 0,\n  },\n  listItem: {\n    paddingTop: 0,\n  },\n}));\n\nconst PeersMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      role=\"tabpanel\"\n      id={`full-width-tabpanel-${0}`}\n      aria-labelledby={`full-width-tab-${0}`}\n      className={classes.listItem}\n    >\n      <List dense className={classes.root}>\n        <PeersInfo />\n      </List>\n    </ListItem>\n  );\n};\n\nPeersMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(PeersMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst InspectorCloseButtonView = ({ inspectorMenuOpen, setInspectorMenuOpen }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          setInspectorMenuOpen(!inspectorMenuOpen);\n        },\n      }}\n      className={classes.button}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nInspectorCloseButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nInspectorCloseButtonView.propTypes = {\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  setInspectorMenuOpen: PropTypes.func.isRequired,\n};\n\nexport default memo(InspectorCloseButtonView);\n","import React from 'react';\n\nimport InspectorCloseButtonView from './view';\n\nimport useInspectorMenuContext from '../../Contexts/useInspectorMenuContext';\n\nconst InspectorCloseButton = () => {\n  const { inspectorMenuOpen, setInspectorMenuOpen } = useInspectorMenuContext();\n\n  return <InspectorCloseButtonView {...{ inspectorMenuOpen, setInspectorMenuOpen }} />;\n};\n\nInspectorCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default InspectorCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faUsers, faHome, faQuestion,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  AppBar, Toolbar, Tabs, Tooltip, Tab,\n} from '@material-ui/core';\n\nimport InspectorCloseButton from '../InspectorCloseButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    flexGrow: 0,\n    minHeight: 'auto !important',\n  },\n  tabRoot: {\n    minWidth: '50px',\n  },\n}));\n\nconst InspectorToolbarView = (props) => {\n  const { value, handleChange } = props;\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <InspectorCloseButton />\n          <div className={classes.spacer} />\n          <Tabs\n            value={value}\n            onChange={(event, newValue) => handleChange(newValue)}\n            variant=\"scrollable\"\n            indicatorColor=\"secondary\"\n            textColor=\"secondary\"\n            scrollButtons=\"off\"\n            aria-label=\"scrollable prevent tabs example\"\n          >\n            <Tooltip title=\"Room\" aria-label=\"Room\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={(<FontAwesomeIcon icon={faHome} />)}\n                aria-label=\"room\"\n                {...{\n                  id: 'room-tab-0',\n                  'aria-controls': 'room-tabpanel-0',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Peers\" aria-label=\"Peers\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faUsers} />}\n                aria-label=\"peers\"\n                {...{\n                  id: 'peers-tab-1',\n                  'aria-controls': 'peers-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Help\" aria-label=\"Help\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faQuestion} />}\n                aria-label=\"help\"\n                {...{\n                  id: 'help-tab-1',\n                  'aria-controls': 'help-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n          </Tabs>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nInspectorToolbarView.propTypes = {\n  value: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default memo(InspectorToolbarView);\n","import React from 'react';\n\nimport InspectorToolbarView from './view';\n\nconst InspectorToolbar = (props) => (\n  <InspectorToolbarView {...props} />\n);\n\nInspectorToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default InspectorToolbar;\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  List, ListItem, Typography, Grid, Divider, Link,\n  ListItemAvatar, Avatar,\n} from '@material-ui/core';\n\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport InfoIcon from '@material-ui/icons/Info';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    paddingTop: 0,\n  },\n  listRoot: {\n    display: 'block',\n    width: '100%',\n    paddingTop: 0,\n  },\n  listItem: {\n    width: '100%',\n  },\n  itemText: {\n    color: '#fff',\n  },\n}));\n\nconst HelpMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem className={classes.root}>\n      <List dense className={classes.listRoot}>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://travisbennett.com\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\" />\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Reckless Technology was created by Travis Bennett.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><GitHubIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Source code available on github.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/wiki\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><InfoIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Find more information on the Wiki.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/issues\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><BugReportIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Feedback? Bugs? Report issues here.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n      </List>\n    </ListItem>\n  );\n};\n\nHelpMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(HelpMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Drawer,\n} from '@material-ui/core';\n\nimport RoomMenu from '../../Room/Render/RoomMenu';\nimport PeersMenu from '../../Peers/Render/PeersMenu';\nimport InspectorToolbar from './InspectorToolbar';\nimport HelpMenu from './HelpMenu';\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    transition: theme.transitions.create('height', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    height: (props) => (`calc(100% - ${(props.editorMenuOpen ? props.editorMenuHeight : 0)}px)`),\n    width: (props) => (props.inspectorMenuWidth),\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1300,\n  },\n  drawerPaper: {\n    position: 'relative',\n    height: '100%',\n    width: '100%',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n}));\n\nconst InspectorView = ({\n  editorMenuOpen,\n  editorMenuHeight,\n  inspectorMenuWidth,\n  inspectorMenuOpen,\n  inspectorMenuTab,\n  setInspectorMenuTab,\n}) => {\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuWidth,\n  });\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"right\"\n      open={inspectorMenuOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <InspectorToolbar {...{ handleChange: setInspectorMenuTab, value: inspectorMenuTab }} />\n      {inspectorMenuTab === 0 ? <RoomMenu /> : null}\n      {inspectorMenuTab === 1 ? <PeersMenu /> : null}\n      {inspectorMenuTab === 2 ? <HelpMenu /> : null}\n    </Drawer>\n  );\n};\n\nInspectorView.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuTab: PropTypes.number.isRequired,\n  setInspectorMenuTab: PropTypes.func.isRequired,\n};\n\nInspectorView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(InspectorView);\n","import React from 'react';\n\nimport useEditorMenuContext from '../../EditorMenu/Contexts/useEditorMenuContext';\nimport useInspectorMenuContext from '../Contexts/useInspectorMenuContext';\n\nimport InspectorView from './view';\n\nconst Inspector = () => {\n  const { editorMenuOpen, editorMenuHeight } = useEditorMenuContext();\n  const {\n    inspectorMenuWidth,\n    inspectorMenuOpen,\n    setInspectorMenuOpen,\n    inspectorMenuTab,\n    setInspectorMenuTab,\n  } = useInspectorMenuContext();\n\n  return (\n    <InspectorView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      inspectorMenuWidth,\n      inspectorMenuOpen,\n      setInspectorMenuOpen,\n      inspectorMenuTab,\n      setInspectorMenuTab,\n    }}\n    />\n  );\n};\n\nInspector.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default Inspector;\n","// Take threejs JSON Object Scene format:\n// https://github.com/mrdoob/three.js/wiki/JSON-Object-Scene-format-4\n// and converts it for use in React Flow\n// https://reactflow.dev/docs/\n\n// Default size of patches\nconst width = 150;\nconst height = 245;\n\n// Limit depth of parent / child render\nconst limit = 2;\n\nconst dimensionsLookup = (type) => {\n  switch (type.toLowerCase()) {\n    default:\n      return [width, height];\n    case 'orbit':\n    case 'sinewave':\n      return [width, 100];\n  }\n};\n\nconst typeLookup = (props) => {\n  switch (props.type.toLowerCase()) {\n    default:\n      return 'threeObj';\n    case 'scene':\n      return props.type;\n    case 'orbit':\n    case 'sinewave':\n      return 'generator';\n    case 'peer':\n      return 'peer';\n  }\n};\n\n// Build object for React Flow\nconst makeFlowProps = (props, parents, hidden, hideChildren, type) => ({\n  type,\n  id: `${props.uuid}`,\n  data: {\n    children: [],\n    ...props,\n    parents,\n    width: dimensionsLookup(type)[0],\n    height: dimensionsLookup(type)[1],\n    label: props.name,\n    isChildHidden: hideChildren,\n    isPatchHidden: (props.userData !== undefined) ? props.userData.isPatchHidden : false,\n  },\n  isHidden: (props.userData !== undefined) ? props.userData.isPatchHidden : false,\n  parents,\n  children: [],\n});\n\n// Recursive. Traverses 3d scene and makes a patch for each object.\nconst sceneGraphToFlow = (children, parents, level) => {\n  const nextLevel = level + 1;\n  if (children === undefined || children.length === 0) {\n    return [];\n  }\n  return children.map((c) => ([\n    {\n      ...makeFlowProps(c, parents, (level > limit), (level + 1 > limit), typeLookup(c)),\n      children: sceneGraphToFlow(c.children, c.uuid, nextLevel),\n    },\n    ...sceneGraphToFlow(c.children, [...parents, c.uuid], nextLevel),\n  ])).flat();\n};\n\nconst sceneConnectionsToFlow = (children) => children\n  .filter((c) => (!c.isHidden && c.parents.length > 0)).map((c) => ({\n    id: `${c.id}-parent-${c.parents[c.parents.length - 1]}-set-children`,\n    type: 'customLineage',\n    data: {\n      ...c,\n      label: c.uuid,\n    },\n\n    source: `${c.id}`,\n    sourceHandle: `${c.id}-parent`,\n\n    target: `${c.parents[c.parents.length - 1]}`,\n    targetHandle: `${c.parents[c.parents.length - 1]}-set-children`,\n\n    animated: false,\n  }));\n\nconst connectionsToFlow = (rtScene) => rtScene.connections.map((c) => ({\n  id: `${c.uuid}`,\n  type: 'custom',\n\n  source: `${c.from}`,\n  sourceHandle: `${c.from}-${c.fromProp}`,\n\n  target: `${c.to}`,\n  targetHandle: `${c.to}-set-${c.toProp}`,\n\n  animated: true,\n}));\n\nconst generatorsToFlow = (rtScene) => rtScene.generators.map((props) => makeFlowProps(props, 'scene', false, false, 'generator'));\n\nconst peersToFlow = (rtScene) => rtScene.peers.map((props) => makeFlowProps(props, 'scene', false, false, 'peer'));\n\nconst devicesToFlow = (rtScene) => rtScene.devices.map((props) => makeFlowProps(props, 'scene', false, false, 'device'));\n\nconst widgetsToFlow = (rtScene) => rtScene.widgets.map((props) => makeFlowProps(props, 'scene', false, false, 'widget'));\n\nconst transformsToFlow = (rtScene) => rtScene.transforms.map((props) => makeFlowProps(props, 'scene', false, false, 'transform'));\n\nconst rtSceneToFlow = (rtScene) => [\n  ...widgetsToFlow(rtScene),\n\n  ...peersToFlow(rtScene),\n  ...devicesToFlow(rtScene),\n\n  ...generatorsToFlow(rtScene),\n  ...transformsToFlow(rtScene),\n\n  ...connectionsToFlow(rtScene),\n\n  // regular three.js scene graph\n  ...sceneGraphToFlow([rtScene.object], [], 1),\n  ...sceneConnectionsToFlow(sceneGraphToFlow([rtScene.object], [], 1)),\n\n];\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  rtSceneToFlow,\n};\n","import React from 'react';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects';\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faQuestion, faLayerGroup,\n  faCube, faWaveSquare,\n  faMouse, faKeyboard, faVideo,\n  faCalculator,\n  faPlus, faMinus, faTimes, faDivide, faThLarge,\n} from '@fortawesome/free-solid-svg-icons';\n\nconst getIconByType = (type) => {\n  if (type.toLowerCase().includes('light')) {\n    return <EmojiObjectsIcon fontSize=\"small\" />;\n  }\n  switch (type.toLowerCase()) {\n    default:\n      return <FontAwesomeIcon icon={faQuestion} />;\n    case 'group':\n      return <FontAwesomeIcon icon={faLayerGroup} />;\n    case 'generator':\n      return <FontAwesomeIcon icon={faWaveSquare} />;\n    case 'peer':\n      return <PersonIcon fontSize=\"small\" />;\n    case 'device':\n      return <FontAwesomeIcon icon={faMouse} />;\n    case 'mesh':\n      return <FontAwesomeIcon icon={faCube} />;\n    case 'scene':\n      return <ImageIcon fontSize=\"small\" />;\n    case 'calculator':\n      return <FontAwesomeIcon icon={faCalculator} />;\n    case 'mouse':\n      return <FontAwesomeIcon icon={faMouse} />;\n    case 'keyboard':\n      return <FontAwesomeIcon icon={faKeyboard} />;\n    case 'camera':\n      return <FontAwesomeIcon icon={faVideo} />;\n    case 'add':\n      return <FontAwesomeIcon icon={faPlus} />;\n    case 'subtract':\n      return <FontAwesomeIcon icon={faMinus} />;\n    case 'multiply':\n      return <FontAwesomeIcon icon={faTimes} />;\n    case 'divide':\n      return <FontAwesomeIcon icon={faDivide} />;\n    case 'preview':\n      return <FontAwesomeIcon icon={faThLarge} />;\n  }\n};\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  getIconByType,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, ListItemText, ListItemIcon, Tooltip,\n} from '@material-ui/core';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: '0 13px 0 13px',\n  },\n  propIcon: {\n    minWidth: '30px',\n  },\n  propText: {\n    whiteSpace: 'nowrap',\n  },\n}));\n\nconst PatchDetails = ({ name, type, uuid }) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Tooltip title={type} aria-label={type}>\n        <ListItemIcon className={classes.propIcon}>\n          {getIconByType(type)}\n        </ListItemIcon>\n      </Tooltip>\n      <Tooltip title={uuid} aria-label={uuid}>\n        <ListItemText\n          className={classes.propText}\n          primary={name}\n        />\n      </Tooltip>\n    </ListItem>\n  );\n};\n\nPatchDetails.propTypes = {\n  name: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(PatchDetails);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { Handle } from 'react-flow-renderer';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(() => ({\n  handle: {\n    width: '10px',\n    height: '10px',\n    position: 'relative',\n    margin: 0,\n    padding: 0,\n  },\n  handleLeft: {\n    float: 'left',\n    left: '-10px',\n    borderLeft: 'none',\n    background: '#333',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n  handleRight: {\n    float: 'right',\n    right: '-10px',\n    borderRight: 'none',\n    background: '#333',\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nconst OutputHandle = ({ uuid, propName }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip title={`${uuid}-${propName}`} aria-label={propName}>\n      <div>\n        <Handle\n          type=\"source\"\n          position=\"right\"\n          id={`${uuid}-${propName}`}\n          // eslint-disable-next-line no-console\n          isValidConnection={(connection) => { console.log('Output isValid: ', connection); return true; }}\n          // eslint-disable-next-line no-console\n          onConnect={(params) => { console.log('Output onConnect: ', params); }}\n          className={clsx(classes.handle, classes.handleRight)}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nOutputHandle.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default OutputHandle;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { Handle } from 'react-flow-renderer';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(() => ({\n  handle: {\n    width: '10px',\n    height: '10px',\n    position: 'relative',\n    margin: 0,\n    padding: 0,\n  },\n  handleLeft: {\n    float: 'left',\n    left: '-10px',\n    borderLeft: 'none',\n    background: '#333',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n  handleRight: {\n    float: 'right',\n    right: '-10px',\n    borderRight: 'none',\n    background: '#333',\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nconst InputHandle = ({ uuid, propName }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip title={`${uuid}-set-${propName}`} aria-label={`set ${propName}`}>\n      <div>\n        <Handle\n          type=\"target\"\n          position=\"left\"\n          id={`${uuid}-set-${propName}`}\n          // eslint-disable-next-line no-console\n          isValidConnection={(connection) => { console.log('Input isValid: ', connection); return true; }}\n          // eslint-disable-next-line no-console\n          onConnect={(params) => { console.log('Input onConnect: ', params); }}\n          className={clsx(classes.handle, classes.handleLeft)}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nInputHandle.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default InputHandle;\n","import PropTypes from 'prop-types';\n\nimport React, { memo, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Accordion, AccordionDetails, AccordionSummary,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  propAccord: {\n    width: '100%',\n    marginBottom: '0px !important',\n    background: 'none',\n    boxShadow: 'none',\n    borderRadius: 0,\n    // border: '1px solid green',\n  },\n  propSummary: {\n    padding: '5px 0px',\n    width: '100%',\n    minHeight: '0px !important',\n  },\n  propSummaryContent: {\n    margin: '0 !important',\n  },\n  propSummaryExapand: {\n    margin: 0,\n    padding: 0,\n  },\n  propDetails: {\n    margin: 0,\n    padding: 0,\n    paddingBottom: 10,\n    width: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst PropAccordianView = ({\n  children, header, expandIcon, defaultOpen,\n}) => {\n  const [showDetails, setShowDetails] = useState(defaultOpen);\n\n  const classes = useStyles();\n  return (\n    <Accordion\n      className={classes.propAccord}\n      expanded={showDetails}\n      onChange={(event, val) => {\n        setShowDetails(val);\n      }}\n    >\n      <AccordionSummary\n        classes={{\n          root: classes.propSummary,\n          content: classes.propSummaryContent,\n          expandIcon: classes.propSummaryExapand,\n        }}\n        expandIcon={expandIcon}\n        aria-controls=\"panel-content\"\n        id=\"panel-header\"\n      >\n        {header}\n      </AccordionSummary>\n      <AccordionDetails className={classes.propDetails}>\n        { (showDetails) ? children : null }\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nPropAccordianView.propTypes = {\n  children: PropTypes.node.isRequired,\n  header: PropTypes.shape({}).isRequired,\n  expandIcon: PropTypes.node.isRequired,\n  defaultOpen: PropTypes.bool.isRequired,\n};\n\nexport default memo(PropAccordianView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport clsx from 'clsx';\n\nimport {\n  ListItemSecondaryAction,\n  List, ListItemText, ListItemIcon,\n  ListItem, Typography, Grid,\n  Tooltip,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSignOutAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport OutputHandle from '../OutputHandle';\nimport InputHandle from '../InputHandle';\n\nimport PropAccordianView from '../PropAccordian/view';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propAccordList: {\n    margin: 0,\n    padding: 0,\n  },\n  toolbar: {\n    padding: 0,\n    position: 'fixed',\n    bottom: 0,\n  },\n  propAccord: {\n    width: '100%',\n    marginBottom: '0px !important',\n    background: 'none',\n    boxShadow: 'none',\n    borderRadius: 0,\n  },\n  propSummary: {\n    padding: '0 0px',\n    width: '100%',\n    minHeight: '25px !important',\n  },\n  propSummaryContent: {\n    margin: '0 !important',\n  },\n  propSummaryExapand: {\n    padding: '0 12px',\n  },\n  propDetails: {\n    padding: 0,\n    width: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  iconButton: {\n    // margin: 0,\n    // padding: 0,\n  },\n  childList: {\n    width: '100%',\n  },\n  childListItem: {\n    padding: 0,\n  },\n  secondRoot: {\n    right: 0,\n    background: 'linear-gradient(90deg, transparent, #555555)',\n  },\n  childListIcon: {\n    minWidth: 'auto',\n    padding: 10,\n  },\n  lightIcon: {\n    padding: '10px 7px',\n  },\n}));\n\nconst ParentChildProp = (props) => {\n  const {\n    type, uuid, children, hidePatch,\n  } = props;\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft}>\n          <InputHandle {...{ uuid, propName: 'children' }} />\n        </Grid>\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen={false}\n            header={(\n              <Typography className={classes.propText}>\n                {\n                `Children (${children.length}) ${type.toLowerCase() !== 'scene' ? '' : ''}`\n                }\n              </Typography>\n)}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <List dense className={classes.childList}>\n              {\n                children.filter((c) => (c.userData.isPatchHidden)).map((c) => (\n                  <ListItem dense key={`${c.uuid}_${c.name}_patch_child_list`} className={classes.childListItem}>\n                    <Tooltip title={c.type} aria-label={c.type}>\n                      <ListItemIcon className={\n                    clsx(classes.childListIcon, { [classes.lightIcon]: c.type.toLowerCase().includes('light') })\n                  }\n                      >\n                        {getIconByType(c.type)}\n                      </ListItemIcon>\n                    </Tooltip>\n                    <Tooltip title={c.uuid} aria-label={c.uuid}>\n                      <ListItemText primary={c.name} />\n                    </Tooltip>\n                    <ListItemSecondaryAction classes={{\n                      root: classes.secondRoot,\n                    }}\n                    >\n                      <IconButtonView\n                        {...{\n                          label: 'Pop Out',\n                          handeClick: () => {\n                            hidePatch(c.uuid, false);\n                          },\n                        }}\n                        className={classes.iconButton}\n                      >\n                        <FontAwesomeIcon flip=\"horizontal\" icon={faSignOutAlt} />\n                      </IconButtonView>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                ))\n              }\n            </List>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight}>\n          {type.toLowerCase() !== 'scene' ? <OutputHandle {...{ uuid, propName: 'parent' }} /> : null}\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nParentChildProp.propTypes = {\n  type: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  children: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  hidePatch: PropTypes.func.isRequired,\n};\n\nexport default ParentChildProp;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: (props) => (props.width),\n    padding: 0,\n    backgroundColor: '#555',\n    border: '1px solid white',\n    borderRadius: '10px',\n    boxShadow: '5px 5px 5px rgba(0,0,0,0.8)',\n  },\n}));\n\nconst PatchRoot = ({ children, width }) => {\n  const classes = useStyles({ width });\n\n  return (\n    <List dense className={classes.root}>\n      {children}\n    </List>\n  );\n};\n\nPatchRoot.propTypes = {\n  children: PropTypes.node.isRequired,\n  width: PropTypes.number.isRequired,\n};\n\nexport default PatchRoot;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport ParentChildProp from '../../Components/Patches/ParentChildProp/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nconst ScenePatch = ({ data }) => {\n  const {\n    uuid, label, type, width, isChildHidden, isHidden, children,\n  } = data;\n  const { hideThreeObjPatch } = useAppContext();\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type: 'scene' }} />\n      <ParentChildProp {...{\n        children, isChildHidden, type, uuid, isHidden, hidePatch: hideThreeObjPatch,\n      }}\n      />\n    </PatchRoot>\n  );\n};\n\nScenePatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    type: PropTypes.string,\n    width: PropTypes.number,\n    isChildHidden: PropTypes.bool,\n    isHidden: PropTypes.bool,\n    children: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n};\n\nexport default ScenePatch;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Grid, Typography, ListItem,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport InputHandle from '../InputHandle';\nimport OutputHandle from '../OutputHandle';\n\nimport PropAccordianView from '../PropAccordian/view';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n}));\n\nconst PropListItemView = ({\n  children, uuid, propName, disableInput, disableOutput,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft}>\n          {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n        </Grid>\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen={false}\n            header={<Typography className={classes.propText}>{propName}</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            { children }\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight}>\n          {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nPropListItemView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPropListItemView.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n};\n\nexport default memo(PropListItemView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PropListItemView from './view';\n\nconst PropListItem = ({\n  children, uuid, propName, disableInput, disableOutput,\n}) => (\n  <PropListItemView {...{\n    uuid, propName, disableInput, disableOutput,\n  }}\n  >\n    {children}\n  </PropListItemView>\n);\n\nPropListItem.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPropListItem.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n};\n\nexport default PropListItem;\n","import React, { memo } from 'react';\n\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n  },\n}));\n\n// eslint-disable-next-line react/prop-types\nconst PatchValueView = ({ value }) => {\n  const classes = useStyles();\n  switch (true) {\n    default:\n      return <Typography className={classes.propText}>{`${value}`}</Typography>;\n    case Array.isArray(value):\n      // eslint-disable-next-line react/prop-types\n      return <Typography className={classes.propText}>{(`[${value.map((v) => (`${v.toFixed(3)}`))}]`)}</Typography>;\n    case typeof value === 'object':\n      // eslint-disable-next-line react/prop-types\n      return <Typography className={classes.propText}>{`Active: ${value.active}`}</Typography>;\n  }\n};\n\nexport default memo(PatchValueView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useThreeObjectsContext from '../../Contexts/useThreeObjectsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findThreeObject } = useThreeObjectsContext();\n  const threeObj = findThreeObject(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (threeObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, threeObj, propName, updateProp, uuid]);\n\n  if (threeObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Grid,\n  ListItem, Button,\n  AppBar, Toolbar,\n} from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTrashAlt,\n  faSignInAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    borderBottomLeftRadius: '10px',\n    borderBottomRightRadius: '10px',\n    overflow: 'hidden',\n    padding: 0,\n  },\n  toolbar: {\n    padding: 0,\n    minHeight: '32px',\n  },\n  appbar: {\n    background: 'none',\n  },\n  group: {\n    width: '100%',\n    display: 'block',\n  },\n  button: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    display: 'block',\n  },\n  gridItem: {\n    borderRight: '1px solid rgba(255,255,255,0.25)',\n  },\n}));\n\nconst PatchToolbarView = ({\n  uuid, removeObj, hidePatch,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.root}>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar\n          variant=\"dense\"\n          className={classes.toolbar}\n        >\n          <Grid spacing={0} container>\n            <Grid item xs={4} className={classes.gridItem} />\n            <Grid item xs={4} className={classes.gridItem}>\n              {(typeof hidePatch === 'function')\n                ? (\n                  <IconButtonView\n                    {...{\n                      label: 'Hide Patch',\n                      handeClick: () => {\n                        hidePatch(uuid, true);\n                      },\n                    }}\n                    className={classes.button}\n                  >\n                    <FontAwesomeIcon icon={faSignInAlt} />\n                  </IconButtonView>\n                )\n                : <Button className={classes.button} /> }\n            </Grid>\n            <Grid item xs={4}>\n              <IconButtonView\n                {...{\n                  label: 'Delete',\n                  handeClick: () => {\n                    removeObj(uuid);\n                  },\n                }}\n                className={classes.button}\n              >\n                <FontAwesomeIcon icon={faTrashAlt} />\n              </IconButtonView>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    </ListItem>\n  );\n};\n\nPatchToolbarView.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  removeObj: PropTypes.func.isRequired,\n  hidePatch: PropTypes.func.isRequired,\n};\n\nexport default memo(PatchToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeThreeObj, hideThreeObjPatch } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeThreeObj, hidePatch: hideThreeObjPatch,\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchValue from './PatchValue/index';\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport ParentChildProp from '../../Components/Patches/ParentChildProp/index';\nimport PatchToolbar from './PatchToolbar/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nconst ThreeObjectPatch = ({ data }) => {\n  const {\n    uuid, label, type, width, isChildHidden, isHidden, children,\n  } = data;\n  const { hideThreeObjPatch } = useAppContext();\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: false, disableOutput: true,\n    },\n    {\n      uuid, propName: 'rotation', disableInput: false, disableOutput: true,\n    },\n    {\n      uuid, propName: 'scale', disableInput: false, disableOutput: true,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <ParentChildProp {...{\n        children, isChildHidden, type, uuid, isHidden, hidePatch: hideThreeObjPatch,\n      }}\n      />\n      {\n        patchProps.map((p) => (\n          <PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>\n        ))\n      }\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nThreeObjectPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    width: PropTypes.number,\n    type: PropTypes.string,\n    isChildHidden: PropTypes.bool,\n    isHidden: PropTypes.bool,\n    children: PropTypes.arrayOf(PropTypes.shape({ })),\n  }).isRequired,\n};\n\nexport default ThreeObjectPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeDevice } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeDevice, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const DevicesContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let devicesContextValue = {};\n\nconst DevicesManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Device Connections\n  const [DeviceRegistry] = useState(() => new Map());\n\n  const deviceRegistryUtils = useMemo(\n    () => ({\n      findDevice(id) {\n        return DeviceRegistry.get(id);\n      },\n      registerDevice(identifier, ref) {\n        // register by id\n        DeviceRegistry.set(identifier, ref);\n        publish('devices-list-changed', ref, 'add');\n      },\n      unregisterDevice(identifier) {\n        // unregister by id\n        DeviceRegistry.delete(identifier);\n        publish('devices-list-changed', identifier, 'remove');\n      },\n      getDevicesArray() {\n        return Array.from(DeviceRegistry.keys()).map((id) => DeviceRegistry.get(id));\n      },\n    }),\n    [DeviceRegistry, publish],\n  );\n\n  devicesContextValue = useMemo(() => ({\n    DeviceRegistry,\n    ...deviceRegistryUtils,\n  }), [\n    DeviceRegistry,\n    deviceRegistryUtils,\n  ]);\n\n  return (\n    <DevicesContext.Provider value={devicesContextValue}>\n      {children}\n    </DevicesContext.Provider>\n  );\n};\n\nDevicesManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default DevicesManager;\n","import { useContext } from 'react';\nimport { DevicesContext } from '../Managers/DevicesManager';\n\nexport default function useDevicesContext() {\n  return useContext(DevicesContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../Contexts/useDevicesContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, deviceObj, propName, updateProp, uuid]);\n\n  if (deviceObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst MousePatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nMousePatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default MousePatch;\n","import React, { memo } from 'react';\n\nimport { PropTypes } from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Select, MenuItem,\n  ListItemText,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n}));\n\nconst RecklessSelect = ({\n  data, // list of values: [1, 2, 3] or ['hello', 'world']\n  value, // current value: 1 or 'hello'\n  onChange, // callback when new item selected\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Select\n      className={classes.selectRoot}\n      value={value}\n      onChange={onChange}\n      renderValue={() => (\n        <MenuItem value={value} className={classes.menuItemRoot}>\n          <ListItemText>{value}</ListItemText>\n        </MenuItem>\n      )}\n    >\n      {data.map((d) => (\n        <MenuItem key={d} value={d} className={classes.menuItemRoot}>\n          <ListItemText>{d}</ListItemText>\n        </MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nRecklessSelect.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default memo(RecklessSelect);\n","/* eslint-disable react/prop-types */\nimport PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip,\n  List,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport PropAccordianView from '../../../../Components/Patches/PropAccordian/view';\n\nimport RecklessSelect from '../../../../Components/Inputs/Select/index';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  selectListRoot: {\n    width: '100%',\n    margin: 0,\n    padding: 0,\n  },\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst CameraSettingsView = ({\n  value, setValue,\n  propName, data,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<Typography className={classes.propText}>{propName}</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <Tooltip title={value.label === undefined ? '' : value.label} aria-label={value.label === undefined ? '' : value.label}>\n              <List className={classes.selectListRoot}>\n                <RecklessSelect\n                  data={data.map((d) => d.label)}\n                  value={value.label === undefined ? '' : value.label}\n                  onChange={(e) => {\n                    setValue(e.target.value);\n                  }}\n                />\n              </List>\n            </Tooltip>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nCameraSettingsView.propTypes = {\n  setValue: PropTypes.func.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default memo(CameraSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useState, useEffect,\n} from 'react';\n\nimport useDevicesContext from '../../../Contexts/useDevicesContext';\nimport useAppContext from '../../../../App/Contexts/useAppContext';\n\nimport CameraSettingsView from './view';\n\nconst CameraSettings = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const isMounted = useRef(false);\n\n  const [list, setList] = useState([]);\n  const [selected, setSelected] = useState(list[0]);\n\n  const updateSelected = useCallback((val) => {\n    if (isMounted.current) {\n      setSelected(val);\n    }\n  }, [isMounted, setSelected]);\n\n  const updateList = useCallback((val) => {\n    if (isMounted.current) {\n      setList(val);\n    }\n  }, [isMounted, setList]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n\n      setSelected(deviceObj.selectedDevice);\n      subscribe(`${uuid}-selected-device-updated`, updateSelected);\n\n      setList(deviceObj.deviceList);\n      subscribe(`${uuid}-device-list-updated`, updateList);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-selected-device-updated`, updateSelected);\n      unsubscribe(`${uuid}-device-list-updated`, updateList);\n    };\n  }, [subscribe, unsubscribe, uuid, deviceObj, updateSelected, updateList]);\n\n  if (selected === undefined) return false;\n\n  const val = (list.filter((d) => d.label === selected.label).length < 1)\n    ? list[0]\n    : list.filter((d) => d.label === selected.label)[0];\n\n  return (\n    <CameraSettingsView\n      {...{\n        propName: 'Select Camera',\n        data: list,\n        value: val,\n        setValue: (v) => {\n          if (deviceObj !== undefined) {\n            deviceObj.setSelectedDevice(list.filter((d) => d.label === v)[0]);\n          }\n        },\n      }}\n    />\n  );\n};\n\nCameraSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default CameraSettings;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/view';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nimport CameraSettings from './Settings';\n\nconst CameraPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'mediastream', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <CameraSettings {...{ uuid }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nCameraPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default CameraPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport MousePatch from './Mouse';\nimport CameraPatch from './Camera';\n\nconst DevicePatch = ({ data }) => {\n  const { type } = data;\n  switch (type.toLowerCase()) {\n    default:\n      return (<MousePatch {...{ data }} />);\n    case 'camera':\n      return (<CameraPatch {...{ data }} />);\n  }\n};\n\nDevicePatch.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default DevicePatch;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext, useMemo, useState, useCallback,\n} from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const TransformsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let transformsContextValue = {};\n\nconst TransformsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Transform Connections\n  const [TransformRegistry] = useState(() => new Map());\n\n  const findTransform = useCallback((id) => TransformRegistry.get(id), [TransformRegistry]);\n\n  const transformRegistryUtils = useMemo(\n    () => ({\n      findTransform,\n      registerTransform(identifier, ref) {\n        // register by id\n        TransformRegistry.set(identifier, ref);\n        publish('transforms-list-changed', ref, 'add');\n      },\n      unregisterTransform(identifier) {\n        // unregister by id\n        TransformRegistry.delete(identifier);\n        publish('transforms-list-changed', identifier, 'remove');\n      },\n      getTransformsArray() {\n        return Array.from(TransformRegistry.keys()).map((id) => TransformRegistry.get(id));\n      },\n    }),\n    [TransformRegistry, publish, findTransform],\n  );\n\n  transformsContextValue = useMemo(() => ({\n    TransformRegistry,\n    ...transformRegistryUtils,\n  }), [\n    TransformRegistry,\n    transformRegistryUtils,\n  ]);\n\n  return (\n    <TransformsContext.Provider value={transformsContextValue}>\n      {children}\n    </TransformsContext.Provider>\n  );\n};\n\nTransformsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default TransformsManager;\n","import { useContext } from 'react';\nimport { TransformsContext } from '../Managers/TransformsManager';\n\nexport default function useTransformsContext() {\n  return useContext(TransformsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useTransformsContext from '../../Contexts/useTransformsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findTransform } = useTransformsContext();\n  const transformObj = findTransform(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (transformObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, transformObj, propName, updateProp, uuid]);\n\n  if (transformObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeTransform } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeTransform, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import React, { memo } from 'react';\n\nimport { PropTypes } from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Select, MenuItem,\n  ListItemIcon, ListItemText,\n} from '@material-ui/core';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\nconst RecklessSelectWithIcon = ({\n  data, // list of values: ['hello', 'world']\n  value, // current value: 'hello'\n  onChange, // callback when item selected\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Select\n      className={classes.selectRoot}\n      value={value}\n      onChange={onChange}\n      renderValue={() => (\n        <MenuItem value={value} className={classes.menuItemRoot}>\n          <ListItemIcon className={classes.iconRoot}>\n            {getIconByType(value)}\n          </ListItemIcon>\n          <ListItemText>{value}</ListItemText>\n        </MenuItem>\n      )}\n    >\n      {data.map((d) => (\n        <MenuItem key={d} value={d} className={classes.menuItemRoot}>\n          <ListItemIcon className={classes.iconRoot}>\n            {getIconByType(d)}\n          </ListItemIcon>\n          <ListItemText>{d}</ListItemText>\n        </MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nRecklessSelectWithIcon.propTypes = {\n  data: PropTypes.arrayOf(PropTypes.string.isRequired).isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default memo(RecklessSelectWithIcon);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip, TextField,\n  List,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport InputHandle from '../../../Components/Patches/InputHandle';\nimport OutputHandle from '../../../Components/Patches/OutputHandle';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\n\nimport RecklessSelectWithIcon from '../../../Components/Inputs/SelectWithIcon/index';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  selectListRoot: {\n    width: '100%',\n    margin: 0,\n    padding: 0,\n  },\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst TransformSettingsView = ({\n  // eslint-disable-next-line react/prop-types\n  value,\n  setValue,\n  uuid, propName, disableInput, disableOutput,\n  type,\n  // eslint-disable-next-line react/prop-types\n  data,\n}) => {\n  const classes = useStyles();\n\n  switch (type.toLowerCase()) {\n    default:\n    case 'input':\n      return (\n        <ListItem dense className={classes.propItem}>\n          <Grid spacing={0} container className={classes.propGrid}>\n            <Grid item xs={1} className={classes.handleGridLeft}>\n              {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n            <Grid item xs={10}>\n              <PropAccordianView\n                defaultOpen\n                header={<Typography className={classes.propText}>{propName}</Typography>}\n                expandIcon={(\n                  <ExpandMoreIcon fontSize=\"small\" />\n                )}\n              >\n                <Tooltip title={value} aria-label={value}>\n                  <TextField\n                    id=\"amt\"\n                    type=\"Number\"\n                    value={value}\n                    onChange={(evt) => {\n                      setValue(parseInt(evt.currentTarget.value, 10));\n                    }}\n                  />\n                </Tooltip>\n              </PropAccordianView>\n            </Grid>\n            <Grid item xs={1} className={classes.handleGridRight}>\n              {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n          </Grid>\n        </ListItem>\n      );\n    case 'select':\n      return (\n        <ListItem dense className={classes.propItem}>\n          <Grid spacing={0} container className={classes.propGrid}>\n            <Grid item xs={1} className={classes.handleGridLeft}>\n              {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n            <Grid item xs={10}>\n              <PropAccordianView\n                defaultOpen\n                header={<Typography className={classes.propText}>{propName}</Typography>}\n                expandIcon={(\n                  <ExpandMoreIcon fontSize=\"small\" />\n                )}\n              >\n                <Tooltip title={value} aria-label={value}>\n                  <List className={classes.selectListRoot}>\n                    <RecklessSelectWithIcon\n                      data={data}\n                      value={value}\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                    />\n                  </List>\n                </Tooltip>\n              </PropAccordianView>\n            </Grid>\n            <Grid item xs={1} className={classes.handleGridRight}>\n              {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n          </Grid>\n        </ListItem>\n      );\n  }\n};\n\nTransformSettingsView.propTypes = {\n  setValue: PropTypes.func.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(TransformSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useTransformsContext from '../../Contexts/useTransformsContext';\n\nimport TransformSettingsView from './view';\n\nconst TransformSettings = ({\n  uuid, propName,\n  // eslint-disable-next-line react/prop-types\n  defaultVal,\n  ...props\n}) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findTransform } = useTransformsContext();\n  const transformObj = findTransform(uuid);\n\n  const [val, setVal] = useState(defaultVal);\n\n  const isMounted = useRef(false);\n\n  const updateValue = useCallback((v) => {\n    if (isMounted.current) {\n      setVal(v);\n    }\n  }, [isMounted, setVal]);\n\n  useEffect(() => {\n    if (transformObj !== undefined) {\n      isMounted.current = true;\n\n      subscribe(`${uuid}-${propName}-updated`, updateValue);\n      setVal(transformObj[propName]);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateValue);\n    };\n  }, [subscribe, unsubscribe, uuid, transformObj, updateValue, propName]);\n\n  return (\n    <TransformSettingsView\n      {\n        ...{\n          uuid,\n          propName,\n          defaultVal,\n        }\n      }\n      {...props}\n      {...{\n        value: val,\n        setValue: (v) => {\n          if (transformObj !== undefined) {\n            transformObj[`set${propName.replace(/^\\w/, (c) => c.toUpperCase())}`](v);\n          }\n        },\n      }}\n    />\n  );\n};\n\nTransformSettings.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default TransformSettings;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchValue from './PatchValue/index';\nimport PatchToolbar from './PatchToolbar/index';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\nimport TransformSettings from './Settings';\n\nconst TransformPatch = ({ data }) => {\n  const {\n    uuid, label, width, type,\n  } = data;\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <TransformSettings {...{\n        uuid, propName: 'operator', type: 'select', defaultVal: 'add', data: ['add', 'subtract', 'multiply', 'divide'], disableInput: true, disableOutput: true,\n      }}\n      />\n      <TransformSettings {...{\n        uuid, propName: 'amount', type: 'input', defaultVal: 1, data: 1, disableInput: true, disableOutput: true,\n      }}\n      />\n      <PropListItem {...{\n        uuid, propName: 'value', disableInput: false, disableOutput: false,\n      }}\n      >\n        <PatchValue {...{ uuid, propName: 'value' }} />\n      </PropListItem>\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nTransformPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    width: PropTypes.number,\n    label: PropTypes.string,\n    type: PropTypes.string,\n  }).isRequired,\n};\n\nexport default TransformPatch;\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const GeneratorsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let generatorsContextValue = {};\n\nconst GeneratorsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Generator Connections\n  const [GeneratorRegistry] = useState(() => new Map());\n\n  const generatorRegistryUtils = useMemo(\n    () => ({\n      findGenerator(id) {\n        return GeneratorRegistry.get(id);\n      },\n      registerGenerator(identifier, ref) {\n        // register by id\n        GeneratorRegistry.set(identifier, ref);\n        publish('generators-list-changed', ref, 'add');\n      },\n      unregisterGenerator(identifier) {\n        // unregister by id\n        GeneratorRegistry.delete(identifier);\n        publish('generators-list-changed', identifier, 'remove');\n      },\n      getGeneratorsArray() {\n        return Array.from(GeneratorRegistry.keys()).map((id) => GeneratorRegistry.get(id));\n      },\n    }),\n    [GeneratorRegistry, publish],\n  );\n\n  generatorsContextValue = useMemo(() => ({\n    GeneratorRegistry,\n    ...generatorRegistryUtils,\n  }), [\n    GeneratorRegistry,\n    generatorRegistryUtils,\n  ]);\n\n  return (\n    <GeneratorsContext.Provider value={generatorsContextValue}>\n      {children}\n    </GeneratorsContext.Provider>\n  );\n};\n\nGeneratorsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nGeneratorsManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default GeneratorsManager;\n","import { useContext } from 'react';\nimport { GeneratorsContext } from '../Managers/GeneratorsManager';\n\nexport default function useGeneratorsContext() {\n  return useContext(GeneratorsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, generatorObj, propName, updateProp, uuid]);\n\n  if (generatorObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","export default function DrawSine(resolution) {\n  const scale = 1; // Min Max range. X range: [-scale, scale] Y range: [-scale, scale]\n  const points = [];\n  for (let i = 0; i <= 360; i += (360 / resolution)) {\n    points.push([\n      (scale / 360) * (i * 2) - scale,\n      Math.sin(i * (Math.PI / 180)) * scale,\n    ]);\n  }\n  return points;\n}\n","export default function DrawCircle(resolution) {\n  const diameter = 1;\n  const points = [];\n  for (let i = 0; i <= 360; i += (360 / resolution)) {\n    points.push([\n      Math.sin(i * (Math.PI / 180)) * diameter,\n      Math.cos(i * (Math.PI / 180)) * diameter,\n    ]);\n  }\n  return points;\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useRef, useEffect, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  canvasContainer: {\n    width: (props) => (props.parentSize[0]),\n    height: (props) => (props.parentSize[1]),\n    position: 'absolute',\n    zIndex: 1,\n  },\n}));\n\nconst ShapePreviewBackground = ({ shape, parentSize }) => {\n  const [shapeDimensions, setShapeDimensions] = useState([[-1, 1], [-1, 1]]);\n  const [context, setContext] = useState(null);\n  const canvasRef = useRef(null);\n  const [finalShape, setFinalShape] = useState([[0, 0], [1, 1]]);\n\n  useEffect(() => {\n    // Save size of shape\n    if (canvasRef.current !== undefined) {\n      setShapeDimensions([\n        [Math.min(...shape.map((p) => p[0])), Math.max(...shape.map((p) => p[0]))],\n        [Math.min(...shape.map((p) => p[1])), Math.max(...shape.map((p) => p[1]))],\n      ]);\n\n      // Save canvas context\n      setContext(canvasRef.current.getContext('2d'));\n    }\n  }, [canvasRef, shape, setShapeDimensions]);\n\n  useEffect(() => {\n    if (context !== null) {\n      // adjust noralized generator values to size of dom container\n      setFinalShape(shape.map((s) => [\n        (s[0] + shapeDimensions[0][1]) * ((parentSize[0] * 0.9) / 2) + (parentSize[0] * 0.05),\n        (-s[1] + shapeDimensions[1][1]) * ((parentSize[1] * 0.9) / 2) + (parentSize[1] * 0.05),\n      ]));\n    }\n  }, [context, shape, shapeDimensions, parentSize]);\n\n  useEffect(() => {\n    if (context !== null) {\n      // Draw shape on canvas\n      const draw = (ctx) => {\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#222222';\n        ctx.moveTo(finalShape[0][0], finalShape[0][1]);\n        finalShape.forEach((s) => {\n          ctx.lineTo(\n            s[0],\n            s[1],\n          );\n        });\n        ctx.stroke();\n      };\n\n      draw(context);\n    }\n  }, [context, finalShape]);\n\n  // Create local classes\n  const classes = useStyles({ parentSize });\n  return (\n    <canvas\n      width={parentSize[0]}\n      height={parentSize[1]}\n      className={classes.canvasContainer}\n      ref={canvasRef}\n    />\n  );\n};\n\nShapePreviewBackground.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShapePreviewBackground.propTypes = {\n  shape: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  parentSize: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n\nexport default memo(ShapePreviewBackground);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useEffect, useState, useRef, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  canvasContainer: {\n    width: (props) => (props.parentSize[0]),\n    height: (props) => (props.parentSize[1]),\n    position: 'absolute',\n    zIndex: 2,\n  },\n  ind: {\n    background: '#FFFFFF',\n    borderRadius: '50%',\n    border: '1px solid #222',\n    width: 7,\n    height: 7,\n    position: 'absolute',\n    left: (props) => (props.finalVal[0]),\n    top: (props) => (props.finalVal[1]),\n\n  },\n}));\n\nconst ShapePreviewIndicator = ({\n  shape, propName, parentSize, uuid,\n}) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n\n  const [propVal, setPropVal] = useState(0);\n  const [shapeDimensions, setShapeDimensions] = useState([-1, 1], [-1, 1]);\n  const [finalVal, setFinalVal] = useState([1, 1]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      setPropVal(generatorObj[propName]);\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, generatorObj, propName, updateProp, uuid]);\n\n  useEffect(() => {\n    setShapeDimensions([\n      [Math.min(...shape.map((p) => p[0])), Math.max(...shape.map((p) => p[0]))],\n      [Math.min(...shape.map((p) => p[1])), Math.max(...shape.map((p) => p[1]))],\n    ]);\n  }, [shape, setShapeDimensions]);\n\n  useEffect(() => {\n    setFinalVal([\n      (propVal[0] + shapeDimensions[0][1])\n      * ((parentSize[0] * 0.9) / 2) + (parentSize[0] * 0.05) - 2.5,\n      (-propVal[1] + shapeDimensions[1][1])\n      * ((parentSize[1] * 0.9) / 2) + (parentSize[1] * 0.05) - 2, 5,\n    ]);\n  }, [propVal, shapeDimensions, parentSize]);\n\n  // Create local classes\n  const classes = useStyles({ parentSize, finalVal });\n  return <div className={classes.canvasContainer}><div className={classes.ind} /></div>;\n};\n\nShapePreviewIndicator.propTypes = {\n  shape: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  parentSize: PropTypes.arrayOf(PropTypes.number).isRequired,\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(ShapePreviewIndicator);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  AppBar, Toolbar, Grid, Button, Tooltip,\n} from '@material-ui/core';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport RepeatIcon from '@material-ui/icons/Repeat';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    borderBottomLeftRadius: '10px',\n    borderBottomRightRadius: '10px',\n    overflow: 'hidden',\n    minHeight: '32px',\n  },\n  toolbar: {\n    padding: 0,\n    minHeight: '32px',\n  },\n  appbar: {\n    background: 'none',\n  },\n  group: {\n    width: '100%',\n  },\n  button: {\n    padding: 0,\n    margin: 0,\n    minWidth: 'auto',\n  },\n  buttonLoop: {\n    padding: 0,\n    margin: 0,\n    minWidth: 'auto',\n  },\n  buttonLabel: {\n    fontSize: 13,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst PlaybackToolbarView = ({\n  paused, setPause, looped, setLoop,\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar\n          variant=\"dense\"\n          className={classes.toolbar}\n        >\n          <Grid spacing={0} container>\n            <Grid item xs={3}>\n              <Button\n                id=\"play-button\"\n                className={classes.button}\n                onClick={() => {\n                  setPause(!paused);\n                }}\n              >\n                {(paused === true)\n                  ? (\n                    <Tooltip title=\"Play\" aria-label=\"Play\">\n                      <PlayArrowIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )\n                  : (\n                    <Tooltip title=\"Pause\" aria-label=\"Pause\">\n                      <PauseIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )}\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                id=\"loop-button\"\n                className={classes.buttonLoop}\n                onClick={() => {\n                  setLoop(!looped);\n                }}\n              >\n                {(looped === true)\n                  ? (\n                    <Tooltip title=\"No Loop\" aria-label=\"No Loop\">\n                      <RepeatIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )\n                  : (\n                    <Tooltip title=\"Loop\" aria-label=\"Loop\">\n                      <RepeatIcon color=\"disabled\" fontSize=\"small\" />\n                    </Tooltip>\n                  )}\n              </Button>\n            </Grid>\n            <Grid item xs={6} />\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nPlaybackToolbarView.propTypes = {\n  paused: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  looped: PropTypes.bool.isRequired,\n  setLoop: PropTypes.func.isRequired,\n};\n\nexport default memo(PlaybackToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport PlaybackToolbarView from '../../../Components/Patches/PlaybackToolbar/view';\n\nconst PlaybackToolbar = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [isPaused, setIsPaused] = useState(false);\n  const [isLooped, setIsLooped] = useState(false);\n\n  const isMounted = useRef(false);\n\n  const updatePause = useCallback((val) => {\n    if (isMounted.current) {\n      setIsPaused(val);\n    }\n  }, [isMounted, setIsPaused]);\n\n  const updateLoop = useCallback((val) => {\n    if (isMounted.current) {\n      setIsLooped(val);\n    }\n  }, [isMounted, setIsLooped]);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    subscribe(`${uuid}-paused-updated`, updatePause);\n    // setIsPaused(generatorObj.paused);\n\n    subscribe(`${uuid}-looped-updated`, updateLoop);\n    // setIsLooped(generatorObj.looped);\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-paused-updated`, updatePause);\n      unsubscribe(`${uuid}-looped-updated`, updateLoop);\n    };\n  }, [uuid, subscribe, unsubscribe, updatePause, updateLoop]);\n\n  return (\n    <PlaybackToolbarView {...{\n      paused: isPaused,\n      looped: isLooped,\n      setPause: () => {\n        // if (generatorObj !== undefined) {\n        //   generatorObj.setPaused(val);\n        // }\n      },\n      setLoop: () => {\n        // if (generatorObj !== undefined) {\n        //   generatorObj.setLooped(val);\n        // }\n      },\n    }}\n    />\n  );\n};\n\nPlaybackToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPlaybackToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PlaybackToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\n\nimport DrawSine from '../../../Shapes/drawSine';\nimport DrawCircle from '../../../Shapes/drawCircle';\n\nimport ShapePreviewBackground from './background';\nimport ShapePreviewIndicator from './indicator';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\nimport PlaybackToolbar from '../PlaybackToolbar';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  shapeContainer: {\n    width: '100%',\n    height: 100,\n    padding: '0 10%',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n}));\n\nconst ShapePreview = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator, getGeneratorsArray } = useGeneratorsContext();\n\n  const [generator, setGenerator] = useState(null);\n\n  const isMounted = useRef(false);\n\n  const updateGenerator = useCallback((val) => {\n    if (isMounted.current) {\n      setGenerator(val);\n    }\n  }, [isMounted, setGenerator]);\n\n  useEffect(() => {\n    const generatorObj = findGenerator(uuid);\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      setGenerator(generatorObj);\n      subscribe('generators-list-changed', updateGenerator);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('generators-list-changed', updateGenerator);\n    };\n  }, [subscribe, unsubscribe, updateGenerator, findGenerator, uuid, getGeneratorsArray]);\n\n  const [shape, setShape] = useState([[-1, -1], [1, 1], [1, -1], [-1, 1]]);\n\n  const shapeRef = useRef(null);\n  const [containerSize, setContainerSize] = useState([1, 1]);\n\n  // Create local classes\n  const classes = useStyles();\n\n  useEffect(() => {\n    setContainerSize(\n      shapeRef.current\n        ? [shapeRef.current.offsetWidth * 0.8, shapeRef.current.offsetHeight] : [1, 1],\n    );\n  }, [shapeRef, setContainerSize]);\n\n  useEffect(() => {\n    if (generator) {\n      switch (generator.type.toLowerCase()) {\n        default:\n        case 'sinewave':\n          setShape(DrawSine(generator.resolution));\n          break;\n        case 'orbit':\n          setShape(DrawCircle(generator.resolution));\n          break;\n      }\n    }\n  }, [setShape, generator]);\n\n  const getPreview = (s, size) => {\n    if (generator === null) {\n      return (\n        <div className={classes.shapeContainer} ref={shapeRef}>\n          <ShapePreviewBackground {...{ shape: s, parentSize: size }} />\n        </div>\n      );\n    }\n    return (\n      <div className={classes.shapeContainer} ref={shapeRef}>\n        <ShapePreviewIndicator {...{\n          shape: s, setGenerator, propName, parentSize: size, uuid,\n        }}\n        />\n        <ShapePreviewBackground {...{ shape: s, parentSize: size }} />\n      </div>\n    );\n  };\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<PlaybackToolbar uuid={uuid} />}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            { getPreview(shape, containerSize) }\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nShapePreview.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default ShapePreview;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeGenerator } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeGenerator, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip, TextField,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  expandIcon: {\n    padding: 0,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst GeneratorSettingsView = ({\n  rpm, setRPM,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<Typography className={classes.propText}>Speed (RPMs)</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <Tooltip title={`${rpm} rpm (${(rpm / 60).toFixed(3)}/s)`} aria-label={`${rpm} rpm`}>\n              <TextField\n                id=\"rpm\"\n                type=\"Number\"\n                value={rpm}\n                onChange={(evt) => {\n                  setRPM(evt.currentTarget.value);\n                }}\n              />\n            </Tooltip>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nGeneratorSettingsView.propTypes = {\n  rpm: PropTypes.number.isRequired,\n  setRPM: PropTypes.func.isRequired,\n};\n\nexport default memo(GeneratorSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\nimport GeneratorSettingsView from './view';\n\nconst GeneratorSettings = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n\n  const [rpms, setRPMs] = useState(0);\n  const [res, setRes] = useState(1);\n\n  const isMounted = useRef(false);\n\n  const updateRPM = useCallback((val) => {\n    if (isMounted.current) {\n      setRPMs(val);\n    }\n  }, [isMounted, setRPMs]);\n\n  const updateRes = useCallback((val) => {\n    if (isMounted.current) {\n      setRes(val);\n    }\n  }, [isMounted, setRes]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n\n      subscribe(`${uuid}-rpm-updated`, updateRPM);\n      setRPMs(generatorObj.rpm);\n\n      subscribe(`${uuid}-resolution-updated`, updateRes);\n      setRes(generatorObj.resolution);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-rpm-updated`, updateRPM);\n      unsubscribe(`${uuid}-resolution-updated`, updateRes);\n    };\n  }, [subscribe, unsubscribe, uuid, generatorObj, updateRPM, updateRes]);\n\n  return (\n    <GeneratorSettingsView {...{\n      resolution: res,\n      rpm: rpms,\n      setResolution: (val) => {\n        if (generatorObj !== undefined) {\n          generatorObj.setResolution(val);\n        }\n      },\n      setRPM: (val) => {\n        if (generatorObj !== undefined) {\n          generatorObj.setRpm(val);\n        }\n      },\n    }}\n    />\n  );\n};\n\nGeneratorSettings.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGeneratorSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default GeneratorSettings;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport PatchValue from './PatchValue/index';\nimport ShapePreview from './ShapePreview/index';\nimport PatchToolbar from './PatchToolbar/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport GeneratorSettings from './Settings';\nimport PropListItem from '../../Components/Patches/PropListItem';\n\nconst Generator = ({ data }) => {\n  const { uuid, label, width } = data;\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type: 'Generator' }} />\n      <ShapePreview {...{ uuid, propName: 'position' }} />\n      <GeneratorSettings uuid={uuid} />\n      <PropListItem {...{\n        uuid, propName: 'position', disableInput: true, disableOutput: false,\n      }}\n      >\n        <PatchValue {...{ uuid, propName: 'position' }} />\n      </PropListItem>\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGenerator.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    width: PropTypes.number,\n  }).isRequired,\n};\n\nexport default memo(Generator);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport usePeersContext from '../../Contexts/usePeersContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findPeer } = usePeersContext();\n  const peerObj = findPeer(uuid);\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (peerObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, peerObj, propName, updateProp, uuid]);\n\n  if (peerObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removePeer } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removePeer, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { useEffect, useState } from 'react';\n\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchValue from './PatchValue/index';\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport useConnectionsContext from '../../Connections/Contexts/useConnectionsContext';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport PatchToolbar from './PatchToolbar/index';\n\nconst PeerPatch = ({ data }) => {\n  const { uuid, width } = data;\n  const { findConnection } = useConnectionsContext();\n  const [peer, setPeer] = useState(null);\n\n  const [patchProps, setPatchProps] = useState([]);\n\n  useEffect(() => {\n    if (peer !== null) {\n      setPatchProps([\n        {\n          uuid: peer.uuid, propName: 'data', disableInput: false, disableOutput: false,\n        },\n      ]);\n    }\n  }, [peer]);\n\n  useEffect(() => {\n    const p = findConnection(uuid);\n    if (p !== undefined) {\n      setPeer(p);\n    }\n  }, [uuid, findConnection, setPeer]);\n\n  if (peer === null) { return null; }\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${peer.name}`, uuid: `${peer.uuid}`, type: 'Peer' }} />\n      {patchProps.map((p) => (<PropListItem key={`${peer.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: peer.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={peer.uuid} />\n    </PatchRoot>\n  );\n};\n\nPeerPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    width: PropTypes.string,\n  }).isRequired,\n};\n\nexport default PeerPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeWidget } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeWidget, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../../Devices/Contexts/useDevicesContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, deviceObj, propName, updateProp, uuid]);\n\n  if (deviceObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst PreviewPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'mediastream', disableInput: false, disableOutput: true,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nPreviewPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default PreviewPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PreviewPatch from './Preview';\n\nconst WidgetPatch = ({ data }) => {\n  const { type } = data;\n  switch (type.toLowerCase()) {\n    default:\n      return (<PreviewPatch {...{ data }} />);\n  }\n};\n\nWidgetPatch.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default WidgetPatch;\n","import PropTypes from 'prop-types';\n\nimport React, { useState } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { getSmoothStepPath, getEdgeCenter } from 'react-flow-renderer';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  deleteEdgeButton: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    width: '100%',\n  },\n  foreignObject: { opacity: 0 },\n  foreignObjectShow: { opacity: 1 },\n}));\n\nconst CustomEdge = ({\n  sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition, id, style,\n}) => {\n  const classes = useStyles();\n\n  const { removeConnection } = useAppContext();\n\n  const [showDelete, setShowDelete] = useState(false);\n\n  const edgePath = getSmoothStepPath({\n    sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition,\n  });\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n  });\n  const foreignObjectSize = 40;\n  return (\n    <g\n      onMouseOver={() => { setShowDelete(true); }}\n      onMouseOut={() => { setShowDelete(false); }}\n    >\n      <defs>\n        <marker\n          id=\"markerEnd\"\n          markerWidth=\"35\"\n          markerHeight=\"35\"\n          viewBox=\"-10 -10 20 20\"\n          orient=\"auto\"\n          refX=\"-3\"\n          refY=\"0\"\n        >\n          <polyline\n            stroke=\"#222\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"1\"\n            fill=\"#fff\"\n            points=\"-5,-3 0,0 -5,3 -5,-3\"\n          />\n        </marker>\n      </defs>\n      <circle cx={sourceX} cy={sourceY} fill=\"#fff\" r={4} stroke=\"#222\" strokeWidth={1.5} />\n      <path id={id} style={style} className=\"react-flow__edge-path\" d={edgePath} markerEnd=\"url(#markerEnd)\" />\n      <foreignObject\n        width={foreignObjectSize}\n        height={foreignObjectSize}\n        x={edgeCenterX - foreignObjectSize / 2}\n        y={edgeCenterY - foreignObjectSize / 2}\n        className={clsx(classes.foreignObject, {\n          [classes.foreignObjectShow]: showDelete,\n        })}\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\n      >\n        <IconButtonView\n          {...{\n            label: 'Delete',\n            handeClick: () => {\n              removeConnection({ id });\n            },\n          }}\n          className={classes.deleteEdgeButton}\n        >\n          <FontAwesomeIcon icon={faTimes} />\n        </IconButtonView>\n      </foreignObject>\n    </g>\n  );\n};\n\nCustomEdge.propTypes = {\n  sourceX: PropTypes.number.isRequired,\n  sourceY: PropTypes.number.isRequired,\n  sourcePosition: PropTypes.string.isRequired,\n  targetX: PropTypes.number.isRequired,\n  targetY: PropTypes.number.isRequired,\n  targetPosition: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  style: PropTypes.shape({}),\n};\n\nexport default CustomEdge;\n","import PropTypes from 'prop-types';\n\nimport React, { useState } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { getBezierPath, getEdgeCenter } from 'react-flow-renderer';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  deleteEdgeButton: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    width: '100%',\n  },\n  foreignObject: { opacity: 0 },\n  foreignObjectShow: { opacity: 1 },\n}));\n\nconst CustomLineageEdge = ({\n  sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition, id, style,\n  source,\n}) => {\n  const classes = useStyles();\n\n  const { removeFromParent } = useAppContext();\n\n  const [showDelete, setShowDelete] = useState(false);\n\n  const edgePath = getBezierPath({\n    sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition,\n  });\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n  });\n  const foreignObjectSize = 40;\n  return (\n    <g\n      onMouseOver={() => { setShowDelete(true); }}\n      onMouseOut={() => { setShowDelete(false); }}\n    >\n      <defs>\n        <marker\n          id=\"markerEndLineage\"\n          markerWidth=\"35\"\n          markerHeight=\"35\"\n          viewBox=\"-10 -10 20 20\"\n          orient=\"auto\"\n          refX=\"-3\"\n          refY=\"0\"\n        >\n          <polyline\n            stroke=\"#222\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"1\"\n            fill=\"#fff\"\n            points=\"-5,-3 0,0 -5,3 -5,-3\"\n          />\n        </marker>\n      </defs>\n      <circle cx={sourceX} cy={sourceY} fill=\"#fff\" r={4} stroke=\"#222\" strokeWidth={1.5} />\n      <path id={id} style={style} className=\"react-flow__edge-path\" d={edgePath} markerEnd=\"url(#markerEndLineage)\" />\n      <foreignObject\n        width={foreignObjectSize}\n        height={foreignObjectSize}\n        x={edgeCenterX - foreignObjectSize / 2}\n        y={edgeCenterY - foreignObjectSize / 2}\n        className={clsx(classes.foreignObject, {\n          [classes.foreignObjectShow]: showDelete,\n        })}\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\n      >\n        <IconButtonView\n          {...{\n            label: 'Emancipate',\n            handeClick: () => {\n              removeFromParent({ uuid: source });\n            },\n          }}\n          className={classes.deleteEdgeButton}\n        >\n          <FontAwesomeIcon icon={faTimes} />\n        </IconButtonView>\n      </foreignObject>\n    </g>\n  );\n};\n\nCustomLineageEdge.propTypes = {\n  source: PropTypes.string.isRequired,\n  sourceX: PropTypes.number.isRequired,\n  sourceY: PropTypes.number.isRequired,\n  sourcePosition: PropTypes.string.isRequired,\n  targetX: PropTypes.number.isRequired,\n  targetY: PropTypes.number.isRequired,\n  targetPosition: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  style: PropTypes.shape({}),\n};\n\nexport default CustomLineageEdge;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport ReactFlow, {\n  Controls, isNode,\n} from 'react-flow-renderer';\nimport dagre from 'dagre';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst onLoad = () => {\n  // reactFlowInstance.fitView();\n};\n\nconst nodeWidth = 150;\nconst nodeHeight = 200;\n\nconst NodeEditorView = ({\n  elements, nodeTypes, edgeTypes, updateConnection, addConnection,\n}) => {\n  const dagreGraph = new dagre.graphlib.Graph();\n  dagreGraph.setDefaultEdgeLabel(() => ({}));\n\n  const getLayoutedElements = (elems) => {\n    dagreGraph.setGraph({\n      rankdir: 'LR',\n      align: 'DL',\n      // ranker: 'tight-tree',\n      // acyclicer: 'greedy',\n      nodesep: 50,\n      edgesep: 0,\n      ranksep: 50,\n      marginx: 20,\n      marginy: 20,\n    });\n\n    elems.forEach((el) => {\n      if (isNode(el)) {\n        dagreGraph.setNode(el.id, { width: nodeWidth, height: nodeHeight });\n      } else {\n        dagreGraph.setEdge(el.source, el.target);\n      }\n    });\n\n    dagre.layout(dagreGraph);\n\n    return elems.filter((el) => !el.isHidden).map((el) => {\n      let newProps = {};\n      if (isNode(el)) {\n        const nodeWithPosition = dagreGraph.node(el.id);\n        newProps = {\n          targetPosition: 'right',\n          sourcePosition: 'left',\n          position: {\n            x: nodeWithPosition.x - nodeWidth / 2 + Math.random() / 1000,\n            y: nodeWithPosition.y - nodeHeight / 2,\n          },\n        };\n      }\n\n      return {\n        ...el,\n        ...newProps,\n      };\n    });\n  };\n\n  const layoutedElements = getLayoutedElements(elements.filter((el) => !el.isHidden));\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <ReactFlow\n        elements={layoutedElements}\n        nodeTypes={nodeTypes}\n        edgeTypes={edgeTypes}\n        onLoad={onLoad}\n        snapToGrid\n        onEdgeUpdate={updateConnection}\n        onConnect={addConnection}\n      >\n        <Controls />\n      </ReactFlow>\n    </div>\n  );\n};\n\nNodeEditorView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nNodeEditorView.propTypes = {\n  elements: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  nodeTypes: PropTypes.shape([]).isRequired,\n  edgeTypes: PropTypes.shape([]).isRequired,\n  updateConnection: PropTypes.func.isRequired,\n  addConnection: PropTypes.func.isRequired,\n};\n\nexport default memo(NodeEditorView);\n","import React, { useState, useMemo } from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport { rtSceneToFlow } from '../../../Utils/toFlow';\n\nimport Scene from '../../../Scenes/Patch';\nimport ThreeObject from '../../../ThreeObjects/Patch';\n\nimport Device from '../../../Devices/Patch';\nimport Transform from '../../../Transforms/Patch';\nimport Generator from '../../../Generators/Patch';\nimport Peer from '../../../Peers/Patch';\nimport Widget from '../../../Widgets/Patch';\n\nimport CustomEdge from '../../../Components/Patches/Edges/CustomEdge';\nimport CustomLineageEdge from '../../../Components/Patches/Edges/CustomLineageEdge';\n\nimport NodeEditorView from './view';\n\nconst NodeEditor = () => {\n  const [elements, setElements] = useState([]);\n  const { sceneJSON, updateConnection, addConnection } = useAppContext();\n\n  useMemo(() => { setElements(rtSceneToFlow(sceneJSON)); }, [sceneJSON]);\n\n  const nodeTypes = {\n    Scene,\n    threeObj: ThreeObject,\n    device: Device,\n    transform: Transform,\n    generator: Generator,\n    peer: Peer,\n    widget: Widget,\n  };\n\n  const edgeTypes = {\n    custom: CustomEdge,\n    customLineage: CustomLineageEdge,\n  };\n\n  return (\n    <NodeEditorView {...{\n      elements, nodeTypes, edgeTypes, updateConnection, addConnection,\n    }}\n    />\n  );\n};\n\nNodeEditor.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default NodeEditor;\n","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nimport useEditorMenuContext from '../../Contexts/useEditorMenuContext';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst EditorCloseButton = () => {\n  const classes = useStyles();\n  const { editorMenuOpen, setEditorMenuOpen } = useEditorMenuContext();\n\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          setEditorMenuOpen(!editorMenuOpen);\n        },\n      }}\n      className={classes.button}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nEditorCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default EditorCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst SceneDownloadButttonView = ({ sceneJSON }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Download Scene',\n        handeClick: () => {\n          // eslint-disable-next-line no-undef\n          const link = document.createElement('a');\n          link.download = 'RT_Scene.json';\n          link.href = `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(sceneJSON))}`;\n          link.click();\n        },\n      }}\n      className={classes.menuButton}\n    >\n      <GetAppIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nSceneDownloadButttonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nSceneDownloadButttonView.propTypes = {\n  sceneJSON: PropTypes.shape({}).isRequired,\n};\n\nexport default memo(SceneDownloadButttonView);\n","import React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport SceneDownloadButttonView from './view';\n\nconst SceneDownloadButtton = () => {\n  const { sceneJSON } = useAppContext();\n  return <SceneDownloadButttonView {...{ sceneJSON }} />;\n};\n\nSceneDownloadButtton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SceneDownloadButtton;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useState, useEffect, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItemIcon,\n  ListSubheader,\n  MenuItem,\n  Typography,\n} from '@material-ui/core';\n\nimport useConnectionsContext from '../../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../../App/Contexts/useAppContext';\nimport { getIconByType } from '../../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    padding: 0,\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst AddPeersToScene = ({ closeMenu }) => {\n  const { addPeer, sceneJSON } = useAppContext();\n  const { getConnectionsArray } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const classes = useStyles();\n\n  const [connections, setConnections] = useState([]);\n\n  useEffect(() => { // update data on load\n    const peer = getConnectionsArray();\n    if (peer !== undefined) {\n      setConnections(peer.filter((p) => (!p.isMe)));\n    }\n  }, [setConnections, getConnectionsArray]);\n\n  const isMounted = useRef(false);\n\n  const updateConnections = useCallback(() => {\n    if (isMounted.current) {\n      const peer = getConnectionsArray();\n      if (peer !== undefined) {\n        setConnections(peer.filter((p) => (!p.isMe)));\n      }\n    }\n  }, [getConnectionsArray]);\n\n  useEffect(() => {\n    if (updateConnections !== undefined) {\n      isMounted.current = true;\n      subscribe('connection-modified', updateConnections);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('connection-modified', updateConnections);\n    };\n  }, [subscribe, unsubscribe, updateConnections]);\n\n  if (connections.length === 0) {\n    return (\n      <ul className={classes.list}>\n        <ListSubheader>No Connected Peers</ListSubheader>\n      </ul>\n    );\n  }\n\n  return (\n    <ul className={classes.list}>\n      <ListSubheader>Add Peer</ListSubheader>\n      {connections.map((connection) => (\n        <MenuItem\n          dense\n          key={`add_peer_menu_${connection.uuid}_${connection.connectionId}`}\n          disabled={(sceneJSON.peers.filter((p) => p.uuid === connection.uuid).length > 0)}\n          onClick={() => { addPeer(connection.uuid); closeMenu(); }}\n        >\n          <ListItemIcon>\n            {getIconByType('Peer')}\n          </ListItemIcon>\n          <Typography variant=\"inherit\">{`${connection.name} (${connection.uuid})`}</Typography>\n        </MenuItem>\n      ))}\n    </ul>\n  );\n};\n\nAddPeersToScene.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nAddPeersToScene.propTypes = {\n  closeMenu: PropTypes.func.isRequired,\n};\n\nexport default AddPeersToScene;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst AddToSceneCloseButtonView = ({ handleClose }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: (evt) => {\n          handleClose(evt);\n        },\n      }}\n      className={classes.button}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nAddToSceneCloseButtonView.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nAddToSceneCloseButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(AddToSceneCloseButtonView);\n","import React from 'react';\n\nimport AddToSceneCloseButtonView from './view';\n\nconst AddToSceneCloseButton = (props) => (\n  <AddToSceneCloseButtonView {...props} />\n);\n\nAddToSceneCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AddToSceneCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCube, faWaveSquare, faMouse, faSquareRootAlt, faUsers,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  AppBar, Toolbar, Tabs, Tooltip, Tab,\n} from '@material-ui/core';\n\nimport AddToSceneCloseButton from '../../AddToSceneCloseButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  tabRoot: {\n    minWidth: '50px',\n  },\n}));\n\nconst AddToSceneToolbarView = ({ closeMenu, value, handleChange }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <AddToSceneCloseButton handleClose={closeMenu} />\n          <div className={classes.spacer} />\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            indicatorColor=\"secondary\"\n            textColor=\"secondary\"\n            scrollButtons=\"off\"\n            aria-label=\"scrollable prevent tabs example\"\n          >\n            <Tooltip title=\"3D Objects\" aria-label=\"3D Objects\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={(<FontAwesomeIcon icon={faCube} />)}\n                aria-label=\"objects\"\n                {...{\n                  id: 'objects-tab-0',\n                  'aria-controls': 'objects-tabpanel-0',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Generators\" aria-label=\"Generators\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faWaveSquare} />}\n                aria-label=\"generators\"\n                {...{\n                  id: 'generators-tab-1',\n                  'aria-controls': 'generators-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Peers\" aria-label=\"Peers\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faUsers} />}\n                aria-label=\"peers\"\n                {...{\n                  id: 'peers-tab-2',\n                  'aria-controls': 'peers-tabpanel-2',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Devices\" aria-label=\"Devices\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faMouse} />}\n                aria-label=\"devices\"\n                {...{\n                  id: 'devices-tab-3',\n                  'aria-controls': 'devices-tabpanel-3',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Transforms\" aria-label=\"Transforms\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faSquareRootAlt} />}\n                aria-label=\"transforms\"\n                {...{\n                  id: 'transforms-tab-4',\n                  'aria-controls': 'transforms-tabpanel-4',\n                }}\n              />\n            </Tooltip>\n          </Tabs>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nAddToSceneToolbarView.propTypes = {\n  closeMenu: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default memo(AddToSceneToolbarView);\n","import React from 'react';\n\nimport AddToSceneToolbarView from './view';\n\nconst AddToSceneToolbar = (props) => (\n  <AddToSceneToolbarView {...props} />\n);\n\nAddToSceneToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AddToSceneToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListSubheader,\n  Box,\n  MenuItem,\n  Menu,\n  ListItemIcon, Typography,\n  // Accordion, AccordionSummary, AccordionDetails,\n} from '@material-ui/core';\n\nimport AddIcon from '@material-ui/icons/Add';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport AddPeersToScene from './AddPeersToScene';\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nimport AddToSceneToolbar from './AddToSceneToolbar';\n\nimport IconButtonView from '../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  paper: {\n    // width: '375px',\n    // height: '485px',\n  },\n  list: {\n    width: '100%',\n    paddingTop: 0,\n  },\n  itemList: {\n    width: '100%',\n    padding: 0,\n    margin: 0,\n  },\n  tabPanel: {\n    padding: '0 20px',\n  },\n  button: {},\n}));\n\nconst TabPanel = ({\n  children, value, index, ...props\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-prevent-tabpanel-${index}`}\n      aria-labelledby={`scrollable-prevent-tab-${index}`}\n      {...props}\n    >\n      {value === index && (\n        <Box classes={{ root: classes.tabPanel }} p={3}>\n          <div>{children}</div>\n        </Box>\n      )}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.number.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nconst AddToSceneMenu = () => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const {\n    addThreeObj, addGenerator,\n    addDevice, addTransform,\n  } = useAppContext();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const openMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const addObject = (type) => {\n    addThreeObj(type);\n    closeMenu();\n  };\n\n  return (\n    <div>\n      <IconButtonView\n        {...{\n          label: 'Add',\n          handeClick: (evt) => {\n            openMenu(evt);\n          },\n        }}\n        aria-label=\"Add\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        className={classes.button}\n      >\n        <AddIcon fontSize=\"small\" />\n      </IconButtonView>\n      <Menu\n        className={classes.menu}\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        keepMounted\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={open}\n        onClose={closeMenu}\n        classes={{\n          paper: classes.paper,\n          list: classes.list,\n        }}\n      >\n        <div className={classes.root}>\n          <AddToSceneToolbar {...{ value, handleChange, closeMenu }} />\n          <TabPanel value={value} index={0}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add 3d Object</ListSubheader>\n              <MenuItem dense onClick={() => { addObject('Box'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Cube</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addObject('Sphere'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Sphere</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addObject('Plane'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Plane</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Generator</ListSubheader>\n              <MenuItem dense onClick={() => { addGenerator('Sinewave'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Generator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Sinewave</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addGenerator('Orbit'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Generator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Orbit</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <AddPeersToScene closeMenu={closeMenu} />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Device</ListSubheader>\n              <MenuItem dense onClick={() => { addDevice('camera'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('camera')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Camera</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addDevice('mouse'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('device')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Mouse</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Transform</ListSubheader>\n              <MenuItem dense onClick={() => { addTransform('calculator'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('calculator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Calculator</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n        </div>\n      </Menu>\n    </div>\n  );\n};\n\nexport default AddToSceneMenu;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\n\nimport EditorCloseButton from '../EditorCloseButton';\nimport SceneDownloadButtton from '../SceneDownloadButton';\nimport AddToSceneMenu from '../AddToSceneMenu';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    minHeight: 'auto !important',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    marginRight: theme.spacing(2),\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n}));\n\nconst EditorToolbarView = ({ sceneJSON }) => {\n  const classes = useStyles();\n\n  const { object } = sceneJSON;\n  const { name } = object;\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <EditorCloseButton />\n          <Typography variant=\"h6\" className={classes.title}>\n            {name}\n          </Typography>\n          <SceneDownloadButtton />\n          <div className={classes.spacer} />\n          <AddToSceneMenu />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nEditorToolbarView.propTypes = {\n  sceneJSON: PropTypes.shape({\n    object: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default memo(EditorToolbarView);\n","import React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport EditorToolbarView from './view';\n\nconst EditorToolbar = () => {\n  const { sceneJSON } = useAppContext();\n  return <EditorToolbarView {...{ sceneJSON }} />;\n};\n\nEditorToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default EditorToolbar;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Drawer, Divider } from '@material-ui/core';\n\nimport NodeEditor from './NodeEditor';\nimport EditorToolbar from './EditorToolbar';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n    height: (props) => props.editorMenuHeight,\n    position: 'fixed',\n  },\n  paper: {\n    width: '100%',\n    height: (props) => props.editorMenuHeight,\n  },\n}));\n\nconst EditorView = ({ editorMenuOpen, editorMenuHeight, setEditorMenuOpen }) => {\n  const classes = useStyles({ editorMenuOpen, editorMenuHeight, setEditorMenuOpen });\n\n  return (\n    <Drawer\n      variant=\"persistent\"\n      anchor=\"bottom\"\n      open={editorMenuOpen}\n      classes={{\n        root: classes.root,\n        paper: classes.paper,\n      }}\n    >\n      <EditorToolbar />\n      <Divider />\n      <NodeEditor />\n    </Drawer>\n  );\n};\n\nEditorView.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  setEditorMenuOpen: PropTypes.func.isRequired,\n};\n\nEditorView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default EditorView;\n","import React from 'react';\n\nimport useEditorMenuContext from '../Contexts/useEditorMenuContext';\nimport EditorView from './view';\n\nconst Editor = () => {\n  const { editorMenuOpen, editorMenuHeight, setEditorMenuOpen } = useEditorMenuContext();\n\n  return (\n    <EditorView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      setEditorMenuOpen,\n    }}\n    />\n  );\n};\n\nEditor.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default Editor;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport { makeStyles } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst WelcomeCloseButton = ({ handleClose }) => {\n  // Local CSS classes\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          handleClose();\n        },\n      }}\n      className={classes.button}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nWelcomeCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWelcomeCloseButton.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default WelcomeCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\nimport WelcomeCloseButton from '../WelcomeCloseButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    minHeight: 'auto !important',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    marginRight: theme.spacing(2),\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n}));\n\nconst WelcomeToolbarView = ({ handleClose }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <WelcomeCloseButton {...{ handleClose }} />\n          <Typography variant=\"h6\" className={classes.title}>\n            Reckless Technology\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nWelcomeToolbarView.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default memo(WelcomeToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport WelcomeToolbarView from './view';\n\nconst WelcomeToolbar = ({ handleClose }) => <WelcomeToolbarView {...{ handleClose }} />;\n\nWelcomeToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWelcomeToolbar.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default WelcomeToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Typography, List, ListItem, Divider, Paper, Link,\n} from '@material-ui/core';\nimport WelcomeToolbar from './WelcomeToolbar';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '375px',\n  },\n  listRoot: {\n    width: '100%',\n  },\n  listItem: {\n    width: '100%',\n  },\n  title: {},\n}));\n\nconst WelcomeModalView = (props) => {\n  const {\n    handleClose,\n  } = props;\n  const classes = useStyles();\n  return (\n    <Paper className={classes.root}>\n      <WelcomeToolbar {...{ handleClose }} />\n      <Divider />\n      <List\n        dense\n        className={classes.listRoot}\n      >\n        <ListItem className={classes.listItem}>\n          <Typography variant=\"body2\">\n            Welcome to the Proof of Concept demo of Reckless Techology:\n            a free and open source progressive web app that allows artists and performers\n            to quickly connect and collaborate in real-time.\n          </Typography>\n        </ListItem>\n        <ListItem className={classes.listItem}>\n          <Typography variant=\"body2\">\n            Check out\n            <Link target=\"_blank\" href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/wiki\">\n              &nbsp;the wiki&nbsp;\n            </Link>\n            for more information.\n          </Typography>\n        </ListItem>\n      </List>\n    </Paper>\n  );\n};\n\nWelcomeModalView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWelcomeModalView.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default memo(WelcomeModalView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport { useSpring, animated } from 'react-spring';\n\nimport WelcomeModalView from './view';\n\nconst useStyles = makeStyles(() => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n}));\n\nconst Fade = React.forwardRef((props, ref) => {\n  const {\n    in: open, children, onEnter, onExited,\n    ...other\n  } = props;\n  const style = useSpring({\n    from: { opacity: 0 },\n    to: { opacity: open ? 1 : 0 },\n    onStart: () => {\n      if (open && onEnter) {\n        onEnter();\n      }\n    },\n    onRest: () => {\n      if (!open && onExited) {\n        onExited();\n      }\n    },\n  });\n\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <animated.div ref={ref} style={style} {...other}>\n      {children}\n    </animated.div>\n  );\n});\n\nFade.propTypes = {\n  children: PropTypes.element.isRequired,\n  in: PropTypes.bool.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  onEnter: PropTypes.func,\n  // eslint-disable-next-line react/require-default-props\n  onExited: PropTypes.func,\n};\n\nconst WelcomeModal = () => {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(true);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Modal\n      disableEnforceFocus\n      disableAutoFocus\n      aria-labelledby=\"spring-modal-title\"\n      aria-describedby=\"spring-modal-description\"\n      className={classes.modal}\n      open={open}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={open}>\n        <WelcomeModalView {...{ handleClose }} />\n      </Fade>\n    </Modal>\n  );\n};\n\nexport default WelcomeModal;\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const WidgetsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let widgetsContextValue = {};\n\nconst WidgetsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Widget Connections\n  const [WidgetRegistry] = useState(() => new Map());\n\n  const widgetRegistryUtils = useMemo(\n    () => ({\n      findWidget(id) {\n        return WidgetRegistry.get(id);\n      },\n      registerWidget(identifier, ref) {\n        // register by id\n        WidgetRegistry.set(identifier, ref);\n        publish('widgets-list-changed', ref, 'add');\n      },\n      unregisterWidget(identifier) {\n        // unregister by id\n        WidgetRegistry.delete(identifier);\n        publish('widgets-list-changed', identifier, 'remove');\n      },\n      getWidgetsArray() {\n        return Array.from(WidgetRegistry.keys()).map((id) => WidgetRegistry.get(id));\n      },\n    }),\n    [WidgetRegistry, publish],\n  );\n\n  widgetsContextValue = useMemo(() => ({\n    WidgetRegistry,\n    ...widgetRegistryUtils,\n  }), [\n    WidgetRegistry,\n    widgetRegistryUtils,\n  ]);\n\n  return (\n    <WidgetsContext.Provider value={widgetsContextValue}>\n      {children}\n    </WidgetsContext.Provider>\n  );\n};\n\nWidgetsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default WidgetsManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\n\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useWidgetsContext from '../Contexts/useWidgetsContext';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const WidgetContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: 'widget',\n};\n\nconst WidgetManager = ({\n  children,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('device'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type || '');\n\n  const [previewStream, setPreviewStream] = useState();\n\n  // Inputs\n  const updateFromInput = (prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'mediastream':\n        setPreviewStream(val);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe]);\n\n  // Outputs\n  useEffect(() => { publish(`${uuid}-mediastream-updated`, previewStream); }, [uuid, previewStream, publish]);\n\n  const { registerWidget, unregisterWidget } = useWidgetsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const widgetRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n\n    previewStream,\n    setPreviewStream,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n\n    previewStream, setPreviewStream,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => widgetRef, [widgetRef]);\n\n  // On load, register object with app context\n\n  useEffect(() => {\n    registerWidget(uuid, widgetRef);\n    return () => unregisterWidget(uuid, widgetRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    previewStream,\n    setPreviewStream,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    previewStream, setPreviewStream,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <WidgetContext.Provider value={contextValue}>\n      {children}\n    </WidgetContext.Provider>\n  );\n};\n\nWidgetManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgetManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default WidgetManager;\n","import { useContext } from 'react';\nimport { WidgetsContext } from '../Managers/WidgetsManager';\n\nexport default function useWidgetsContext() {\n  return useContext(WidgetsContext);\n}\n","import React, {\n  memo, createRef, useEffect,\n} from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst VideoPlayer = ({ stream }) => {\n  const videoRef = createRef();\n\n  useEffect(() => {\n    if (videoRef.current.srcObject !== stream) {\n      videoRef.current.srcObject = null;\n    }\n    videoRef.current.srcObject = stream;\n  }, [stream, videoRef]);\n\n  return (\n    <video width=\"100%\" height=\"100%\" ref={videoRef} autoPlay playsInline muted />\n  );\n};\n\nVideoPlayer.propTypes = {\n  stream: PropTypes.shape({}).isRequired,\n};\n\nexport default memo(VideoPlayer);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useEffect, useRef, useState, useCallback,\n} from 'react';\nimport {\n  makeStyles, Card, CardActionArea, CardContent, Typography,\n} from '@material-ui/core';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useWidgetContext from '../../Contexts/useWidgetContext';\n\nimport VideoPlayer from './VideoPlayer';\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    width: (props) => {\n      switch (props.size.toLowerCase()) {\n        default:\n        case 'small':\n          return '15%';\n        case 'medium':\n          return '30%';\n        case 'large':\n          return '45%';\n        case 'huge':\n          return '60%';\n        case 'fullscreen':\n          return '100%';\n      }\n    },\n    right: (props) => {\n      switch (props.location.split('-')[1].toLowerCase()) {\n        default:\n        case 'right':\n          return 0;\n        case 'left':\n          return 'auto';\n      }\n    },\n  },\n  content: {\n    paddingBottom: '5px',\n  },\n});\n\nconst CameraPreview = ({\n  name, size, location, uuid,\n}) => {\n  const classes = useStyles({ size, location });\n\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const { previewStream } = useWidgetContext();\n\n  const isMounted = useRef(false);\n\n  const [stream, setStream] = useState(previewStream);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setStream(val);\n    }\n  }, [isMounted, setStream]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe(`${uuid}-mediastream-updated`, updateProp);\n\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-mediastream-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, updateProp, uuid]);\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <CardContent className={classes.content}>\n          { stream !== undefined ? <VideoPlayer stream={stream} /> : null }\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {name}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nCameraPreview.propTypes = {\n  name: PropTypes.string.isRequired,\n  size: PropTypes.string.isRequired,\n  location: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default CameraPreview;\n","import { useContext } from 'react';\nimport { WidgetContext } from '../Managers/WidgetManager';\n\nexport default function useWidgetContext() {\n  return useContext(WidgetContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../../Devices/Contexts/useDevicesContext';\n\nimport PreviewWidgetView from './view';\n\nconst PreviewWidget = ({ propName, connection, ...props }) => {\n  const { from } = connection;\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(from);\n  const [propVal, setPropVal] = useState(null);\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${deviceObj.uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      if (deviceObj !== undefined) {\n        isMounted.current = false;\n        unsubscribe(`${deviceObj.uuid}-${propName}-updated`, updateProp);\n      }\n    };\n  }, [deviceObj, from, propName, subscribe, unsubscribe, updateProp]);\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <PreviewWidgetView {...{ value: propVal }} {...props} />;\n};\n\nPreviewWidget.propTypes = {\n  connection: PropTypes.shape({\n    from: PropTypes.string,\n  }).isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PreviewWidget;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport WidgetManager, { DefaultProps } from '../Managers/WidgetManager';\n\nimport Preview from './Preview/index';\n\nconst WidgetsView = ({ uuid, type, ...props }) => {\n  const { sceneJSON } = useAppContext();\n  switch (type.toLowerCase()) {\n    default:\n    case 'preview':\n      return (\n        (sceneJSON.connections.filter((c) => (c.to === uuid))[0])\n          ? (\n            <WidgetManager {...DefaultProps} uuid={uuid} type={type} {...props}>\n              <Preview uuid={uuid} type={type} {...props} propName=\"previewstream\" connection={sceneJSON.connections.filter((c) => (c.to === uuid))[0]} />\n            </WidgetManager>\n          )\n          : null\n      );\n  }\n};\n\nWidgetsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgetsView.propTypes = {\n  type: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(WidgetsView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport WidgetsView from './view';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    zIndex: 1,\n    pointerEvents: 'none',\n    width: (props) => (\n      `calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`\n    ),\n    height: '100%',\n    transition: theme.transitions.create(['width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n}));\nconst Widgets = ({\n  editorMenuOpen,\n  editorMenuHeight,\n  inspectorMenuOpen,\n  inspectorMenuWidth,\n}) => {\n  const { sceneJSON } = useAppContext();\n  const { widgets } = sceneJSON;\n  // Local CSS classes\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuOpen,\n    inspectorMenuWidth,\n  });\n  return (\n    <div\n      className={classes.root}\n      onClick={(e) => { e.preventDefault(); }}\n      aria-hidden=\"true\"\n    >\n      {widgets.map((widget) => (\n        <WidgetsView key={`rt_${widget.type}_device_${widget.uuid}`} {...widget} />\n      ))}\n    </div>\n  );\n};\n\nWidgets.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgets.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n};\n\nexport default memo(Widgets);\n","import { PropTypes } from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  AppBar, Toolbar,\n} from '@material-ui/core';\n\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport Inspector from '../../InspectorMenu/Render/index';\nimport Editor from '../../EditorMenu/Render/index';\n\nimport IconButtonView from '../../Components/Buttons/IconButton/view';\nimport WelcomeModal from '../../Components/Modals/Welcome';\n\nimport Widgets from '../../Widgets/Render';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    height: '100%',\n    overflow: 'scroll',\n  },\n  rootShiftBottom: {\n    height: (props) => (`calc(100% - ${props.editorMenuOpen ? props.editorMenuHeight : 0}px)`),\n    transition: theme.transitions.create('height', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  appBar: {\n    width: (props) => (`calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    background: 'none',\n    boxShadow: 'none',\n  },\n  appBarShiftLeft: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  appBarShiftRight: {\n    marginRight: (props) => (props.inspectorMenuWidth),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  renderArea: {\n    flexGrow: 1,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: 0,\n    marginRight: 0,\n    height: '100%',\n  },\n  renderAreaShiftLeft: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  renderAreaShiftRight: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: (props) => (props.inspectorMenuWidth),\n  },\n  bottomAppBar: {\n    width: (props) => (`calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    top: 'auto',\n    bottom: (props) => (props.editorMenuOpen ? props.editorMenuHeight : 0),\n    background: 'none',\n    boxShadow: 'none',\n  },\n  bottomToolbar: {\n    width: '100%',\n  },\n  editorButton: {},\n  inspectorButton: {\n    marginLeft: 'auto !important',\n  },\n}));\n\nconst AppView = ({\n  children,\n  editorMenuOpen,\n  editorMenuHeight,\n  setEditorMenuOpen,\n  inspectorMenuOpen,\n  inspectorMenuWidth,\n  setInspectorMenuOpen,\n}) => {\n  // Local CSS classes\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuOpen,\n    inspectorMenuWidth,\n  });\n\n  return (\n    <div\n      className={clsx(classes.root, {\n        [classes.rootShiftBottom]: editorMenuOpen,\n      })}\n    >\n      <main\n        className={clsx(classes.renderArea, {\n          [classes.renderAreaShiftRight]: inspectorMenuOpen,\n        })}\n      >\n        <Widgets\n          {...{\n            editorMenuOpen,\n            editorMenuHeight,\n            inspectorMenuOpen,\n            inspectorMenuWidth,\n          }}\n        />\n        {children}\n        <AppBar\n          position=\"fixed\"\n          color=\"primary\"\n          className={clsx(classes.bottomAppBar, {\n            [classes.appBarShiftRight]: inspectorMenuOpen,\n          })}\n        >\n          <Toolbar\n            variant=\"dense\"\n            className={classes.bottomToolbar}\n          >\n            {editorMenuOpen !== true ? (\n              <IconButtonView\n                {...{\n                  label: 'Edit',\n                  handeClick: () => {\n                    setEditorMenuOpen(!editorMenuOpen);\n                  },\n                }}\n                className={classes.editorButton}\n              >\n                <CreateIcon fontSize=\"small\" />\n              </IconButtonView>\n            ) : null}\n            {inspectorMenuOpen !== true ? (\n              <IconButtonView\n                {...{\n                  label: 'Inspect',\n                  handeClick: () => {\n                    setInspectorMenuOpen(!inspectorMenuOpen);\n                  },\n                }}\n                className={classes.inspectorButton}\n              >\n                <InfoOutlinedIcon fontSize=\"small\" />\n              </IconButtonView>\n            ) : null}\n          </Toolbar>\n        </AppBar>\n      </main>\n      {inspectorMenuOpen === true ? <Inspector /> : null}\n      {editorMenuOpen === true ? <Editor /> : null}\n      <WelcomeModal />\n    </div>\n  );\n};\n\nAppView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nAppView.propTypes = {\n  children: PropTypes.node.isRequired,\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  setEditorMenuOpen: PropTypes.func.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n  setInspectorMenuOpen: PropTypes.func.isRequired,\n};\n\nAppView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(AppView);\n","import { useMemo } from 'react';\nimport * as THREE from 'three';\n\n// Finds the values needed for @react-three/fiber's props\nconst ThreeUsedProps = (props) => {\n  const propKeys = useMemo(\n    () => Object.keys(props).filter((prop) => new THREE[props.type]()[prop] !== undefined),\n    [props],\n  );\n  const filteredProps = useMemo(() => propKeys\n    .filter((key) => propKeys.includes(key))\n    .reduce((obj, key) => {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = props[key];\n      return obj;\n    }, {}), [propKeys, props]);\n  return filteredProps;\n};\n\n// Finds the values needed for @react-three/fiber's args array\nconst ThreeParamsToArgs = (props) => {\n  const filteredProps = ThreeUsedProps(props);\n\n  const params = useMemo(\n    () => (new THREE[props.type]().parameters !== undefined\n      ? new THREE[props.type]().parameters : filteredProps),\n    [props, filteredProps],\n  );\n  const args = useMemo(() => (params === undefined ? [] : Object.keys(params).map((param) => {\n    if (param === 'color') return `#${new THREE.Color(props[param]).getHexString()}`;\n    return props[param];\n  })), [props, params]);\n\n  return args;\n};\n\nexport {\n  ThreeUsedProps,\n  ThreeParamsToArgs,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { createContext } from 'react';\n\nimport { AppContext, appContextValue } from '../../App/Managers/AppManager';\nimport { ThreeObjectsContext, threeObjectsContextValue } from '../../ThreeObjects/Managers/ThreeObjectsManager';\nimport { PeersContext, peersContextValue } from '../../Peers/Managers/PeersManager';\nimport { ConnectionsContext, connectionsContextValue } from '../../Connections/Managers/ConnectionsManager';\nimport { GeneratorsContext, generatorsContextValue } from '../../Generators/Managers/GeneratorsManager';\nimport { DevicesContext, devicesContextValue } from '../../Devices/Managers/DevicesManager';\nimport { TransformsContext, transformsContextValue } from '../../Transforms/Managers/TransformsManager';\nimport { WidgetsContext, widgetsContextValue } from '../../Widgets/Managers/WidgetsManager';\n\nexport const WorldContext = createContext(null);\nexport const worldContextValue = {};\n\nconst WorldManager = ({\n  children,\n}) => (\n  <AppContext.Provider value={appContextValue}>\n    <ThreeObjectsContext.Provider value={threeObjectsContextValue}>\n      <PeersContext.Provider value={peersContextValue}>\n        <ConnectionsContext.Provider value={connectionsContextValue}>\n          <GeneratorsContext.Provider value={generatorsContextValue}>\n            <DevicesContext.Provider value={devicesContextValue}>\n              <TransformsContext.Provider value={transformsContextValue}>\n                <WidgetsContext.Provider value={widgetsContextValue}>\n                  <WorldContext.Provider value={worldContextValue}>\n                    {children}\n                  </WorldContext.Provider>\n                </WidgetsContext.Provider>\n              </TransformsContext.Provider>\n            </DevicesContext.Provider>\n          </GeneratorsContext.Provider>\n        </ConnectionsContext.Provider>\n      </PeersContext.Provider>\n    </ThreeObjectsContext.Provider>\n  </AppContext.Provider>\n);\n\nWorldManager.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n};\n\nexport default WorldManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../Contexts/useGeneratorsContext';\n\nexport const GeneratorContext = createContext(null);\n\nexport const DefaultProps = {\n  name: 'unnamed',\n  position: [0, 0, 0],\n};\n\nconst GeneratorManager = ({\n  children,\n  ...props\n}) => {\n  const { publish } = useAppContext();\n\n  const identifier = useRef(Symbol('Generator'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type || '');\n  const [resolution, setResolution] = useState(parseInt(props.resolution, 10) || 1);\n  const [rpm, setRpm] = useState(parseInt(props.rpm, 10) || 1000);\n  const [looped, setLooped] = useState(props.looped || true);\n  const [paused, setPaused] = useState(props.paused || false);\n\n  const [position, setPosition] = useState([0, 0, 0]);\n\n  useEffect(() => { publish(`${uuid}-position-updated`, position); }, [uuid, position, publish]);\n  useEffect(() => { publish(`${uuid}-paused-updated`, paused); }, [uuid, paused, publish]);\n  useEffect(() => { publish(`${uuid}-looped-updated`, looped); }, [uuid, looped, publish]);\n  useEffect(() => { publish(`${uuid}-rpm-updated`, rpm); }, [uuid, rpm, publish]);\n  useEffect(() => { publish(`${uuid}-resolution-updated`, resolution); }, [uuid, resolution, publish]);\n\n  const { registerGenerator, unregisterGenerator } = useGeneratorsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const generatorRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n    resolution,\n    setResolution,\n    rpm,\n    setRpm,\n    looped,\n    setLooped,\n    paused,\n    setPaused,\n    position,\n    setPosition,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n    resolution, setResolution,\n    rpm, setRpm,\n    looped, setLooped,\n    paused, setPaused,\n    position, setPosition,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => generatorRef, [generatorRef]);\n\n  // // On load, register object with app context\n  useEffect(() => {\n    registerGenerator(uuid, generatorRef);\n    return () => unregisterGenerator(uuid, generatorRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n    resolution,\n    setResolution,\n    rpm,\n    setRpm,\n    looped,\n    setLooped,\n    paused,\n    setPaused,\n    position,\n    setPosition,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    resolution, setResolution,\n    rpm, setRpm,\n    looped, setLooped,\n    paused, setPaused,\n    position, setPosition,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <GeneratorContext.Provider value={contextValue}>\n      {children}\n    </GeneratorContext.Provider>\n  );\n};\n\nGeneratorManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  resolution: PropTypes.number.isRequired,\n  rpm: PropTypes.number.isRequired,\n  looped: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n};\n\nGeneratorManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default GeneratorManager;\n","import { useContext } from 'react';\nimport { GeneratorContext } from '../Managers/GeneratorManager';\n\nexport default function useGeneratorContext() {\n  return useContext(GeneratorContext);\n}\n","import {\n  useState, useMemo, useCallback, useEffect,\n} from 'react';\n\nimport { useSpring } from '@react-spring/core';\nimport useGeneratorContext from '../../Contexts/useGeneratorContext';\n\nimport DrawCircle from '../../../Shapes/drawCircle';\n\nconst OrbitGenerator = ({ toProp }) => {\n  const {\n    type, resolution, rpm, looped, paused, setPosition: setGenPosition,\n  } = useGeneratorContext();\n\n  const [animMili] = useState(((60 * 1000) / rpm) / (360 / resolution));\n\n  const points = useMemo(() => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'sine':\n        return DrawCircle(resolution);\n    }\n  }, [type, resolution]);\n\n  const toPoints = useMemo(() => [\n    ...points.map((pos) => ({ [toProp]: [pos[0], pos[1], 0] })),\n  ], [points, toProp]);\n\n  const handleChange = useCallback((result) => {\n    if (result.value !== undefined) {\n      setGenPosition(result.value[toProp]);\n    }\n  }, [toProp, setGenPosition]);\n\n  const config = useMemo(() => ({\n    pause: paused,\n    loop: looped,\n    to: toPoints,\n    config: {\n      duration: animMili,\n      friction: 5,\n    },\n    onChange: handleChange,\n  }), [toPoints, animMili, paused, looped, handleChange]);\n\n  const [, api] = useSpring(() => (config));\n  useEffect(() => {\n    api.stop();\n    api.start(config);\n  }, [api, config]);\n\n  return null;\n};\n\nOrbitGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default OrbitGenerator;\n","const rpmToMili = (rpm, resolution) => ((60 * 1000) / rpm) / (360 / resolution);\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  rpmToMili,\n};\n","import PropTypes from 'prop-types';\n\nimport {\n  useState, useMemo, useCallback, useEffect,\n} from 'react';\n\nimport { useSpring } from '@react-spring/core';\nimport useGeneratorContext from '../../Contexts/useGeneratorContext';\n\nimport DrawSine from '../../../Shapes/drawSine';\nimport { rpmToMili } from '../../../Utils/commonMath';\n\nconst SinewaveGenerator = ({ toProp }) => {\n  const {\n    type, resolution, rpm, looped, paused, setPosition: setGenPosition,\n  } = useGeneratorContext();\n  const [animMili, setAnimMili] = useState(rpmToMili(rpm, resolution));\n\n  useEffect(() => {\n    setAnimMili(rpmToMili(rpm, resolution));\n  }, [rpm, resolution]);\n\n  const points = useMemo(() => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'sine':\n        return DrawSine(resolution);\n    }\n  }, [type, resolution]);\n\n  const toPoints = useMemo(() => [\n    ...points.map((pos) => ({ [toProp]: [pos[0], pos[1], 0] })),\n  ], [points, toProp]);\n\n  const handleChange = useCallback((result) => {\n    if (result.value !== undefined) {\n      setGenPosition(result.value[toProp]);\n    }\n  }, [toProp, setGenPosition]);\n\n  const config = useMemo(() => ({\n    pause: paused,\n    loop: looped,\n    to: toPoints,\n    config: {\n      duration: animMili,\n      friction: 5,\n    },\n    onChange: handleChange,\n  }), [toPoints, animMili, paused, looped, handleChange]);\n\n  const [, api] = useSpring(() => (config));\n  useEffect(() => {\n    api.stop();\n    api.start(config);\n  }, [api, config]);\n\n  return null;\n};\n\nSinewaveGenerator.propTypes = {\n  toProp: PropTypes.string.isRequired,\n};\n\nSinewaveGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SinewaveGenerator;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport OrbitGenerator from './Orbit/index';\nimport SinewaveGenerator from './Sinewave/index';\nimport GeneratorManager, { DefaultProps } from '../Managers/GeneratorManager';\n\nconst GeneratorsView = ({ type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'orbit':\n      return (\n        <GeneratorManager {...DefaultProps} type={type} {...props}>\n          <OrbitGenerator />\n        </GeneratorManager>\n      );\n    case 'sinewave':\n      return (\n        <GeneratorManager {...DefaultProps} type={type} {...props}>\n          <SinewaveGenerator toProp=\"value\" />\n        </GeneratorManager>\n      );\n  }\n};\n\nGeneratorsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGeneratorsView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(GeneratorsView);\n","import React, { memo } from 'react';\n\nimport GeneratorsView from './view';\n\nconst Generators = ({ generators }) => generators.map((gen) => (<GeneratorsView key={`rt_${gen.type}_generator_${gen.uuid}`} {...gen} />));\n\nGenerators.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Generators);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport useConnectionsContext from '../../Connections/Contexts/useConnectionsContext';\nimport usePeersContext from '../Contexts/usePeersContext';\n\nexport const PeerContext = createContext(null);\n\nexport const DefaultProps = {\n  name: 'unnamed',\n  position: [0, 0, 0],\n};\n\nconst PeerManager = ({\n  children,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const { registerPeer, unregisterPeer } = usePeersContext();\n  const { getMe, findConnection } = useConnectionsContext();\n  const forceUpdate = useForceUpdate();\n\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type);\n\n  const [data, setData] = useState(props.data || [0, 0, 0]);\n\n  const [connection, setConnection] = useState();\n\n  useEffect(() => {\n    setConnection(findConnection(uuid));\n  }, [findConnection, uuid]);\n\n  // Inputs\n  const updateFromInput = useCallback((prop, from, val) => {\n    const me = getMe();\n    // findConnection();\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'data':\n        if (connection !== undefined) {\n          if (typeof connection.sendData === 'function') {\n            connection.sendData({\n              type: from, payload: val, uuid: me.uuid, from: me.connectionId, timestamp: Date.now,\n            });\n            setData(val);\n          }\n        }\n        break;\n    }\n  }, [connection, getMe]);\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), c.fromProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), c.fromProp.toLowerCase(), val); });\n      });\n    };\n  }, [\n    connections,\n    uuid,\n    subscribe,\n    unsubscribe,\n    updateFromInput,\n  ]);\n\n  useEffect(() => { publish(`${uuid}-data-updated`, data); }, [uuid, data, publish]);\n\n  // Reference to object properties\n  const peerRef = useMemo(() => ({\n    uuid,\n    name,\n\n    data,\n    setData,\n  }), [\n    uuid,\n    name,\n\n    data, setData,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => peerRef, [peerRef]);\n\n  // On load, register object with app context\n  useEffect(() => {\n    registerPeer(uuid, peerRef);\n    return () => unregisterPeer(uuid, peerRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    name,\n\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n    data,\n    setData,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    name,\n\n    node,\n    getRef,\n\n    type, setType,\n    data, setData,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <PeerContext.Provider value={contextValue}>\n      {children}\n    </PeerContext.Provider>\n  );\n};\n\nPeerManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  data: PropTypes.shape([]).isRequired,\n};\n\nexport default PeerManager;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport PeerManager, { DefaultProps } from '../Managers/PeerManager';\n\nconst PeerView = ({ type, ...props }) => (\n  <PeerManager {...DefaultProps} type={type} {...props} />\n);\n\nPeerView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(PeerView);\n","import React, { memo } from 'react';\n\nimport PeerView from './view';\n\nconst Peers = ({ peers }) => peers.map((peer) => (<PeerView key={`rt_${peer.type}_peer_${peer.uuid}`} {...peer} />));\n\nPeers.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Peers);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\n\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useDevicesContext from '../Contexts/useDevicesContext';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const DeviceContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: '',\n  position: [0, 0, 0],\n  active: false,\n  deviceList: [{}],\n  selectedDevice: {},\n};\n\nconst DeviceManager = ({\n  children,\n  uuid: passedUUID,\n  name: passedName,\n  type: passedType,\n  position: passedPosition,\n  active: passedActive,\n  deviceList: passedDeviceList,\n  selectedDevice: passedSelectedDevice,\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('device'));\n  const node = useRef(null);\n\n  const [uuid] = useState(passedUUID);\n  const [name] = useState(passedName);\n\n  const [type, setType] = useState(passedType || '');\n  const [position, setPosition] = useState(passedPosition || [0, 0, 0]);\n  const [mediaStream, setMediaStream] = useState();\n\n  const [active, setActive] = useState(passedActive || false);\n  const [deviceList, setDeviceList] = useState(passedDeviceList || []);\n  const [selectedDevice, setSelectedDevice] = useState(passedSelectedDevice || deviceList[0]);\n\n  // Inputs\n  const updateFromInput = (prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'position':\n        setPosition(val);\n        break;\n      case 'mediastream':\n        setMediaStream(val);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe]);\n\n  // Outputs\n  useEffect(() => { publish(`${uuid}-position-updated`, position); }, [uuid, position, publish]);\n  useEffect(() => { publish(`${uuid}-mediastream-updated`, mediaStream); }, [uuid, mediaStream, publish]);\n\n  useEffect(() => { publish(`${uuid}-active-updated`, active); }, [uuid, active, publish]);\n  useEffect(() => { publish(`${uuid}-selected-device-updated`, selectedDevice); }, [uuid, selectedDevice, publish]);\n  useEffect(() => { publish(`${uuid}-device-list-updated`, deviceList); if (selectedDevice.deviceId === undefined) { setSelectedDevice(deviceList[0]); } }, [uuid, deviceList, publish, setSelectedDevice, selectedDevice]);\n\n  const { registerDevice, unregisterDevice } = useDevicesContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const deviceRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n\n    position,\n    setPosition,\n\n    mediaStream,\n    setMediaStream,\n\n    active,\n    setActive,\n    selectedDevice,\n    setSelectedDevice,\n    deviceList,\n    setDeviceList,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n\n    position, setPosition,\n    mediaStream, setMediaStream,\n\n    active, setActive,\n    selectedDevice, setSelectedDevice,\n    deviceList, setDeviceList,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => deviceRef, [deviceRef]);\n\n  // On load, register object with app context\n\n  useEffect(() => {\n    registerDevice(uuid, deviceRef);\n    return () => unregisterDevice(uuid, deviceRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    position,\n    setPosition,\n\n    mediaStream,\n    setMediaStream,\n\n    active,\n    setActive,\n    selectedDevice,\n    setSelectedDevice,\n    deviceList,\n    setDeviceList,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    position, setPosition,\n    mediaStream, setMediaStream,\n\n    active, setActive,\n    selectedDevice, setSelectedDevice,\n    deviceList, setDeviceList,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <DeviceContext.Provider value={contextValue}>\n      {children}\n    </DeviceContext.Provider>\n  );\n};\n\nDeviceManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nDeviceManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  position: PropTypes.arrayOf(PropTypes.number).isRequired,\n  active: PropTypes.bool.isRequired,\n  deviceList: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  selectedDevice: PropTypes.shape({\n    deviceId: PropTypes.string,\n  }).isRequired,\n};\n\nexport default DeviceManager;\n","import { useContext } from 'react';\nimport { DeviceContext } from '../Managers/DeviceManager';\n\nexport default function useDeviceContext() {\n  return useContext(DeviceContext);\n}\n","import { useCallback, useEffect } from 'react';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst MouseDevice = () => {\n  const { setPosition } = useDeviceContext();\n\n  const updateMousePosition = useCallback((ev) => {\n    setPosition([ev.clientX, ev.clientY, 0]);\n  }, [setPosition]);\n\n  useEffect(() => {\n    // eslint-disable-next-line no-undef\n    window.addEventListener('mousemove', updateMousePosition);\n\n    // eslint-disable-next-line no-undef\n    return () => window.removeEventListener('mousemove', updateMousePosition);\n  }, [updateMousePosition]);\n\n  return null;\n};\n\nMouseDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default MouseDevice;\n","import PropTypes from 'prop-types';\n\nimport {\n  useState, useMemo, useCallback, useEffect,\n} from 'react';\n\nimport { useSpring } from '@react-spring/core';\nimport useGeneratorContext from '../../../Generators/Contexts/useGeneratorContext';\n\nimport DrawSine from '../../../Shapes/drawSine';\n\nconst KeyboardDevice = ({ toProp }) => {\n  const {\n    type, resolution, rpm, looped, paused, setPosition: setGenPosition,\n  } = useGeneratorContext();\n  const [animMili] = useState(((60 * 1000) / rpm) / (360 / resolution));\n\n  const points = useMemo(() => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'sine':\n        return DrawSine(resolution);\n    }\n  }, [type, resolution]);\n\n  const toPoints = useMemo(() => [\n    ...points.map((pos) => ({ [toProp]: [pos[0], pos[1], 0] })),\n  ], [points, toProp]);\n\n  const handleChange = useCallback((result) => {\n    if (result.value !== undefined) {\n      setGenPosition(result.value[toProp]);\n    }\n  }, [toProp, setGenPosition]);\n\n  const config = useMemo(() => ({\n    pause: paused,\n    loop: looped,\n    to: toPoints,\n    config: {\n      duration: animMili,\n      friction: 5,\n    },\n    onChange: handleChange,\n  }), [toPoints, animMili, paused, looped, handleChange]);\n\n  const [, api] = useSpring(() => (config));\n  useEffect(() => {\n    api.stop();\n    api.start(config);\n  }, [api, config]);\n\n  return null;\n};\n\nKeyboardDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nKeyboardDevice.propTypes = {\n  toProp: PropTypes.string.isRequired,\n};\n\nexport default KeyboardDevice;\n","import {\n  useEffect, useRef, useState, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst CameraDevice = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const {\n    selectedDevice,\n    mediaStream, setMediaStream,\n    deviceList, setDeviceList,\n  } = useDeviceContext();\n\n  const isMounted = useRef(false);\n\n  const [selected, setSelected] = useState(selectedDevice);\n\n  const updateSelected = useCallback((val) => {\n    if (isMounted.current) {\n      setSelected(val);\n    }\n  }, [isMounted, setSelected]);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    setSelected(selectedDevice);\n    subscribe(`${uuid}-selected-device-updated`, updateSelected);\n\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-selected-device-updated`, updateSelected);\n    };\n  }, [selectedDevice, subscribe, unsubscribe, updateSelected, uuid]);\n\n  // eslint-disable-next-line no-undef\n  const initCamera = async (config) => navigator.mediaDevices.getUserMedia(config);\n\n  // eslint-disable-next-line no-undef\n  const getCameras = async () => navigator\n    .mediaDevices.enumerateDevices();\n\n  useEffect(() => {\n    getCameras()\n      .then((devices) => {\n        setDeviceList(devices.filter((device) => device.kind === 'videoinput'));\n        if (selected.deviceId === undefined) {\n          setSelected(devices.filter((device) => device.kind === 'videoinput')[0]);\n        }\n      })\n      .catch((e) => {\n        // eslint-disable-next-line no-console\n        console.log(e);\n      });\n  }, [setDeviceList, selected]);\n\n  useEffect(() => {\n    if (deviceList.filter((device) => device.kind === 'videoinput').length > 0) {\n      initCamera({\n        audio: false,\n        video: {\n          deviceId: {\n            exact: (selected === undefined)\n              ? deviceList.filter((device) => device.kind === 'videoinput')[0].deviceId\n              : selected.deviceId,\n          },\n        },\n      })\n        .then((s) => {\n          setMediaStream(s);\n        })\n        .catch((e) => {\n          // eslint-disable-next-line no-console\n          console.log(e);\n        });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setMediaStream, selected]);\n\n  // stop camera if component is unmounted\n  useEffect(() => {\n    const stream = mediaStream;\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => track.stop());\n      }\n    };\n  }, [mediaStream]);\n\n  return null;\n};\n\nCameraDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default CameraDevice;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport MouseDevice from './Mouse/index';\nimport KeyboardDevice from './Keyboard/index';\nimport DeviceManager, { DefaultProps } from '../Managers/DeviceManager';\nimport CameraDevice from './Camera';\n\n// eslint-disable-next-line react/prop-types\nconst DevicesView = ({ connection, type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'mouse':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <MouseDevice {...props} />\n        </DeviceManager>\n      );\n    case 'keyboard':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <KeyboardDevice {...props} />\n        </DeviceManager>\n      );\n    case 'camera':\n      return (\n        (connection)\n          ? (\n            <DeviceManager {...DefaultProps} type={type} {...props}>\n              <CameraDevice {...props} />\n            </DeviceManager>\n          )\n          : null\n      );\n  }\n};\n\nDevicesView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nDevicesView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(DevicesView);\n","import React, { memo } from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport DevicesView from './view';\n\nconst Devices = ({ devices }) => {\n  const { sceneJSON } = useAppContext();\n  return devices.map((dev) => (<DevicesView key={`rt_${dev.type}_device_${dev.uuid}`} connection={sceneJSON.connections.filter((c) => (c.from === dev.uuid))[0]} {...dev} />));\n};\n\nDevices.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Devices);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\nimport useTransformsContext from '../Contexts/useTransformsContext';\n\nexport const TransformContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: 'calculator',\n  displayName: 'unnamed',\n  amount: 1,\n  value: '',\n  operator: '',\n};\n\nconst TransformManager = ({\n  children,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('Transform'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [displayName] = useState(props.displayName);\n  const [type, setType] = useState(props.type || 'calculator');\n\n  const [amount, setAmount] = useState(props.amount || 1);\n  const [value, setValue] = useState(props.value || [0, 0, 0]);\n  const [operator, setOperator] = useState(props.operator || 'Add');\n\n  // Inputs\n  const updateFromInput = useCallback((prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'data':\n        setValue(val);\n        break;\n    }\n  }, [setValue]);\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe, updateFromInput]);\n\n  useEffect(() => { publish(`${uuid}-value-updated`, value); }, [value, publish, uuid]);\n  useEffect(() => { publish(`${uuid}-amount-updated`, amount); }, [amount, publish, uuid]);\n  useEffect(() => { publish(`${uuid}-operator-updated`, operator); }, [operator, publish, uuid]);\n\n  const { registerTransform, unregisterTransform } = useTransformsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const peerRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n    displayName,\n\n    type,\n    setType,\n\n    value,\n    setValue,\n\n    amount,\n    setAmount,\n\n    operator,\n    setOperator,\n  }), [\n    uuid,\n    name, displayName,\n\n    type, setType,\n\n    value, setValue,\n    amount, setAmount,\n    operator, setOperator,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => peerRef, [peerRef]);\n\n  // On load, register object with app context\n  useEffect(() => {\n    // const id = identifier.current;\n    registerTransform(uuid, peerRef);\n    return () => unregisterTransform(uuid, peerRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    value,\n    setValue,\n\n    amount,\n    setAmount,\n\n    operator,\n    setOperator,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    value, setValue,\n    amount, setAmount,\n    operator, setOperator,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <TransformContext.Provider value={contextValue}>\n      {children}\n    </TransformContext.Provider>\n  );\n};\n\nTransformManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nTransformManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired,\n  value: PropTypes.string.isRequired,\n  operator: PropTypes.string.isRequired,\n};\n\nexport default TransformManager;\n","import { useCallback, useEffect } from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useTransformContext from '../../Contexts/useTransformContext';\n\nconst CalculatorTransform = () => {\n  const {\n    uuid, setValue: setTransValue, amount, operator,\n  } = useTransformContext();\n  const { sceneJSON, subscribe, unsubscribe } = useAppContext();\n\n  const { connections } = sceneJSON;\n\n  const calculate = useCallback((v) => {\n    switch (operator.toLowerCase()) {\n      default:\n      case 'add':\n        return (v + amount);\n      case 'subtract':\n        return (v - amount);\n      case 'multiply':\n        return (v * amount);\n      case 'divide':\n        return (v / amount);\n    }\n  }, [amount, operator]);\n\n  // Inputs\n  useEffect(() => {\n    const updateFromInput = (prop, val) => {\n      switch (prop.toLowerCase()) {\n        default:\n          break;\n        case 'value':\n          setTransValue(val.map(calculate));\n          break;\n      }\n    };\n\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe, amount, setTransValue, calculate]);\n\n  return null;\n};\n\nCalculatorTransform.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default CalculatorTransform;\n","import { useContext } from 'react';\nimport { TransformContext } from '../Managers/TransformManager';\n\nexport default function useTransformContext() {\n  return useContext(TransformContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport TransformManager, { DefaultProps } from '../Managers/TransformManager';\n\nimport CalculatorTransform from './Calculator/index';\n\nconst TransformsView = ({ uuid, type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'calculator':\n      return (\n        <TransformManager {...DefaultProps} uuid={uuid} type={type} {...props}>\n          <CalculatorTransform uuid={uuid} type={type} {...props} />\n        </TransformManager>\n      );\n  }\n};\n\nTransformsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformsView.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(TransformsView);\n","import React, { memo } from 'react';\n\nimport TransformsView from './view';\n\nconst Transforms = ({ transforms }) => transforms.map((transform) => (<TransformsView key={`rt_${transform.type}_transform_${transform.uuid}`} {...transform} />));\n\nTransforms.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Transforms);\n","import PropTypes from 'prop-types';\n\nimport React, { createElement, memo } from 'react';\n\nimport { Canvas } from '@react-three/fiber';\nimport { makeStyles } from '@material-ui/core';\nimport { OrbitControls } from '@react-three/drei';\n\nimport { ThreeParamsToArgs } from '../Utils/threeParams';\n\nimport useAppContext from '../App/Contexts/useAppContext';\n\nimport WorldManager from './Managers/WorldManager';\n\nimport Generators from '../Generators/Providers/index';\nimport Peers from '../Peers/Providers/index';\nimport Devices from '../Devices/Providers/index';\nimport Transforms from '../Transforms/Providers/index';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: 'relative',\n    userSelect: 'none',\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst World = ({\n  children,\n}) => {\n  const { sceneJSON } = useAppContext();\n  const {\n    object, camera, generators, peers, devices, transforms,\n  } = sceneJSON;\n\n  const classes = useStyles();\n\n  if (object === undefined) {\n    return (\n      <div className={classes.root}>\n        <Generators {...{ generators }} />\n        <Peers {...{ peers }} />\n        <Devices {...{ devices }} />\n        <Transforms {...{ transforms }} />\n      </div>\n    );\n  }\n\n  switch (object.type.toLowerCase()) {\n    default:\n      return (\n        <div className={classes.root} />\n      );\n    case 'scene':\n      return (\n        <div className={classes.root}>\n          <Canvas\n            shadows\n            camera={camera}\n            // eslint-disable-next-line no-undef\n            dpr={window.devicePixelRatio}\n          >\n            <WorldManager>\n              <Generators {...{ generators }} />\n              <Peers {...{ peers }} />\n              <Devices {...{ devices }} />\n              <Transforms {...{ transforms }} />\n              {/* FOG */}\n              {object.fog !== undefined ? createElement(object.fog.type, { type: object.fog.type, attach: 'fog', args: ThreeParamsToArgs(object.fog) }, []) : null}\n              {children}\n              <OrbitControls enablePan enableZoom enableRotate />\n            </WorldManager>\n          </Canvas>\n        </div>\n      );\n  }\n};\n\nWorld.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nWorld.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(World);\n","export default function waitForMs(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useMemo, useRef, useState, createContext,\n} from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport waitForMs from '../../Utils/waitForMs';\n\nexport const SceneManagerContext = createContext(null);\n\nexport const sceneContextValue = {};\n\nconst SceneManager = ({ defaultScene, children }) => {\n  const { publish } = useAppContext();\n  // support scene string format: 'sceneId:level'\n  const [initialScene, initialLevel = 0] = defaultScene.split(':');\n  const [currentScene, setScene] = useState(initialScene);\n  const prevLevel = useRef(-1);\n  const currentLevel = useRef(Number(initialLevel));\n  const sceneStore = useRef(new Map());\n  const api = useMemo(\n    () => ({\n      currentScene,\n      prevLevel: prevLevel.current,\n      currentLevel: currentLevel.current,\n      async setScene(nextScene) {\n        // eslint-disable-next-line prefer-const\n        let [targetScene, targetLevel = 0] = nextScene.split(':');\n        targetLevel = Number(targetLevel);\n\n        if (currentScene !== targetScene) {\n          // switch scene\n          if (currentScene !== '') {\n            await publish('scene-pre-exit', currentScene);\n            await publish('scene-exit', currentScene);\n            // always go to empty scene first and then to the target scene\n            // (this should help clearing cached react components)\n            setScene('');\n            await waitForMs(100);\n          }\n          prevLevel.current = -1;\n          currentLevel.current = targetLevel;\n          setScene(targetScene);\n        } else if (currentLevel.current !== targetLevel) {\n          // switch level\n          api.setLevel(targetLevel);\n        }\n      },\n      async setLevel(level) {\n        if (level !== currentLevel.current) {\n          prevLevel.current = currentLevel.current;\n          currentLevel.current = level;\n          await api.resetScene();\n        }\n      },\n      async resetScene() {\n        const prevScene = currentScene;\n        const formerCurrentLevel = currentLevel.current;\n        const formerPrevLevel = prevLevel.current;\n        // switch to empty scene\n        await api.setScene('');\n        await waitForMs(100);\n        // restore prev scene + level\n        prevLevel.current = formerPrevLevel;\n        currentLevel.current = formerCurrentLevel;\n        setScene(prevScene);\n      },\n      setSceneState(key, value) {\n        sceneStore.current.set(`${currentScene}.${key}`, value);\n      },\n      getSceneState(key) {\n        return sceneStore.current.get(`${currentScene}.${key}`);\n      },\n    }),\n    [currentScene, currentLevel, publish],\n  );\n\n  return (\n    <SceneManagerContext.Provider value={api}>\n      {children}\n    </SceneManagerContext.Provider>\n  );\n};\n\nSceneManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  defaultScene: PropTypes.string.isRequired,\n};\n\nSceneManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SceneManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n  createContext,\n} from 'react';\nimport { createPortal } from '@react-three/fiber';\nimport useSceneManager from '../Contexts/useSceneManagerContext';\n\nconst SceneContext = createContext(null);\n\nexport function useScene() {\n  return useContext(SceneContext);\n}\n\nexport const LevelContext = createContext(null);\n\nexport function useLevel() {\n  return useContext(LevelContext);\n}\n\nconst Scene = ({ id, sceneJSON, children }) => {\n  const {\n    currentScene,\n    currentLevel,\n    prevLevel,\n    resetScene,\n    setLevel,\n  } = useSceneManager();\n  const { object } = sceneJSON;\n  const [instances, setInstances] = useState([]);\n  // const idleCallback = useRef();\n\n  const initEvents = useCallback(async () => {\n\n    // await publish('scene-init', id);\n    // // ensure everything is ready on next idle callback\n    // idleCallback.current = window.requestIdleCallback(\n    //     () => {\n    //         // console.log('scene-ready', id);\n    //         publish('scene-ready', id);\n    //     },\n    //     { timeout: sceneReadyTimeout }\n    // );\n  }, [/* publish, id */]);\n\n  const contextValue = useMemo(\n    () => ({\n      instantiate(newElement, portalNode) {\n        const key = newElement.key == null ? Math.random() : newElement.key;\n        const instance = portalNode\n          ? createPortal(newElement, portalNode, null, key)\n          : React.cloneElement(newElement, { key });\n        setInstances((current) => [...current, instance]);\n        return () => {\n          setInstances((current) => current.filter((elem) => elem !== instance));\n        };\n      },\n      // pass through from scene manager\n      currentScene,\n      currentLevel,\n      prevLevel,\n      resetScene,\n      setLevel,\n      ...object,\n    }),\n    [currentScene, currentLevel, prevLevel, resetScene, setLevel, object],\n  );\n\n  const levelContextValue = useMemo(\n    () => ({\n      level: currentLevel,\n      transition: prevLevel < currentLevel ? -1 : 1,\n      enterPrevLevel() {\n        setLevel(currentLevel - 1);\n      },\n      enterNextLevel() {\n        setLevel(currentLevel + 1);\n      },\n    }),\n    [currentLevel, prevLevel, setLevel],\n  );\n\n  useEffect(() => {\n    // const cur = idleCallback.current;\n    if (currentScene === id) {\n      // entering scene\n      initEvents();\n    } else {\n      // leaving scene\n      setInstances([]);\n    }\n    // return () => window.cancelIdleCallback(cur);\n  }, [currentScene, id, initEvents]);\n\n  // skip rendering scene content\n  if (!currentScene.startsWith(id)) return null;\n\n  return (\n    <SceneContext.Provider value={contextValue}>\n      <LevelContext.Provider value={levelContextValue}>\n        <group>\n          {/* just to ensure node.parent in a GO still remains within the scene */}\n          <group>\n            <>{children}</>\n            <>{instances}</>\n          </group>\n        </group>\n      </LevelContext.Provider>\n    </SceneContext.Provider>\n  );\n};\n\nScene.propTypes = {\n  id: PropTypes.string.isRequired,\n  sceneJSON: PropTypes.shape({\n    object: PropTypes.shape({}),\n  }).isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nScene.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default Scene;\n","import { useContext } from 'react';\n\nimport { SceneManagerContext } from '../Managers/SceneManager';\n\nexport default function useSceneManager() {\n  return useContext(SceneManagerContext);\n}\n","import React, {\n  useCallback, useEffect, useRef,\n  Suspense,\n  useState,\n} from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nimport AppView from './view';\nimport World from '../../World/index';\n\nimport Scene from '../../Scenes/Render';\nimport SceneManager from '../../Scenes/Managers/SceneManager';\n\nimport useAppContext from '../Contexts/useAppContext';\nimport useEditorMenuContext from '../../EditorMenu/Contexts/useEditorMenuContext';\nimport useInspectorMenuContext from '../../InspectorMenu/Contexts/useInspectorMenuContext';\n\nconst DynamicScene = React.lazy(() => import('../../Scenes/Render/Dynamic'));\n\nconst LoadingBox = (props) => {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef();\n\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false);\n  const [active, setActive] = useState(false);\n\n  // Rotate mesh every frame, this is outside of React without overhead\n  useFrame(() => { mesh.current.rotation.x += 0.01; });\n\n  return (\n    <mesh\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...props}\n      ref={mesh}\n      scale={active ? 1.5 : 1}\n      onClick={() => setActive(!active)}\n      onPointerOver={() => setHover(true)}\n      onPointerOut={() => setHover(false)}\n    >\n      <boxGeometry args={[1, 2, 3]} />\n      <meshStandardMaterial color={hovered ? 'hotpink' : 'orange'} />\n    </mesh>\n  );\n};\n\nconst App = () => {\n  const {\n    subscribe, unsubscribe, sceneJSON, setSceneJSON,\n  } = useAppContext();\n  const { editorMenuHeight, editorMenuOpen, setEditorMenuOpen } = useEditorMenuContext();\n  const { inspectorMenuWidth, inspectorMenuOpen, setInspectorMenuOpen } = useInspectorMenuContext();\n\n  const isMounted = useRef(false);\n\n  const updateScene = useCallback((data) => { // update data only when peer list is modified\n    if (isMounted.current) {\n      setSceneJSON(data);\n    }\n  }, [setSceneJSON]);\n\n  useEffect(() => {\n    if (sceneJSON !== undefined) {\n      isMounted.current = true;\n      subscribe('scene-changed', updateScene);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('scene-changed', updateScene);\n    };\n  }, [isMounted, updateScene, subscribe, unsubscribe, sceneJSON]);\n\n  return (\n    <AppView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      setEditorMenuOpen,\n      inspectorMenuOpen,\n      inspectorMenuWidth,\n      setInspectorMenuOpen,\n    }}\n    >\n      <World {...{ sceneJSON }}>\n        <SceneManager {...{ defaultScene: 'dynamic:0' }}>\n          <Scene {...{ id: 'dynamic', sceneJSON }}>\n            <Suspense fallback={(<LoadingBox position={[1.2, 0, 0]} />)}>\n              <DynamicScene {...{ sceneJSON }} />\n            </Suspense>\n          </Scene>\n        </SceneManager>\n      </World>\n    </AppView>\n  );\n};\n\nApp.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default App;\n","import './wdyr';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'typeface-roboto-material';\n\nimport { ThemeProvider } from '@material-ui/styles';\nimport { CssBaseline, unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core';\nimport { Palette } from '@material-ui/core/styles/createPalette';\nimport grey from '@material-ui/core/colors/grey';\n\nimport App from './@RecklessCore/App/Render/index';\n\nimport AppManager from './@RecklessCore/App/Managers/AppManager';\nimport ThreeObjectsManager from './@RecklessCore/ThreeObjects/Managers/ThreeObjectsManager';\nimport PeersManager from './@RecklessCore/Peers/Managers/PeersManager';\nimport ConnectionsManager from './@RecklessCore/Connections/Managers/ConnectionsManager';\n\nimport DevicesManager from './@RecklessCore/Devices/Managers/DevicesManager';\nimport GeneratorsManager from './@RecklessCore/Generators/Managers/GeneratorsManager';\nimport TransformsManager from './@RecklessCore/Transforms/Managers/TransformsManager';\nimport WidgetsManager from './@RecklessCore/Widgets/Managers/WidgetsManager';\n\nimport InspectorMenuManager from './@RecklessCore/InspectorMenu/Managers/InspectorMenuManager';\nimport EditorMenuManager from './@RecklessCore/EditorMenu/Managers/EditorMenuManager';\n\n// import reportWebVitals from './reportWebVitals';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    background: {\n      default: grey[900],\n      paper: grey[900],\n    },\n    ...Palette,\n    primary: {\n      main: grey[700],\n    },\n    secondary: {\n      main: grey[500],\n    },\n  },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppManager>\n        <ThreeObjectsManager>\n          <PeersManager>\n            <ConnectionsManager>\n              <DevicesManager>\n                <GeneratorsManager>\n                  <TransformsManager>\n                    <WidgetsManager>\n                      <EditorMenuManager>\n                        <InspectorMenuManager>\n                          <App />\n                        </InspectorMenuManager>\n                      </EditorMenuManager>\n                    </WidgetsManager>\n                  </TransformsManager>\n                </GeneratorsManager>\n              </DevicesManager>\n            </ConnectionsManager>\n          </PeersManager>\n        </ThreeObjectsManager>\n      </AppManager>\n    </ThemeProvider>\n  </React.StrictMode>,\n  // eslint-disable-next-line no-undef\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n","import { useCallback, useState } from 'react';\n\nexport default function useForceUpdate() {\n  const [, setState] = useState({});\n  return useCallback(() => setState({}), []);\n}\n","// eslint-disable-next-line no-undef\nconst isHost = () => (window.location.hash.substr(1) === '');\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  isHost,\n};\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useEffect, createContext, useMemo, useState, useCallback,\n} from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const ThreeObjectsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let threeObjectsContextValue = {};\n\nconst ThreeObjectsManager = ({\n  children,\n}) => {\n  const { subscribe, unsubscribe, publish } = useAppContext();\n  const [ThreeObjectRegistry] = useState(() => new Map());\n  const [ThreeObjectRegistryByName] = useState(() => new Map());\n  const [ThreeObjectRegistryByPos] = useState(() => new Map());\n  const [ThreeObjectRegistryByType] = useState(() => new Map());\n\n  const exitScene = useCallback(() => {\n    if (ThreeObjectRegistry !== undefined) { ThreeObjectRegistry.clear(); }\n    if (ThreeObjectRegistryByName !== undefined) { ThreeObjectRegistryByName.clear(); }\n    if (ThreeObjectRegistryByPos !== undefined) { ThreeObjectRegistryByPos.clear(); }\n    if (ThreeObjectRegistryByType !== undefined) { ThreeObjectRegistryByType.clear(); }\n  }, [\n    ThreeObjectRegistry,\n    ThreeObjectRegistryByType,\n    ThreeObjectRegistryByName,\n    ThreeObjectRegistryByPos,\n  ]);\n  useEffect(() => {\n    subscribe('scene-exit', exitScene);\n    return () => {\n      unsubscribe('scene-exit', exitScene);\n    };\n  }, [subscribe, unsubscribe, exitScene]);\n\n  const threeObjectsRegistryUtils = useMemo(\n    () => ({\n      registerThreeObject(identifier, ref) {\n      // register by id\n        ThreeObjectRegistry.set(identifier, ref);\n        // register by name\n        ThreeObjectRegistryByName.set(ref.name, ref);\n        // register by position\n        const { position } = ref;\n        const pos = `${position.x},${position.y},${position.z}`;\n        const posList = ThreeObjectRegistryByPos.get(pos) || [];\n        posList.push(ref);\n        ThreeObjectRegistryByPos.set(pos, posList);\n\n        publish('threeObjects-list-changed', ref, 'add');\n      },\n      unregisterThreeObject(identifier, ref) {\n      // unregister by id\n        ThreeObjectRegistry.delete(identifier);\n        // unregister by name\n        ThreeObjectRegistryByName.delete(ref.name);\n        // unregister by position\n        const { position } = ref;\n        const pos = `${position.x},${position.y},${position.z}`;\n        const posList = ThreeObjectRegistryByPos.get(pos);\n        posList.splice(posList.indexOf(ref), 1);\n\n        publish('threeObjects-list-changed', identifier, 'remove');\n      },\n      findThreeObject(id) {\n        return ThreeObjectRegistry.get(id);\n      },\n      findThreeObjectByName(name) {\n        return ThreeObjectRegistryByName.get(name);\n      },\n      findThreeObjectsByPos(x, y) {\n        return ThreeObjectRegistryByPos.get(`${x},${y}`).filter((obj) => !obj.disabled) || [];\n      },\n      findThreeObjectsByLayer(type) {\n        return ThreeObjectRegistryByType.get(type).filter((obj) => !obj.disabled) || [];\n      },\n      threeObjectNamesArray() {\n        return Array.from(ThreeObjectRegistryByName.keys());\n      },\n    }),\n    [\n      ThreeObjectRegistry,\n      ThreeObjectRegistryByType,\n      ThreeObjectRegistryByName,\n      ThreeObjectRegistryByPos,\n      publish,\n    ],\n  );\n\n  threeObjectsContextValue = useMemo(() => ({\n    ThreeObjectRegistryByName,\n    ...threeObjectsRegistryUtils,\n  }), [\n    ThreeObjectRegistryByName,\n    threeObjectsRegistryUtils]);\n\n  return (\n    <ThreeObjectsContext.Provider value={threeObjectsContextValue}>\n      {children}\n    </ThreeObjectsContext.Provider>\n  );\n};\n\nThreeObjectsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ThreeObjectsManager;\n","const EventsManager = () => {\n  const events = {};\n  const publish = async (name, data) => {\n    if (events[name] === undefined) {\n      events[name] = { name, handlers: [] };\n    }\n\n    events[name].lastData = data;\n    // make snapshot of handlers, to prevent inbetween unsubscribe calls\n    // from mutating this array.\n    await Promise.all(events[name].handlers.slice().map((handler) => handler(data), 1000));\n    return true;\n  };\n\n  const unsubscribe = (name, handler) => {\n    if (events[name] === undefined) return;\n\n    const index = events[name].handlers.indexOf(handler);\n    events[name].handlers.splice(index, 1);\n  };\n\n  const subscribe = (name, handler) => {\n    if (events[name] === undefined) {\n      events[name] = { name, handlers: [], lastData: null };\n    }\n    events[name].handlers.push(handler);\n\n    if (events[name].lastData !== null) {\n      handler(events[name].lastData);\n    }\n\n    return () => unsubscribe(name, handler);\n  };\n\n  const hasSubscriptions = (name) => {\n    if (events[name] === undefined) {\n      return 0;\n    }\n    return events[name].handlers.length;\n  };\n\n  return {\n    publish,\n    subscribe,\n    unsubscribe,\n    hasSubscriptions,\n  };\n};\n\nexport default EventsManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext,\n  useMemo,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nimport EventsManager from '../../Events/Managers/EventsManager';\nimport DefaultSceneJSON from '../../../scenes/LogoScene.json';\nimport DefaultSceneJSONClient from '../../../scenes/PosenetScene.json';\nimport { isHost } from '../../Utils/userCheck';\n\nexport const AppContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let appContextValue = {};\n\nconst AppManager = ({\n  children,\n}) => {\n  const [sceneJSON, setSceneJSON] = useState(() => {\n    if (isHost()) {\n      return DefaultSceneJSON;\n    }\n    return DefaultSceneJSONClient;\n  });\n\n  const [paused, setPaused] = useState(false);\n\n  const [events] = useState(() => EventsManager());\n\n  const getDefaultGeo = (geoUUID, type) => ({\n    uuid: geoUUID,\n    type: `${type}Geometry`,\n    width: 1,\n    height: 1,\n    depth: 1,\n    widthSegments: 1,\n    heightSegments: 1,\n    depthSegments: 1,\n  });\n\n  const getDefaultMat = (materialUUID) => ({\n    uuid: materialUUID,\n    type: 'MeshStandardMaterial',\n    color: 16777215,\n    roughness: 1,\n    metalness: 0,\n    emissive: 0,\n    envMapIntensity: 1,\n    refractionRatio: 0.98,\n    depthFunc: 3,\n    depthTest: true,\n    depthWrite: true,\n    colorWrite: true,\n    stencilWrite: false,\n    stencilWriteMask: 255,\n    stencilFunc: 519,\n    stencilRef: 0,\n    stencilFuncMask: 255,\n    stencilFail: 7680,\n    stencilZFail: 7680,\n    stencilZPass: 7680,\n  });\n\n  const hideChild = useCallback((childs, uuid, val, callback) => {\n    childs.forEach((child) => {\n      if (child.uuid === uuid) {\n        // eslint-disable-next-line no-param-reassign\n        child.userData.isPatchHidden = val;\n        callback();\n      } else if (child.children !== undefined) {\n        hideChild(child.children, uuid, val, callback);\n      }\n    });\n  }, []);\n\n  const removeChild = useCallback((childs, uuid, callback) => {\n    childs.forEach((child, idx) => {\n      if (child.uuid === uuid) {\n        const c = childs.splice(idx, 1);\n        callback(c);\n      } else if (child.children !== undefined) {\n        removeChild(child.children, uuid, callback);\n      }\n    });\n  }, []);\n\n  // Add, remove, and update objects from the scene json\n  const sceneUtils = useMemo(() => ({\n    removeTransform(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        transforms: [\n          ...sceneJSON.transforms.filter((t) => (t.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n        ],\n      });\n    },\n    addTransform(type) {\n      setSceneJSON({\n        ...sceneJSON,\n        transforms: [\n          ...sceneJSON.transforms,\n          {\n            uuid: uuidv4(),\n            type,\n            name: `new ${type}`,\n            amount: 2,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    removeWidget(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        widgets: [\n          ...sceneJSON.widgets.filter((d) => (d.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n        ],\n      });\n    },\n    removeDevice(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        devices: [\n          ...sceneJSON.devices.filter((d) => (d.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n        ],\n      });\n    },\n    addDevice(type) {\n      const deviceUUID = uuidv4();\n      let newJSON = {\n        ...sceneJSON,\n        devices: [\n          ...sceneJSON.devices,\n          {\n            uuid: deviceUUID,\n            type,\n            name: `new ${type}`,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      };\n      if (type === 'camera') {\n        // Show Preview\n        const previewUUID = uuidv4();\n        newJSON = {\n          ...newJSON,\n          widgets: [\n            ...sceneJSON.widgets,\n            {\n              uuid: previewUUID,\n              type: 'Preview',\n              name: 'new preview',\n              size: 'small',\n              location: 'top-right',\n              userData: {\n                isPatchHidden: false,\n              },\n            },\n          ],\n          connections: [\n            ...sceneJSON.connections,\n            {\n              uuid: uuidv4(),\n              from: deviceUUID,\n              fromProp: 'mediastream',\n              to: previewUUID,\n              toProp: 'mediastream',\n            },\n          ],\n        };\n      }\n      setSceneJSON(newJSON);\n    },\n    removeGenerator(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        generators: [\n          ...sceneJSON.generators.filter((g) => (g.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n        ],\n      });\n    },\n    addGenerator(type) {\n      setSceneJSON({\n        ...sceneJSON,\n        generators: [\n          ...sceneJSON.generators,\n          {\n            uuid: uuidv4(),\n            type,\n            name: `new ${type}`,\n            resolution: 32,\n            rpm: 30,\n            looped: true,\n            paused: false,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    hideThreeObjPatch(uuid, val) {\n      const filterdChildren = sceneJSON.object.children;\n      hideChild(filterdChildren, uuid, val, () => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: filterdChildren,\n          },\n        });\n      });\n    },\n    removeThreeObj(uuid) {\n      const filterdChildren = sceneJSON.object.children;\n      removeChild(filterdChildren, uuid, () => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: filterdChildren,\n          },\n          connections: [\n            ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n          ],\n        });\n      });\n    },\n    addThreeObj(type) {\n      const geoUUID = uuidv4();\n      const materialUUID = uuidv4();\n      setSceneJSON({\n        ...sceneJSON,\n        geometries: [\n          ...sceneJSON.geometries,\n          getDefaultGeo(geoUUID, type),\n        ],\n        materials: [\n          ...sceneJSON.materials,\n          getDefaultMat(materialUUID),\n        ],\n        object: {\n          ...sceneJSON.object,\n          children: [\n            ...sceneJSON.object.children,\n            {\n              uuid: uuidv4(),\n              type: 'Mesh',\n              name: type,\n              layers: 1,\n              matrix: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n              geometry: geoUUID,\n              material: materialUUID,\n              userData: {\n                isPatchHidden: false,\n              },\n            },\n          ],\n        },\n      });\n    },\n    // Peers\n    updatePeer(uuid, ref) {\n      setSceneJSON({\n        ...sceneJSON,\n        peers: [\n          ...sceneJSON.peers,\n          ...ref,\n        ],\n      });\n    },\n    removePeer(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        peers: [\n          ...sceneJSON.peers.filter((p) => (p.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.from !== uuid && c.to !== uuid)),\n        ],\n      });\n    },\n    addPeer(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        peers: [\n          ...sceneJSON.peers,\n          {\n            type: 'peer',\n            name: uuid,\n            uuid,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    // Connections\n    addConnection(edge) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections,\n          {\n            uuid: uuidv4(),\n            from: edge.source,\n            fromProp: edge.sourceHandle.replace(edge.source, '').split('-')[1].toLowerCase(),\n            to: edge.target,\n            toProp: edge.targetHandle.replace(edge.target, '').split('-')[2].toLowerCase(),\n          },\n        ],\n      });\n    },\n    updateConnection(oldEdge, newConnection) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.uuid !== oldEdge.id)),\n          {\n            uuid: oldEdge.id,\n            from: newConnection.source,\n            fromProp: newConnection.sourceHandle.replace(newConnection.source, '').split('-')[1],\n            to: newConnection.target,\n            toProp: newConnection.targetHandle.replace(newConnection.target, '').split('-')[2],\n          },\n        ],\n      });\n    },\n    removeConnection(oldEdge) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections.filter((c) => (c.uuid !== oldEdge.id)),\n        ],\n      });\n    },\n    removeFromParent(child) {\n      const filterdChildren = sceneJSON.object.children;\n      removeChild(filterdChildren, child.uuid, (c) => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: [\n              ...filterdChildren,\n              c[0],\n            ],\n          },\n        });\n      });\n    },\n  }), [sceneJSON, setSceneJSON, removeChild, hideChild]);\n\n  appContextValue = useMemo(() => ({\n    settings: {\n    },\n    paused,\n    setPaused,\n    sceneJSON,\n    setSceneJSON,\n    ...events,\n    ...sceneUtils,\n  }), [\n    paused, setPaused,\n    sceneJSON, setSceneJSON,\n    events,\n    sceneUtils,\n  ]);\n\n  return (<AppContext.Provider value={appContextValue}>{children}</AppContext.Provider>);\n};\n\nAppManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nAppManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AppManager;\n"],"sourceRoot":""}