{"version":3,"sources":["@RecklessCore/Utils/useForceUpdate.js","@RecklessCore/Utils/userCheck.js","@RecklessCore/ThreeObjects/Managers/ThreeObjectsManager.js","@RecklessCore/Events/Managers/EventsManager.js","@RecklessCore/App/Managers/AppManager.js","@RecklessCore/App/Contexts/useAppContext.js","@RecklessCore/ThreeObjects/Contexts/useThreeObjectsContext.js","@RecklessCore/Editor/Managers/EditorMenuManager.js","@RecklessCore/Editor/Contexts/useEditorMenuContext.js","@RecklessCore/Inspector/Managers/InspectorMenuManager.js","@RecklessCore/Inspector/Contexts/useInspectorMenuContext.js","@RecklessCore/Peers/Managers/PeersManager.js","@RecklessCore/Peers/Contexts/usePeersContext.js","@RecklessCore/Utils/generateRoomId.js","@RecklessCore/Utils/PersistantStorage.js","@RecklessCore/Connections/Managers/ConnectionsManager.js","@RecklessCore/Connections/Contexts/useConnectionsContext.js","@RecklessCore/Room/Components/RoomName/view.js","@RecklessCore/Room/Components/RoomName/index.js","@RecklessCore/Room/Components/RoomQR/view.js","@RecklessCore/Room/Components/RoomQR/index.js","@RecklessCore/Components/Buttons/IconButton/view.js","@RecklessCore/Room/Components/Buttons/RoomRefreshIdButton/view.js","@RecklessCore/Room/Components/Buttons/RoomRefreshIdButton/index.js","@RecklessCore/Room/Components/Buttons/RoomCopyUrlButton/view.js","@RecklessCore/Room/Components/Buttons/RoomCopyUrlButton/index.js","@RecklessCore/Room/Components/Buttons/RoomOpenUrlButton/view.js","@RecklessCore/Room/Components/Buttons/RoomOpenUrlButton/index.js","@RecklessCore/Room/Components/RoomInfo/index.js","@RecklessCore/Room/index.js","@RecklessCore/Peers/Components/Buttons/EditPeerNameButton/view.js","@RecklessCore/Peers/Components/Buttons/EditPeerNameButton/index.js","@RecklessCore/Peers/Components/PeerAvatar/index.js","@RecklessCore/Peers/Components/PeerName/view.js","@RecklessCore/Peers/Components/PeerName/edit.js","@RecklessCore/Peers/Components/PeerName/index.js","@RecklessCore/Peers/Components/Toolbars/PeerToolbar/index.js","@RecklessCore/Peers/Components/HostInfo/index.js","@RecklessCore/Peers/Components/MeInfo/index.js","@RecklessCore/Peers/Components/Buttons/ShareScenePeerButton/view.js","@RecklessCore/Peers/Components/Buttons/ShareScenePeerButton/index.js","@RecklessCore/Peers/Components/PeerInfo/index.js","@RecklessCore/Peers/Components/PeersList/index.js","@RecklessCore/Peers/Components/PeersInfo/index.js","@RecklessCore/Peers/index.js","@RecklessCore/Inspector/Components/Buttons/InspectorCloseButton/view.js","@RecklessCore/Inspector/Components/Buttons/InspectorCloseButton/index.js","@RecklessCore/Inspector/Components/Toolbars/InspectorToolbar/view.js","@RecklessCore/Inspector/Components/Toolbars/InspectorToolbar/index.js","@RecklessCore/Help/Menus/HelpMenu/index.js","@RecklessCore/Inspector/view.js","@RecklessCore/Inspector/index.js","@RecklessCore/Utils/toFlow.js","@RecklessCore/ThreeObjects/Assets/gltf_file.png","@RecklessCore/Utils/iconLookup.js","@RecklessCore/Components/Patches/PatchDetails/index.js","@RecklessCore/Components/Patches/OutputHandle/index.js","@RecklessCore/Components/Patches/InputHandle/index.js","@RecklessCore/Components/Patches/PropAccordian/view.js","@RecklessCore/Components/Patches/ParentChildProp/index.js","@RecklessCore/Components/Patches/PatchRoot/index.js","@RecklessCore/Scenes/Patches/index.js","@RecklessCore/Components/Patches/PropListItem/view.js","@RecklessCore/Components/Patches/PropListItem/index.js","@RecklessCore/Components/Patches/PatchValue/view.js","@RecklessCore/ThreeObjects/Patches/PatchValue/index.js","@RecklessCore/Components/Patches/PatchToolbar/view.js","@RecklessCore/ThreeObjects/Patches/PatchToolbar/index.js","@RecklessCore/ThreeObjects/Patches/index.js","@RecklessCore/Devices/Patches/PatchToolbar/index.js","@RecklessCore/Devices/Managers/DevicesManager.js","@RecklessCore/Devices/Contexts/useDevicesContext.js","@RecklessCore/Devices/Patches/PatchValue/index.js","@RecklessCore/Devices/Patches/Mouse/index.js","@RecklessCore/Components/Inputs/Select/index.jsx","@RecklessCore/Devices/Patches/Camera/Settings/view.js","@RecklessCore/Devices/Patches/Camera/Settings/index.js","@RecklessCore/Devices/Patches/Camera/index.js","@RecklessCore/Devices/Patches/Keyboard/index.js","@RecklessCore/Devices/Patches/Accel/index.js","@RecklessCore/Devices/Patches/index.js","@RecklessCore/Transforms/Managers/TransformsManager.js","@RecklessCore/Transforms/Contexts/useTransformsContext.js","@RecklessCore/Transforms/Patches/PatchValue/index.js","@RecklessCore/Transforms/Patches/PatchToolbar/index.js","@RecklessCore/Components/Inputs/SelectWithIcon/index.jsx","@RecklessCore/Transforms/Patches/Settings/view.js","@RecklessCore/Transforms/Patches/Settings/index.js","@RecklessCore/Transforms/Patches/index.js","@RecklessCore/Generators/Managers/GeneratorsManager.js","@RecklessCore/Generators/Contexts/useGeneratorsContext.js","@RecklessCore/Generators/Patches/PatchValue/index.js","@RecklessCore/Shapes/drawSine.js","@RecklessCore/Shapes/drawCircle.js","@RecklessCore/Generators/Patches/ShapePreview/background.js","@RecklessCore/Generators/Patches/ShapePreview/indicator.js","@RecklessCore/Components/Patches/PlaybackToolbar/view.js","@RecklessCore/Generators/Patches/PlaybackToolbar/index.js","@RecklessCore/Generators/Patches/ShapePreview/index.js","@RecklessCore/Generators/Patches/PatchToolbar/index.js","@RecklessCore/Generators/Patches/Settings/view.js","@RecklessCore/Generators/Patches/Settings/index.js","@RecklessCore/Generators/Patches/index.js","@RecklessCore/Peers/Patches/PatchValue/index.js","@RecklessCore/Peers/Patches/PatchToolbar/index.js","@RecklessCore/Peers/Patches/index.js","@RecklessCore/Widgets/Patches/PatchToolbar/index.js","@RecklessCore/Widgets/Patches/PatchValue/index.js","@RecklessCore/Widgets/Patches/Preview/index.js","@RecklessCore/Widgets/Patches/index.js","@RecklessCore/Components/Patches/Edges/CustomEdge.js","@RecklessCore/Components/Patches/Edges/CustomLineageEdge.js","@RecklessCore/Editor/Components/NodeEditor/view.js","@RecklessCore/Editor/Components/NodeEditor/index.js","@RecklessCore/Editor/Components/Buttons/EditorCloseButton/index.js","@RecklessCore/Editor/Components/Buttons/SceneDownloadButton/view.js","@RecklessCore/Editor/Components/Buttons/SceneDownloadButton/index.js","@RecklessCore/Editor/Components/Menus/AddToSceneMenu/AddPeersToScene/index.js","@RecklessCore/Editor/Components/Buttons/AddToSceneCloseButton/view.js","@RecklessCore/Editor/Components/Buttons/AddToSceneCloseButton/index.js","@RecklessCore/Editor/Components/Menus/AddToSceneMenu/AddToSceneToolbar/view.js","@RecklessCore/Editor/Components/Menus/AddToSceneMenu/AddToSceneToolbar/index.js","@RecklessCore/Components/Panels/TabPanel/index.js","@RecklessCore/Editor/Components/Menus/AddToSceneMenu/index.js","@RecklessCore/Editor/Components/Toolbars/EditorToolbar/view.js","@RecklessCore/Editor/Components/Toolbars/EditorToolbar/index.js","@RecklessCore/Editor/view.js","@RecklessCore/Editor/index.js","@RecklessCore/Components/Modals/Basic/CloseButton/index.js","@RecklessCore/Components/Modals/Basic/Toolbar/view.js","@RecklessCore/Components/Modals/Basic/Toolbar/index.js","@RecklessCore/Components/Modals/Basic/index.js","@RecklessCore/Help/Modals/Welcome/index.js","@RecklessCore/Widgets/Managers/WidgetsManager.js","@RecklessCore/Widgets/Managers/WidgetManager.js","@RecklessCore/Widgets/Contexts/useWidgetsContext.js","@RecklessCore/Widgets/Components/Preview/VideoPlayer.js","@RecklessCore/Widgets/Components/Preview/Canvas.js","@RecklessCore/Widgets/Components/Preview/view.js","@RecklessCore/Widgets/Contexts/useWidgetContext.js","@RecklessCore/Widgets/Components/Preview/index.js","@RecklessCore/Widgets/view.js","@RecklessCore/Widgets/index.js","@RecklessCore/App/view.js","@RecklessCore/Utils/threeParams.js","@RecklessCore/World/Managers/WorldManager.js","@RecklessCore/Generators/Managers/GeneratorManager.js","@RecklessCore/Generators/Contexts/useGeneratorContext.js","@RecklessCore/Generators/Providers/Orbit/index.js","@RecklessCore/Utils/commonMath.js","@RecklessCore/Generators/Providers/Sinewave/index.js","@RecklessCore/Generators/Providers/view.js","@RecklessCore/Generators/Providers/index.js","@RecklessCore/Peers/Managers/PeerManager.js","@RecklessCore/Peers/Providers/view.js","@RecklessCore/Peers/Providers/index.js","@RecklessCore/Devices/Managers/DeviceManager.js","@RecklessCore/Devices/Contexts/useDeviceContext.js","@RecklessCore/Devices/Providers/Mouse/index.js","@RecklessCore/Devices/Providers/Keyboard/index.js","@RecklessCore/Devices/Providers/Camera/index.js","@RecklessCore/Devices/Providers/Accel/index.js","@RecklessCore/Devices/Providers/view.js","@RecklessCore/Devices/Providers/index.js","@RecklessCore/Transforms/Managers/TransformManager.js","@RecklessCore/Transforms/Contexts/useTransformContext.js","@RecklessCore/Transforms/Providers/Calculator/index.js","@RecklessCore/Transforms/Providers/Tensorflow/index.js","@RecklessCore/Transforms/Providers/view.js","@RecklessCore/Transforms/Providers/index.js","@RecklessCore/World/index.js","@RecklessCore/Utils/waitForMs.js","@RecklessCore/Scenes/Managers/SceneManager.js","@RecklessCore/Scenes/index.js","@RecklessCore/Scenes/Contexts/useSceneManagerContext.js","@RecklessCore/App/index.js","theme.js","index.js"],"names":["useForceUpdate","useState","setState","useCallback","isHost","window","location","hash","substr","ThreeObjectsContext","createContext","threeObjectsContextValue","ThreeObjectsManager","children","useAppContext","subscribe","unsubscribe","publish","Map","ThreeObjectRegistry","ThreeObjectRegistryByName","ThreeObjectRegistryByPos","ThreeObjectRegistryByType","exitScene","undefined","clear","useEffect","threeObjectsRegistryUtils","useMemo","registerThreeObject","identifier","ref","set","name","position","pos","x","y","z","posList","get","push","unregisterThreeObject","delete","splice","indexOf","findThreeObject","id","findThreeObjectByName","findThreeObjectsByPos","filter","obj","disabled","findThreeObjectsByLayer","type","threeObjectNamesArray","Array","from","keys","Provider","value","EventsManager","events","handler","index","handlers","data","a","lastData","Promise","all","slice","map","hasSubscriptions","length","AppContext","appContextValue","AppManager","DefaultSceneJSON","DefaultSceneJSONClient","sceneJSON","setSceneJSON","paused","setPaused","getDefaultGeo","geoUUID","uuid","width","height","depth","widthSegments","heightSegments","depthSegments","getDefaultMat","materialUUID","color","roughness","metalness","emissive","envMapIntensity","refractionRatio","depthFunc","depthTest","depthWrite","colorWrite","stencilWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","hideChild","childs","val","callback","forEach","c","uid","userData","cChildren","isPatchHidden","removeChild","idx","child","sceneUtils","removeTransform","transforms","t","connections","to","addTransform","uuidv4","amount","removeWidget","widgets","d","removeDevice","devices","addDevice","deviceUUID","newJSON","previewUUID","size","fromProp","toProp","removeGenerator","generators","g","addGenerator","resolution","rpm","looped","hideThreeObjPatch","filterdChildren","object","removeThreeObj","addThreeObj","geometries","materials","layers","matrix","geometry","material","removePeer","peers","p","addPeer","addConnection","edge","source","sourceHandle","replace","split","toLowerCase","target","targetHandle","updateConnection","oldEdge","newConnection","removeConnection","removeFromParent","settings","whyDidYouRender","process","useContext","useThreeObjectsContext","EditorMenuContext","EditorMenuManager","editorMenuHeight","setEditorMenuHeight","editorMenuOpen","setEditorMenuOpen","editorMenuTab","setEditorMenuTab","editorMenuContextValue","useEditorMenuContext","InspectorMenuContext","InspectorMenuManager","inspectorMenuWidth","setInspectorMenuWidth","inspectorMenuOpen","setInspectorMenuOpen","inspectorMenuTab","setInspectorMenuTab","inspectorMenuContextValue","useInspectorMenuContext","PeersContext","peersContextValue","PeersManager","PeerRegistry","findPeer","registerPeer","oldRef","newRef","unregisterPeer","getPeersArray","moment","diff","lastSeen","peerRegistryUtils","useConnectionsContext","GenerateRoomId","niceware","generatePassphrase","reduce","accumulator","currentValue","persistData","key","localStorage","setItem","JSON","stringify","sessionStorage","restoreData","parse","getItem","ConnectionsContext","connectionsContextValue","ConnectionsManager","usePeersContext","connectionType","room","setRoom","roomInfo","setRoomInfo","roomActions","me","ConnectionRegistry","isMounted","useRef","getMe","isMe","getHost","getByUUID","updateConnectionInfo","oldRefs","has","connectionId","findConnection","registerConnection","unregisterConnection","getConnectionsArray","getRoomInfo","connectionRegistryUtils","info","newId","generateRoomId","url","href","joinRoom","appId","meRef","status","selfId","mode","Date","now","pingMe","getRoomActions","makeAction","sendAnnounce","getAnnounce","sendData","getData","actionsRef","onPeerJoin","connectionRef","ping","connectionJoin","onPeerLeave","peer","setData","payload","host","announceMeChanges","connection","current","useStyles","makeStyles","roomName","marginRight","marginLeft","RoomNameView","roomId","classes","Tooltip","title","Typography","className","variant","memo","RoomName","qrCode","display","QRView","qrContainer","RoomQR","qrRef","qrSize","setQrSize","offsetWidth","r","updateRoom","ListItemIcon","menuButton","padding","IconButtonView","node","label","handeClick","event","props","IconButton","onClick","clsx","iconButton","margin","RoomRefreshIdButtonView","fontSize","RoomRefreshIdButton","RoomCopyUrlButtonView","navigator","clipboard","writeText","then","RoomCopyUrlButton","RoomOpenUrlButtonView","Link","rel","RoomOpenUrlButton","sectionTitle","marginTop","RoomInfo","List","dense","ListItem","Grid","spacing","container","item","xs","root","paddingTop","listRoot","RoomMenu","role","EditPeerNameButtonView","peerInfo","EditPeerNameButton","PeerAvatar","ListItemAvatar","Avatar","alt","src","multiline","whiteSpace","overflow","PeerNameView","primary","secondary","ListItemText","onNameUpdate","TextField","onChange","PeerName","theme","toolbarButtons","right","background","palette","paper","PeerToolbar","ListItemSecondaryAction","listItem","list","HostInfo","hostName","setHostName","setHost","h","updateHost","updateName","e","currentTarget","updateHostInfo","alignItems","Divider","MeInfo","meName","setMeName","setMe","m","updateMe","updateMeInfo","sceneMenu","left","ShareScenePeerButtonView","meUUID","meConnectionId","buttonRef","anchorEl","setAnchorEl","open","Boolean","closeMenu","json","dataset","menuValue","testJSON","posenetJSON","timestamp","style","evt","Menu","keepMounted","onClose","MenuItem","ShareScenePeerButton","buttons","PeerInfo","peerName","setPeerName","updateInfo","PeersList","setConnections","updateConnections","PeersInfo","PeersMenu","button","InspectorCloseButtonView","InspectorCloseButton","mixins","toolbar","flexGrow","minHeight","tabRoot","minWidth","InspectorToolbarView","handleChange","AppBar","Toolbar","spacer","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","icon","faHome","faUsers","faQuestion","InspectorToolbar","itemText","HelpMenu","drawer","transition","transitions","create","easing","easeOut","duration","enteringScreen","top","zIndex","drawerPaper","drawerHeader","justifyContent","InspectorView","Drawer","anchor","Room","Inspector","dimensionsLookup","typeLookup","makeFlowProps","parents","hidden","hideChildren","isChildHidden","isHidden","sceneGraphToFlow","level","nextLevel","flat","rtSceneToFlow","rtScene","animated","getIconByType","includes","GLTF_ICON","fill","faLayerGroup","faWaveSquare","faMouse","faCube","faCalculator","faKeyboard","faVideo","faPlus","faMinus","faTimes","faDivide","faThLarge","propItem","propIcon","propText","PatchDetails","handle","handleLeft","float","borderLeft","borderTopLeftRadius","borderBottomLeftRadius","handleRight","borderRight","borderTopRightRadius","borderBottomRightRadius","OutputHandle","propName","isValidConnection","console","log","onConnect","params","InputHandle","Position","Left","propAccord","marginBottom","boxShadow","borderRadius","propSummary","propSummaryContent","propSummaryExapand","propDetails","paddingBottom","PropAccordianView","header","expandIcon","defaultOpen","showDetails","setShowDetails","Accordion","expanded","AccordionSummary","content","AccordionDetails","oveflow","borderBottom","propGrid","textAlign","textTransform","propAccordList","bottom","handleGridLeft","paddingLeft","handleGridRight","paddingRight","childList","childListItem","secondRoot","childListIcon","lightIcon","ParentChildProp","hidePatch","flip","faSignOutAlt","backgroundColor","border","PatchRoot","ScenePatch","PropListItemView","disableInput","disableOutput","PropListItem","PatchValueView","isArray","v","toFixed","active","PatchValue","threeObj","propVal","setPropVal","updateProp","appbar","group","gridItem","PatchToolbarView","removeObj","faSignInAlt","Button","faTrashAlt","PatchToolbar","ThreeObjectPatch","patchProps","DevicesContext","devicesContextValue","DevicesManager","DeviceRegistry","deviceRegistryUtils","findDevice","registerDevice","unregisterDevice","getDevicesArray","useDevicesContext","deviceObj","MousePatch","selectRoot","menuItemRoot","RTSelect","Select","renderValue","selectListRoot","iconRoot","CameraSettingsView","setValue","CameraSettings","setList","selected","setSelected","updateSelected","updateList","selectedDevice","deviceList","setSelectedDevice","CameraPatch","KeyboardPatch","AccelPatch","DevicePatch","Mouse","Keyboard","Accel","Camera","TransformsContext","transformsContextValue","TransformsManager","TransformRegistry","findTransform","transformRegistryUtils","registerTransform","unregisterTransform","getTransformsArray","useTransformsContext","transformObj","RTSelectWithIcon","TransformSettingsView","parseInt","TransformSettings","defaultVal","setVal","updateValue","toUpperCase","TransformPatch","GeneratorsContext","generatorsContextValue","GeneratorsManager","GeneratorRegistry","generatorRegistryUtils","findGenerator","registerGenerator","unregisterGenerator","getGeneratorsArray","useGeneratorsContext","generatorObj","DrawSine","points","i","Math","sin","PI","DrawCircle","cos","canvasContainer","parentSize","ShapePreviewBackground","shape","shapeDimensions","setShapeDimensions","context","setContext","canvasRef","finalShape","setFinalShape","min","max","getContext","s","ctx","lineWidth","strokeStyle","moveTo","lineTo","stroke","ind","finalVal","ShapePreviewIndicator","setFinalVal","buttonLoop","buttonLabel","PlaybackToolbarView","setPause","setLoop","PlaybackToolbar","isPaused","setIsPaused","isLooped","setIsLooped","updatePause","updateLoop","shapeContainer","ShapePreview","generator","setGenerator","updateGenerator","setShape","shapeRef","containerSize","setContainerSize","offsetHeight","GeneratorSettingsView","setRPM","GeneratorSettings","rpms","setRPMs","res","setRes","updateRPM","updateRes","setResolution","setRpm","Generator","peerObj","PeerPatch","setPeer","setPatchProps","PreviewPatch","WidgetPatch","Preview","deleteEdgeButton","foreignObject","opacity","foreignObjectShow","CustomEdge","sourceX","sourceY","sourcePosition","targetX","targetY","targetPosition","showDelete","setShowDelete","edgePath","getSmoothStepPath","getEdgeCenter","edgeCenterX","edgeCenterY","onMouseOver","onMouseOut","markerWidth","markerHeight","viewBox","orient","refX","refY","strokeLinecap","strokeLinejoin","strokeWidth","cx","cy","markerEnd","foreignObjectSize","requiredExtensions","CustomLineageEdge","getBezierPath","onLoad","NodeEditorView","elements","nodeTypes","edgeTypes","showControls","interactive","dagreGraph","dagre","graphlib","Graph","setDefaultEdgeLabel","elems","layoutedElements","el","setGraph","rankdir","align","nodesep","edgesep","ranksep","marginx","marginy","isNode","setNode","setEdge","layout","newProps","nodeWithPosition","nodeWidth","random","nodeHeight","nodesConnectable","nodesDraggable","zoomOnScroll","panOnScroll","zoomOnDoubleClick","paneMoveable","snapToGrid","onEdgeUpdate","NodeEditor","setElements","Scene","ThreeObject","device","Device","transform","Transform","Peer","widget","Widget","custom","customLineage","EditorCloseButton","SceneDownloadButttonView","link","document","createElement","download","encodeURIComponent","click","SceneDownloadButtton","AddPeersToScene","ListSubheader","AddToSceneCloseButtonView","handleClose","AddToSceneCloseButton","AddToSceneToolbarView","faCamera","faSquareRootAlt","AddToSceneToolbar","tabPanel","TabPanel","Box","itemList","AddToSceneMenu","React","addObject","menu","anchorOrigin","vertical","horizontal","transformOrigin","EditorToolbarView","EditorToolbar","EditorMenuView","EditorMenu","ModalCloseButton","ModalToolbarView","ModalToolbar","modal","Fade","forwardRef","in","onEnter","onExited","other","useSpring","onStart","onRest","div","BasicModal","setOpen","Modal","disableEnforceFocus","disableAutoFocus","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Paper","WelcomeModal","Basic","WidgetsContext","widgetsContextValue","WidgetsManager","WidgetRegistry","widgetRegistryUtils","findWidget","registerWidget","unregisterWidget","getWidgetsArray","WidgetContext","DefaultProps","WidgetManager","Symbol","setType","previewStream","setPreviewStream","poses","setPoses","updateFromInput","prop","forceUpdate","widgetRef","getRef","contextValue","nodeRef","VideoPlayer","stream","videoRef","createRef","srcObject","autoPlay","playsInline","muted","Canvas","dim","getBoundingClientRect","clearRect","keypoints","k","score","fillStyle","fillRect","CameraPreview","setStream","poseList","setPoseList","setDim","previewRef","updateStream","updatePoses","Card","CardActionArea","CardContent","component","PreviewWidget","WidgetsView","pointerEvents","Widgets","preventDefault","rootShiftBottom","appBar","sharp","leavingScreen","appBarShiftLeft","appBarShiftRight","renderArea","renderAreaShiftLeft","renderAreaShiftRight","bottomAppBar","bottomToolbar","editorButton","inspectorButton","AppView","Editor","Welcome","ThreeParamsToArgs","filteredProps","propKeys","Object","THREE","ThreeUsedProps","parameters","param","getHexString","WorldContext","worldContextValue","WorldManager","GeneratorContext","GeneratorManager","setLooped","setPosition","generatorRef","useGeneratorContext","OrbitGenerator","setGenPosition","animMili","toPoints","result","config","pause","loop","friction","api","stop","start","rpmToMili","SinewaveGenerator","setAnimMili","propTypes","PropTypes","string","isRequired","GeneratorsView","Orbit","Sinewave","Generators","gen","PeerContext","PeerManager","setConnection","peerRef","PeerView","Peers","DeviceContext","DeviceManager","passedUUID","passedName","passedType","passedPosition","passedActive","passedDeviceList","passedSelectedDevice","mediaStream","setMediaStream","setActive","setDeviceList","deviceId","deviceRef","useDeviceContext","MouseDevice","updateMousePosition","ev","clientX","clientY","addEventListener","removeEventListener","KeyboardDevice","updateKeyboardPosition","CameraDevice","initCamera","mediaDevices","getUserMedia","getCameras","enumerateDevices","kind","catch","audio","video","exact","getTracks","track","AccelDevice","updateAccelPosition","DevicesView","Devices","dev","TransformContext","displayName","operator","TransformManager","setAmount","setOperator","useTransformContext","CalculatorTransform","setTransValue","calculate","tfjsWasm","createDetector","model","posedetection","TensorflowTransform","detector","setDetector","frame","setFrame","PoseNet","quantBytes","architecture","outputStride","inputResolution","multiplier","estimatePoses","maxPoses","flipHorizontal","useFrame","ImageCapture","getVideoTracks","grabFrame","img","TransformsView","Tensorflow","Calculator","Transforms","userSelect","World","camera","shadows","dpr","devicePixelRatio","fog","attach","args","OrbitControls","enablePan","enableZoom","enableRotate","waitForMs","ms","resolve","setTimeout","SceneManagerContext","SceneManager","defaultScene","initialScene","initialLevel","currentScene","setScene","prevLevel","currentLevel","Number","sceneStore","nextScene","targetScene","targetLevel","setLevel","resetScene","prevScene","formerCurrentLevel","formerPrevLevel","setSceneState","getSceneState","SceneContext","LevelContext","instances","setInstances","initEvents","instantiate","newElement","portalNode","instance","createPortal","cloneElement","elem","levelContextValue","enterPrevLevel","enterNextLevel","startsWith","DynamicScene","lazy","LoadingBox","mesh","hovered","setHover","rotation","scale","onPointerOver","onPointerOut","App","updateScene","fallback","createMuiTheme","default","grey","Palette","main","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","getElementById"],"mappings":"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","file":"static/js/main.b83d85d2.chunk.js","sourcesContent":["import { useCallback, useState } from 'react';\n\nexport default function useForceUpdate() {\n  const [, setState] = useState({});\n  return useCallback(() => setState({}), []);\n}\n","// eslint-disable-next-line no-undef\nconst isHost = () => (window.location.hash.substr(1) === '');\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  isHost,\n};\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useEffect, createContext, useMemo, useState, useCallback,\n} from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const ThreeObjectsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let threeObjectsContextValue = {};\n\nconst ThreeObjectsManager = ({\n  children,\n}) => {\n  const { subscribe, unsubscribe, publish } = useAppContext();\n  const [ThreeObjectRegistry] = useState(() => new Map());\n  const [ThreeObjectRegistryByName] = useState(() => new Map());\n  const [ThreeObjectRegistryByPos] = useState(() => new Map());\n  const [ThreeObjectRegistryByType] = useState(() => new Map());\n\n  const exitScene = useCallback(() => {\n    if (ThreeObjectRegistry !== undefined) { ThreeObjectRegistry.clear(); }\n    if (ThreeObjectRegistryByName !== undefined) { ThreeObjectRegistryByName.clear(); }\n    if (ThreeObjectRegistryByPos !== undefined) { ThreeObjectRegistryByPos.clear(); }\n    if (ThreeObjectRegistryByType !== undefined) { ThreeObjectRegistryByType.clear(); }\n  }, [\n    ThreeObjectRegistry,\n    ThreeObjectRegistryByType,\n    ThreeObjectRegistryByName,\n    ThreeObjectRegistryByPos,\n  ]);\n  useEffect(() => {\n    subscribe('scene-exit', exitScene);\n    return () => {\n      unsubscribe('scene-exit', exitScene);\n    };\n  }, [subscribe, unsubscribe, exitScene]);\n\n  const threeObjectsRegistryUtils = useMemo(\n    () => ({\n      registerThreeObject(identifier, ref) {\n      // register by id\n        ThreeObjectRegistry.set(identifier, ref);\n        // register by name\n        ThreeObjectRegistryByName.set(ref.name, ref);\n        // register by position\n        const { position } = ref;\n        const pos = `${position.x},${position.y},${position.z}`;\n        const posList = ThreeObjectRegistryByPos.get(pos) || [];\n        posList.push(ref);\n        ThreeObjectRegistryByPos.set(pos, posList);\n\n        publish('threeObjects-list-changed', ref, 'add');\n      },\n      unregisterThreeObject(identifier, ref) {\n      // unregister by id\n        ThreeObjectRegistry.delete(identifier);\n        // unregister by name\n        ThreeObjectRegistryByName.delete(ref.name);\n        // unregister by position\n        const { position } = ref;\n        const pos = `${position.x},${position.y},${position.z}`;\n        const posList = ThreeObjectRegistryByPos.get(pos);\n        posList.splice(posList.indexOf(ref), 1);\n\n        publish('threeObjects-list-changed', identifier, 'remove');\n      },\n      findThreeObject(id) {\n        return ThreeObjectRegistry.get(id);\n      },\n      findThreeObjectByName(name) {\n        return ThreeObjectRegistryByName.get(name);\n      },\n      findThreeObjectsByPos(x, y) {\n        return ThreeObjectRegistryByPos.get(`${x},${y}`).filter((obj) => !obj.disabled) || [];\n      },\n      findThreeObjectsByLayer(type) {\n        return ThreeObjectRegistryByType.get(type).filter((obj) => !obj.disabled) || [];\n      },\n      threeObjectNamesArray() {\n        return Array.from(ThreeObjectRegistryByName.keys());\n      },\n    }),\n    [\n      ThreeObjectRegistry,\n      ThreeObjectRegistryByType,\n      ThreeObjectRegistryByName,\n      ThreeObjectRegistryByPos,\n      publish,\n    ],\n  );\n\n  threeObjectsContextValue = useMemo(() => ({\n    ThreeObjectRegistryByName,\n    ...threeObjectsRegistryUtils,\n  }), [\n    ThreeObjectRegistryByName,\n    threeObjectsRegistryUtils]);\n\n  return (\n    <ThreeObjectsContext.Provider value={threeObjectsContextValue}>\n      {children}\n    </ThreeObjectsContext.Provider>\n  );\n};\n\nThreeObjectsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ThreeObjectsManager;\n","const EventsManager = () => {\n  const events = {};\n  const publish = async (name, data) => {\n    if (events[name] === undefined) {\n      events[name] = { name, handlers: [] };\n    }\n\n    events[name].lastData = data;\n    // make snapshot of handlers, to prevent inbetween unsubscribe calls\n    // from mutating this array.\n    await Promise.all(events[name].handlers.slice().map((handler) => handler(data), 1000));\n    return true;\n  };\n\n  const unsubscribe = (name, handler) => {\n    if (events[name] === undefined) return;\n\n    const index = events[name].handlers.indexOf(handler);\n    events[name].handlers.splice(index, 1);\n  };\n\n  const subscribe = (name, handler) => {\n    if (events[name] === undefined) {\n      events[name] = { name, handlers: [], lastData: null };\n    }\n    events[name].handlers.push(handler);\n\n    if (events[name].lastData !== null) {\n      handler(events[name].lastData);\n    }\n\n    return () => unsubscribe(name, handler);\n  };\n\n  const hasSubscriptions = (name) => {\n    if (events[name] === undefined) {\n      return 0;\n    }\n    return events[name].handlers.length;\n  };\n\n  return {\n    publish,\n    subscribe,\n    unsubscribe,\n    hasSubscriptions,\n  };\n};\n\nexport default EventsManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext,\n  useMemo,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nimport EventsManager from '../../Events/Managers/EventsManager';\nimport DefaultSceneJSON from '../../../scenes/LogoScene.json';\nimport DefaultSceneJSONClient from '../../../scenes/PosenetScene.json';\nimport { isHost } from '../../Utils/userCheck';\n\nexport const AppContext = createContext(null);\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let appContextValue = {};\n\nconst AppManager = ({\n  children,\n}) => {\n  const [sceneJSON, setSceneJSON] = useState(() => {\n    if (isHost()) {\n      return DefaultSceneJSON;\n    }\n    return DefaultSceneJSONClient;\n  });\n\n  const [paused, setPaused] = useState(false);\n\n  const [events] = useState(() => EventsManager());\n\n  const getDefaultGeo = (geoUUID, type) => ({\n    uuid: geoUUID,\n    type: `${type}Geometry`,\n    width: 1,\n    height: 1,\n    depth: 1,\n    widthSegments: 1,\n    heightSegments: 1,\n    depthSegments: 1,\n  });\n\n  const getDefaultMat = (materialUUID) => ({\n    uuid: materialUUID,\n    type: 'MeshStandardMaterial',\n    color: 16777215,\n    roughness: 1,\n    metalness: 0,\n    emissive: 0,\n    envMapIntensity: 1,\n    refractionRatio: 0.98,\n    depthFunc: 3,\n    depthTest: true,\n    depthWrite: true,\n    colorWrite: true,\n    stencilWrite: false,\n    stencilWriteMask: 255,\n    stencilFunc: 519,\n    stencilRef: 0,\n    stencilFuncMask: 255,\n    stencilFail: 7680,\n    stencilZFail: 7680,\n    stencilZPass: 7680,\n  });\n\n  const hideChild = useCallback((childs, uuid, val, callback) => {\n    childs.forEach((c) => {\n      const { uuid: uid, userData, children: cChildren } = c;\n      if (uid === uuid) {\n        // eslint-disable-next-line no-param-reassign\n        userData.isPatchHidden = val;\n        callback();\n      } else if (cChildren !== undefined) {\n        hideChild(cChildren, uuid, val, callback);\n      }\n    });\n  }, []);\n\n  const removeChild = useCallback((childs, uuid, callback) => {\n    childs.forEach((c, idx) => {\n      const { uuid: uid, children: cChildren } = c;\n      if (uid === uuid) {\n        const child = childs.splice(idx, 1);\n        callback(child);\n      } else if (cChildren !== undefined) {\n        removeChild(cChildren, uuid, callback);\n      }\n    });\n  }, []);\n\n  // Add, remove, and update objects from the scene json\n  const sceneUtils = useMemo(() => ({\n    removeTransform(uuid) {\n      const obj = {\n        ...sceneJSON,\n        transforms: [\n          ...sceneJSON.transforms.filter((t) => (t.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.from !== uuid && c.to !== uuid),\n          ),\n        ],\n      };\n      setSceneJSON(obj);\n    },\n    addTransform(type) {\n      setSceneJSON({\n        ...sceneJSON,\n        transforms: [\n          ...sceneJSON.transforms,\n          {\n            uuid: uuidv4(),\n            type,\n            name: `new ${type}`,\n            amount: 2,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    removeWidget(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        widgets: [\n          ...sceneJSON.widgets.filter((d) => (d.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.from !== uuid && c.to !== uuid),\n          ),\n        ],\n      });\n    },\n    removeDevice(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        devices: [\n          ...sceneJSON.devices.filter((d) => (d.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.from !== uuid && c.to !== uuid),\n          ),\n        ],\n      });\n    },\n    addDevice(type) {\n      const deviceUUID = uuidv4();\n      let newJSON = {\n        ...sceneJSON,\n        devices: [\n          ...sceneJSON.devices,\n          {\n            uuid: deviceUUID,\n            type,\n            name: `new ${type}`,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      };\n      if (type === 'camera') {\n        // Show Preview\n        const previewUUID = uuidv4();\n        newJSON = {\n          ...newJSON,\n          widgets: [\n            ...sceneJSON.widgets,\n            {\n              uuid: previewUUID,\n              type: 'Preview',\n              name: 'new preview',\n              size: 'small',\n              location: 'top-right',\n              userData: {\n                isPatchHidden: false,\n              },\n            },\n          ],\n          connections: [\n            ...sceneJSON.connections,\n            {\n              uuid: uuidv4(),\n              from: deviceUUID,\n              fromProp: 'mediastream',\n              to: previewUUID,\n              toProp: 'mediastream',\n            },\n          ],\n        };\n      }\n      setSceneJSON(newJSON);\n    },\n    removeGenerator(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        generators: [\n          ...sceneJSON.generators.filter((g) => (g.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.from !== uuid && c.to !== uuid),\n          ),\n        ],\n      });\n    },\n    addGenerator(type) {\n      setSceneJSON({\n        ...sceneJSON,\n        generators: [\n          ...sceneJSON.generators,\n          {\n            uuid: uuidv4(),\n            type,\n            name: `new ${type}`,\n            resolution: 32,\n            rpm: 30,\n            looped: true,\n            paused: false,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    hideThreeObjPatch(uuid, val) {\n      const filterdChildren = sceneJSON.object.children;\n      hideChild(filterdChildren, uuid, val, () => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: filterdChildren,\n          },\n        });\n      });\n    },\n    removeThreeObj(uuid) {\n      const filterdChildren = sceneJSON.object.children;\n      removeChild(filterdChildren, uuid, () => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: filterdChildren,\n          },\n          connections: [\n            ...sceneJSON.connections.filter(\n              (c) => (c.from !== uuid && c.to !== uuid),\n            ),\n          ],\n        });\n      });\n    },\n    addThreeObj(type) {\n      const geoUUID = uuidv4();\n      const materialUUID = uuidv4();\n      setSceneJSON({\n        ...sceneJSON,\n        geometries: [\n          ...sceneJSON.geometries,\n          getDefaultGeo(geoUUID, type),\n        ],\n        materials: [\n          ...sceneJSON.materials,\n          getDefaultMat(materialUUID),\n        ],\n        object: {\n          ...sceneJSON.object,\n          children: [\n            ...sceneJSON.object.children,\n            {\n              uuid: uuidv4(),\n              type: 'Mesh',\n              name: type,\n              layers: 1,\n              matrix: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],\n              geometry: geoUUID,\n              material: materialUUID,\n              userData: {\n                isPatchHidden: false,\n              },\n            },\n          ],\n        },\n      });\n    },\n    // Peers\n    removePeer(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        peers: [\n          ...sceneJSON.peers.filter((p) => (p.uuid !== uuid)),\n        ],\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.from !== uuid && c.to !== uuid),\n          ),\n        ],\n      });\n    },\n    addPeer(uuid) {\n      setSceneJSON({\n        ...sceneJSON,\n        peers: [\n          ...sceneJSON.peers,\n          {\n            type: 'peer',\n            name: uuid,\n            uuid,\n            userData: {\n              isPatchHidden: false,\n            },\n          },\n        ],\n      });\n    },\n    // Connections\n    addConnection(edge) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections,\n          {\n            uuid: uuidv4(),\n            from: edge.source,\n            fromProp: edge.sourceHandle.replace(edge.source, '').split('-')[1].toLowerCase(),\n            to: edge.target,\n            toProp: edge.targetHandle.replace(edge.target, '').split('-')[2].toLowerCase(),\n          },\n        ],\n      });\n    },\n    updateConnection(oldEdge, newConnection) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.uuid !== oldEdge.id),\n          ),\n          {\n            uuid: oldEdge.id,\n            from: newConnection.source,\n            fromProp: newConnection.sourceHandle.replace(newConnection.source, '').split('-')[1],\n            to: newConnection.target,\n            toProp: newConnection.targetHandle.replace(newConnection.target, '').split('-')[2],\n          },\n        ],\n      });\n    },\n    removeConnection(oldEdge) {\n      setSceneJSON({\n        ...sceneJSON,\n        connections: [\n          ...sceneJSON.connections.filter(\n            (c) => (c.uuid !== oldEdge.id),\n          ),\n        ],\n      });\n    },\n    removeFromParent(uuid) {\n      const filterdChildren = sceneJSON.object.children;\n      removeChild(filterdChildren, uuid, (c) => {\n        setSceneJSON({\n          ...sceneJSON,\n          object: {\n            ...sceneJSON.object,\n            children: [\n              ...filterdChildren,\n              c[0],\n            ],\n          },\n        });\n      });\n    },\n  }), [sceneJSON, setSceneJSON, removeChild, hideChild]);\n\n  appContextValue = useMemo(() => ({\n    settings: {\n    },\n    paused,\n    setPaused,\n    sceneJSON,\n    setSceneJSON,\n    ...events,\n    ...sceneUtils,\n  }), [\n    paused, setPaused,\n    sceneJSON, setSceneJSON,\n    events,\n    sceneUtils,\n  ]);\n\n  return (<AppContext.Provider value={appContextValue}>{children}</AppContext.Provider>);\n};\n\nAppManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nAppManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AppManager;\n","import { useContext } from 'react';\nimport { AppContext } from '../Managers/AppManager';\n\nexport default function useAppContext() {\n  return useContext(AppContext);\n}\n","import { useContext } from 'react';\nimport { ThreeObjectsContext } from '../Managers/ThreeObjectsManager';\n\nexport default function useThreeObjectsContext() {\n  return useContext(ThreeObjectsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nexport const EditorMenuContext = createContext(null);\n\nconst EditorMenuManager = ({\n  children,\n}) => {\n  const [editorMenuHeight, setEditorMenuHeight] = useState(500);\n  const [editorMenuOpen, setEditorMenuOpen] = useState(false);\n  const [editorMenuTab, setEditorMenuTab] = useState(0);\n\n  const editorMenuContextValue = useMemo(() => ({\n    editorMenuHeight,\n    setEditorMenuHeight,\n    editorMenuOpen,\n    setEditorMenuOpen,\n    editorMenuTab,\n    setEditorMenuTab,\n  }), [\n    editorMenuHeight, setEditorMenuHeight,\n    editorMenuOpen, setEditorMenuOpen,\n    editorMenuTab, setEditorMenuTab,\n  ]);\n\n  return (\n    <EditorMenuContext.Provider value={editorMenuContextValue}>\n      {children}\n    </EditorMenuContext.Provider>\n  );\n};\n\nEditorMenuManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default EditorMenuManager;\n","import { useContext } from 'react';\nimport { EditorMenuContext } from '../Managers/EditorMenuManager';\n\nexport default function useEditorMenuContext() {\n  return useContext(EditorMenuContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nexport const InspectorMenuContext = createContext(null);\n\nconst InspectorMenuManager = ({\n  children,\n}) => {\n  const [inspectorMenuWidth, setInspectorMenuWidth] = useState(375);\n  const [inspectorMenuOpen, setInspectorMenuOpen] = useState(false);\n  const [inspectorMenuTab, setInspectorMenuTab] = useState(0);\n\n  const inspectorMenuContextValue = useMemo(() => ({\n    inspectorMenuWidth,\n    setInspectorMenuWidth,\n    inspectorMenuOpen,\n    setInspectorMenuOpen,\n    inspectorMenuTab,\n    setInspectorMenuTab,\n  }), [\n    inspectorMenuWidth, setInspectorMenuWidth,\n    inspectorMenuOpen, setInspectorMenuOpen,\n    inspectorMenuTab, setInspectorMenuTab,\n  ]);\n\n  return (\n    <InspectorMenuContext.Provider value={inspectorMenuContextValue}>\n      {children}\n    </InspectorMenuContext.Provider>\n  );\n};\n\nInspectorMenuManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default InspectorMenuManager;\n","import { useContext } from 'react';\nimport { InspectorMenuContext } from '../Managers/InspectorMenuManager';\n\nexport default function useInspectorMenuContext() {\n  return useContext(InspectorMenuContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext, useCallback, useEffect, useMemo, useState,\n} from 'react';\n\nimport moment from 'moment';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const PeersContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let peersContextValue = {};\n\nconst PeersManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n\n  // Peer Connections\n  const [PeerRegistry] = useState(() => new Map());\n\n  const findPeer = useCallback((id) => PeerRegistry.get(id), [PeerRegistry]);\n\n  const registerPeer = useCallback((identifier, ref) => {\n    let oldRef = {};\n    if (oldRef !== undefined) {\n      oldRef = findPeer(identifier);\n      PeerRegistry.delete(identifier);\n    }\n\n    const newRef = {\n      ...oldRef,\n      ...ref,\n    };\n\n    // register by id\n    PeerRegistry.set(identifier, newRef);\n\n    publish('peer-modified', newRef);\n    publish('peers-list-changed', newRef, 'add');\n  }, [PeerRegistry, findPeer, publish]);\n\n  const unregisterPeer = useCallback((identifier) => {\n    // unregister by id\n    PeerRegistry.delete(identifier);\n    publish('peers-list-changed', identifier, 'remove');\n  }, [PeerRegistry, publish]);\n\n  const getPeersArray = useCallback(\n    () => Array.from(PeerRegistry.keys()).map((id) => PeerRegistry.get(id)),\n    [PeerRegistry],\n  );\n\n  // prune old connections\n  useEffect(() => {\n    Array.from(PeerRegistry).forEach((p) => {\n      const [id, ref] = p;\n      const freshness = moment().diff(ref.lastSeen, 'seconds');\n      if (freshness > 0) {\n        unregisterPeer(id, ref);\n      }\n    });\n  }, [PeerRegistry, unregisterPeer]);\n\n  const peerRegistryUtils = useMemo(\n    () => ({\n      findPeer,\n      registerPeer,\n      unregisterPeer,\n      getPeersArray,\n    }),\n    [\n      findPeer,\n      registerPeer,\n      unregisterPeer,\n      getPeersArray,\n    ],\n  );\n\n  peersContextValue = useMemo(() => ({\n    PeerRegistry,\n    ...peerRegistryUtils,\n  }), [\n    PeerRegistry,\n    peerRegistryUtils,\n  ]);\n\n  return (\n    <PeersContext.Provider value={peersContextValue}>\n      {children}\n    </PeersContext.Provider>\n  );\n};\n\nPeersManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default PeersManager;\n","import { useContext } from 'react';\nimport { PeersContext } from '../Managers/PeersManager';\n\nexport default function useConnectionsContext() {\n  return useContext(PeersContext);\n}\n","import niceware from 'niceware';\n\nexport default function GenerateRoomId() {\n  return niceware.generatePassphrase(6).reduce((accumulator, currentValue) => `${accumulator}-${currentValue}`);\n}\n","import { isHost } from './userCheck';\n\n// Save data in local or session storage.\nconst persistData = (key, data) => {\n  if (isHost()) {\n    // Hosts remember room details between sessions\n    // eslint-disable-next-line no-undef\n    localStorage.setItem(key, JSON.stringify(data));\n  } else {\n    // Peers will forget room details when a tab / window is closed\n    // eslint-disable-next-line no-undef\n    sessionStorage.setItem(key, JSON.stringify(data));\n  }\n};\n\nconst restoreData = (key) => {\n  if (isHost()) {\n    // eslint-disable-next-line no-undef\n    return JSON.parse(localStorage.getItem(key));\n  }\n\n  // eslint-disable-next-line no-undef\n  return JSON.parse(sessionStorage.getItem(key));\n};\n\nexport {\n  persistData,\n  restoreData,\n};\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useEffect, createContext, useState, useMemo, useCallback,\n} from 'react';\n\nimport { v4 as uuidv4 } from 'uuid';\n\nimport { joinRoom, selfId } from 'trystero';\nimport useAppContext from '../../App/Contexts/useAppContext';\nimport usePeersContext from '../../Peers/Contexts/usePeersContext';\n\nimport generateRoomId from '../../Utils/generateRoomId';\nimport { restoreData, persistData } from '../../Utils/PersistantStorage';\n\nimport { isHost } from '../../Utils/userCheck';\n\nexport const ConnectionsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let connectionsContextValue = {};\n\nconst ConnectionsManager = ({ children }) => {\n  const {\n    subscribe, unsubscribe, publish, setSceneJSON,\n  } = useAppContext();\n\n  const { findPeer } = usePeersContext();\n\n  const [connectionType] = useState((isHost()) ? 'host' : 'peer');\n\n  const [room, setRoom] = useState(null);\n  const [roomInfo, setRoomInfo] = useState(null);\n  const [roomActions] = useState(() => new Map());\n\n  // Pull from local storage\n  const me = restoreData('me');\n\n  const [ConnectionRegistry] = useState(() => new Map());\n\n  const isMounted = useRef(false);\n\n  const getMe = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.isMe === true)[0],\n    [ConnectionRegistry],\n  );\n\n  const getHost = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.isHost === true)[0],\n    [ConnectionRegistry],\n  );\n\n  const getByUUID = useCallback(\n    (uuid) => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)).filter((p) => p.uuid === uuid)[0],\n    [ConnectionRegistry],\n  );\n\n  const updateConnectionInfo = useCallback((uuid, ref) => {\n    let oldRefs = {};\n\n    if (ConnectionRegistry.has(ref.connectionId)) {\n      oldRefs = {\n        ...oldRefs,\n        ...ConnectionRegistry.get(ref.connectionId),\n      };\n      ConnectionRegistry.delete(ref.connectionId);\n    }\n\n    if (ConnectionRegistry.has(uuid)) {\n      oldRefs = {\n        ...oldRefs,\n        ...ConnectionRegistry.get(uuid),\n      };\n      ConnectionRegistry.delete(uuid);\n    }\n\n    const newRef = { ...oldRefs, ...ref };\n\n    ConnectionRegistry.set(uuid, newRef);\n    // addPeer(uuid, newRef);\n\n    if (newRef.isMe) {\n      persistData('me', newRef);\n      publish('me-modified', newRef);\n    }\n\n    if (newRef.isHost) {\n      publish('host-modified', newRef);\n    }\n\n    persistData('connections', Array.from(ConnectionRegistry));\n    publish('connection-modified', newRef);\n  }, [ConnectionRegistry, publish]);\n\n  const findConnection = useCallback((id) => ConnectionRegistry.get(id), [ConnectionRegistry]);\n\n  const registerConnection = useCallback((identifier, ref) => {\n    // register by id\n    ConnectionRegistry.set(identifier, ref);\n\n    if (ref.isMe) {\n      persistData('me', ref);\n      publish('me-modified', ref);\n    }\n\n    if (ref.isHost) {\n      publish('host-modified', ref);\n    }\n\n    persistData('connections', Array.from(ConnectionRegistry));\n\n    publish('connections-list-changed', ref, 'add');\n    publish('connection-modified', ref);\n  }, [ConnectionRegistry, publish]);\n\n  const unregisterConnection = useCallback((identifier) => {\n    // unregister by id\n    ConnectionRegistry.delete(identifier);\n    publish('connections-list-changed', identifier, 'remove');\n  }, [ConnectionRegistry, publish]);\n\n  const getConnectionsArray = useCallback(\n    () => Array.from(ConnectionRegistry.keys())\n      .map((id) => ConnectionRegistry.get(id)),\n    [ConnectionRegistry],\n  );\n\n  const getRoomInfo = useCallback(() => roomInfo, [roomInfo]);\n\n  const connectionRegistryUtils = useMemo(\n    () => ({\n      updateConnectionInfo,\n      findConnection,\n      registerConnection,\n      unregisterConnection,\n      getConnectionsArray,\n      getRoomInfo,\n      getMe,\n      getHost,\n      getByUUID,\n    }),\n    [\n      updateConnectionInfo,\n      findConnection,\n      getConnectionsArray,\n      registerConnection,\n      unregisterConnection,\n      getRoomInfo,\n      getMe,\n      getHost,\n      getByUUID,\n    ],\n  );\n\n  // Store props for context provider\n  connectionsContextValue = useMemo(() => ({\n    ConnectionRegistry,\n    ...connectionRegistryUtils,\n    connectionType,\n    room,\n    setRoom,\n    roomInfo,\n    setRoomInfo,\n  }), [\n    ConnectionRegistry,\n    connectionRegistryUtils,\n    connectionType,\n    room, setRoom,\n    roomInfo, setRoomInfo,\n  ]);\n\n  // Find, create, and save details abount a room\n  useEffect(() => {\n    if (roomInfo === null) { // There is no roomInfo, create it\n      let info = restoreData('roomInfo');\n\n      if (info === null) { // There is no stored state, make it up\n        if (isHost()) { // If there is no connection url, you're the host\n          const newId = generateRoomId();\n          info = {\n            id: newId,\n            // eslint-disable-next-line no-undef\n            url: `${window.location.href}#${newId}`,\n          };\n        } else {\n          info = {\n            // eslint-disable-next-line no-undef\n            id: window.location.hash.substr(1),\n            // eslint-disable-next-line no-undef\n            url: `${window.location.href}#${window.location.hash.substr(1)}`,\n          };\n        }\n      }\n\n      // Save / pass down room info\n      persistData('roomInfo', info);\n      setRoomInfo(info);\n    }\n  }, [roomInfo, setRoomInfo]);\n\n  // Save roomInfo updates to localstorage\n  useEffect(() => {\n    if (roomInfo !== null) {\n      persistData('roomInfo', roomInfo);\n      publish('room-modified', roomInfo);\n    }\n  }, [roomInfo, publish]);\n\n  // Create peer to peer room\n  useEffect(() => {\n    if (room === null && roomInfo !== null) {\n      setRoom(joinRoom({ appId: `Reckless Technology room ${roomInfo.id}` }, roomInfo.id));\n    }\n  }, [setRoom, room, roomInfo]);\n\n  // Create ref to access me props\n  const meRef = useMemo(() => ({\n    status: 'connected',\n    connectionId: selfId,\n    uuid: me !== null ? me.uuid : uuidv4(),\n    name: me !== null ? me.name : `new ${connectionType}`,\n    isMe: true,\n    isHost: (connectionType === 'host'),\n    mode: 'view',\n    lastSeen: Date.now(),\n  }), [me, connectionType]);\n\n  const pingMe = useCallback(() => {\n    // if (room !== null) {\n    //   console.log(`took ${room.ping(meRef.connectionId)}ms`);\n    // }\n  }, []);\n\n  const getRoomActions = useCallback(() => {\n    if (room !== null) {\n      if (roomActions.get('announce') === undefined) {\n        const [sendAnnounce, getAnnounce] = room.makeAction('announce');\n        roomActions.set('announce', { sendAnnounce, getAnnounce });\n      }\n\n      if (roomActions.get('scene') === undefined) {\n        const [sendData, getData] = room.makeAction('scene');\n        roomActions.set('scene', { sendData, getData });\n      }\n\n      return {\n        ...roomActions.get('announce'),\n        ...roomActions.get('scene'),\n      };\n    }\n    return {};\n  }, [room, roomActions]);\n\n  useEffect(() => {\n    if (room !== null) {\n      const actionsRef = getRoomActions();\n\n      // If someone connects to host\n      const connectionJoin = (id) => {\n        // Create ref to access connection props\n        const connectionRef = {\n          status: 'connected',\n          connectionId: id,\n          name: 'new connection',\n          isMe: false,\n          isHost: false,\n          mode: 'view',\n          lastSeen: Date.now(),\n        };\n\n        // Add to connection registry\n        registerConnection(id, {\n          ...connectionRef,\n          ...actionsRef,\n          ping: pingMe,\n        });\n\n        // Send your info to connected peers\n        actionsRef.sendAnnounce({\n          connectionId: meRef.connectionId,\n          uuid: meRef.uuid,\n          name: meRef.name,\n          isHost: meRef.isHost,\n        });\n      };\n\n      room.onPeerJoin((id) => connectionJoin(id));\n\n      // Add me to registry\n      registerConnection(meRef.uuid, {\n        ...meRef,\n        ...actionsRef,\n        ping: pingMe,\n      });\n\n      // Remove connection from registry if they leave the room\n      room.onPeerLeave((id) => unregisterConnection(id));\n\n      // Listen for commands\n      actionsRef.getData((data) => {\n        const peer = findPeer(data.uuid);\n        switch (data.type.toLowerCase()) {\n          default:\n            if (peer !== undefined && typeof peer.setData === 'function') {\n              peer.setData(data.payload);\n            }\n            break;\n          case 'sharescene':\n            setSceneJSON(data.payload);\n            publish('scene-changed', data.payload);\n            break;\n        }\n      });\n\n      // Listen for info about connection\n      actionsRef.getAnnounce(({\n        connectionId, uuid, name, isHost: host,\n      }) => {\n        updateConnectionInfo(uuid, {\n          connectionId, host, uuid, name, lastSeen: Date.now(),\n        });\n      });\n    }\n  }, [\n    meRef,\n    pingMe,\n    publish,\n    registerConnection,\n    room,\n    setSceneJSON,\n    unregisterConnection,\n    findConnection,\n    updateConnectionInfo,\n    findPeer,\n    getRoomActions,\n  ]);\n\n  // send updates to connections\n  const announceMeChanges = useCallback((connection) => {\n    if (isMounted.current && connection !== undefined) {\n      if (connection.isMe) {\n        if (typeof connection.sendAnnounce === 'function') {\n          connection.sendAnnounce({\n            connectionId: connection.connectionId,\n            uuid: connection.uuid,\n            name: connection.name,\n            isHost: connection.isHost,\n          });\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (meRef !== undefined) {\n      isMounted.current = true;\n      subscribe('me-modified', announceMeChanges);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', announceMeChanges);\n    };\n  }, [subscribe, unsubscribe, announceMeChanges, meRef]);\n\n  return (\n    <ConnectionsContext.Provider value={connectionsContextValue}>\n      {children}\n    </ConnectionsContext.Provider>\n  );\n};\n\nConnectionsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ConnectionsManager;\n","import { useContext } from 'react';\nimport { ConnectionsContext } from '../Managers/ConnectionsManager';\n\nexport default function useConnectionsContext() {\n  return useContext(ConnectionsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Typography, Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  roomName: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n  },\n}));\n\nconst RoomNameView = ({\n  roomId,\n}) => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <Tooltip title=\"Room ID\">\n      <Typography className={classes.roomName} variant=\"subtitle1\">{roomId}</Typography>\n    </Tooltip>\n  );\n};\n\nRoomNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomNameView.propTypes = {\n  roomId: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomNameView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomNameView from './view';\n\nconst RoomName = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n  return (\n    <RoomNameView {...{ roomId: roomInfo.id }} />\n  );\n};\n\nRoomName.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomName;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport QRCode from 'react-qr-code';\n\nconst useStyles = makeStyles(() => ({\n  qrCode: {\n    width: '100%',\n    height: '100%',\n    display: 'block',\n    position: 'relative',\n\n  },\n}));\n\nconst QRView = ({\n  size,\n  url,\n}) => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <QRCode size={size} className={classes.qrCode} value={url} />\n  );\n};\n\nQRView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nQRView.propTypes = {\n  size: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(QRView);\n","import React, {\n  useEffect, useRef, useState, useCallback,\n  memo,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { ListItemIcon } from '@material-ui/core';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport RoomQRView from './view';\n\nconst useStyles = makeStyles(() => ({\n  qrContainer: {\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst RoomQR = () => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { getRoomInfo } = useConnectionsContext();\n\n  const qrRef = useRef(null);\n  const [qrSize, setQrSize] = useState(0);\n\n  // Create local classes\n  const classes = useStyles();\n\n  useEffect(() => {\n    setQrSize(qrRef.current ? qrRef.current.offsetWidth : 0);\n  }, [qrRef]);\n\n  const [room, setRoom] = useState({});\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const r = getRoomInfo();\n      if (r !== undefined) {\n        setRoom(r);\n      }\n    }\n  }, [setRoom, getRoomInfo]);\n\n  const updateRoom = useCallback(() => { // update data only when peer list is modified\n    if (isMounted.current) {\n      const r = getRoomInfo();\n      if (r !== undefined) {\n        setRoom(r);\n      }\n    }\n  }, [getRoomInfo, setRoom]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe('room-modified', updateRoom);\n    return () => {\n      isMounted.current = false;\n      unsubscribe('room-modified', updateRoom);\n    };\n  }, [subscribe, unsubscribe, updateRoom]);\n\n  if (!room) { return null; }\n\n  return (\n    <ListItemIcon className={classes.qrContainer} ref={qrRef}>\n      <RoomQRView {...{\n        size: qrSize,\n        url: `${room.url}`,\n      }}\n      />\n    </ListItemIcon>\n  );\n};\n\nRoomQR.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(RoomQR);\n","import PropTypes, { node } from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { IconButton, Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nexport const useStyles = makeStyles(() => ({\n  menuButton: {\n    // marginRight: theme.spacing(2),\n    padding: '10px',\n  },\n}));\n\n/**\n* Basic IconButton with Tooltip.\n*/\nconst IconButtonView = ({\n  children = node,\n  label = 'default',\n  className = '',\n  disabled = false,\n  // eslint-disable-next-line no-unused-vars\n  handeClick = (event) => {},\n  ...props\n}) => {\n  const classes = useStyles();\n  return (\n    <Tooltip title={label}>\n      <span>\n        <IconButton\n          disabled={disabled}\n          size=\"small\"\n          title={label}\n          onClick={handeClick}\n          // eslint-disable-next-line react/jsx-props-no-spreading\n          {...props}\n          className={clsx(classes.menuButton, className)}\n        >\n          { children }\n        </IconButton>\n      </span>\n    </Tooltip>\n  );\n};\n\nIconButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nIconButtonView.propTypes = {\n  /**\n    Name of button. Tooltip text.\n  */\n  label: PropTypes.string.isRequired,\n  /**\n    Do something on click.\n  */\n  handeClick: PropTypes.func.isRequired,\n  /**\n    Disable button.\n  */\n  disabled: PropTypes.bool.isRequired,\n  /**\n    Icon to display.\n  */\n  children: PropTypes.node.isRequired,\n  /**\n    Override default style.\n  */\n  className: PropTypes.string.isRequired,\n};\n\nexport default memo(IconButtonView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nimport generateRoomId from '../../../../Utils/generateRoomId';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomRefreshIdButtonView = ({ setRoomInfo }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Refresh Room ID',\n        handeClick: () => {\n          setRoomInfo({\n            id: generateRoomId(),\n          });\n        },\n      }}\n      className={classes.iconButton}\n      disabled={false}\n    >\n      <RefreshIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nRoomRefreshIdButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomRefreshIdButtonView.propTypes = {\n  setRoomInfo: PropTypes.func.isRequired,\n};\n\nexport default memo(RoomRefreshIdButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomRefreshIdButtonView from './view';\n\nconst RoomRefreshIdButton = () => {\n  const { setRoomInfo } = useConnectionsContext();\n\n  return <RoomRefreshIdButtonView {...{ setRoomInfo }} />;\n};\n\nRoomRefreshIdButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomRefreshIdButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomCopyUrlButtonView = ({ url }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Copy URL',\n        handeClick: () => {\n          // eslint-disable-next-line no-undef\n          navigator.clipboard.writeText(url).then();\n        },\n      }}\n      className={classes.iconButton}\n      disabled={false}\n    >\n      <FileCopyIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nRoomCopyUrlButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomCopyUrlButtonView.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomCopyUrlButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomCopyUrlButtonView from './view';\n\nconst RoomCopyUrlButton = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n\n  return <RoomCopyUrlButtonView {...{ url: `${roomInfo.url}` }} />;\n};\n\nRoomCopyUrlButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomCopyUrlButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles, Link } from '@material-ui/core';\n\nimport OpenInNewIcon from '@material-ui/icons/OpenInNew';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    margin: '0px 27.66px',\n  },\n}));\n\nconst RoomOpenUrlButtonView = ({ url }) => {\n  const classes = useStyles();\n  return (\n    <Link href={url} target=\"_blank\" rel=\"noopener\">\n      <IconButtonView\n        {...{\n          label: 'Open URL',\n          handeClick: () => {\n          },\n        }}\n        className={classes.iconButton}\n        disabled={false}\n      >\n        <OpenInNewIcon fontSize=\"small\" />\n      </IconButtonView>\n    </Link>\n  );\n};\nRoomOpenUrlButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nRoomOpenUrlButtonView.propTypes = {\n  url: PropTypes.string.isRequired,\n};\n\nexport default memo(RoomOpenUrlButtonView);\n","import React from 'react';\n\nimport useConnectionsContext from '../../../../Connections/Contexts/useConnectionsContext';\n\nimport RoomOpenUrlButtonView from './view';\n\nconst RoomOpenUrlButton = () => {\n  const { roomInfo } = useConnectionsContext();\n\n  if (roomInfo === null) { return null; }\n\n  return <RoomOpenUrlButtonView {...{ url: `${roomInfo.url}` }} />;\n};\n\nRoomOpenUrlButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default RoomOpenUrlButton;\n","import { memo } from 'react';\n\nimport React, {\n  Typography, ListItem, List, Grid,\n} from '@material-ui/core';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport RoomName from '../RoomName';\nimport RoomQR from '../RoomQR';\nimport RoomRefreshIdButton from '../Buttons/RoomRefreshIdButton';\nimport RoomCopyUrlButton from '../Buttons/RoomCopyUrlButton';\nimport RoomOpenUrlButton from '../Buttons/RoomOpenUrlButton';\n\nimport { isHost } from '../../../Utils/userCheck';\n\nconst useStyles = makeStyles(() => ({\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst RoomInfo = () => {\n  const classes = useStyles();\n\n  return (\n    <List dense>\n      <ListItem dense>\n        <Grid spacing={0} container>\n          <Grid item xs={12}>\n            <Typography className={classes.sectionTitle}>Room</Typography>\n          </Grid>\n        </Grid>\n      </ListItem>\n      <ListItem dense>\n        <RoomQR />\n      </ListItem>\n      <ListItem dense>\n        <RoomName />\n      </ListItem>\n      <ListItem dense>\n        <Grid spacing={0} container>\n          <Grid item xs={4}>\n            {(isHost()) ? <RoomRefreshIdButton /> : null}\n          </Grid>\n          <Grid item xs={4}>\n            <RoomCopyUrlButton />\n          </Grid>\n          <Grid item xs={4}>\n            <RoomOpenUrlButton />\n          </Grid>\n        </Grid>\n      </ListItem>\n    </List>\n  );\n};\n\nRoomInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(RoomInfo);\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport RoomInfo from './Components/RoomInfo';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    paddingTop: 0,\n  },\n  listRoot: {\n    display: 'block',\n    width: '100%',\n    paddingTop: 0,\n  },\n}));\n\nconst RoomMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      role=\"tabpanel\"\n      id={`full-width-tabpanel-${0}`}\n      title={`full-width-tab-${0}`}\n      className={classes.root}\n    >\n      <List dense className={classes.listRoot}>\n        <RoomInfo />\n      </List>\n    </ListItem>\n  );\n};\n\nRoomMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(RoomMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CreateIcon from '@material-ui/icons/Create';\nimport CheckIcon from '@material-ui/icons/Check';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    padding: '5px',\n    marginLeft: '5px',\n  },\n}));\n\nconst EditPeerNameButtonView = ({ peerInfo, updateConnectionInfo }) => {\n  // Create local classes\n  const classes = useStyles();\n\n  switch (peerInfo.mode.toLowerCase()) {\n    default:\n    case 'view':\n      return (\n        <IconButtonView\n          {...{\n            label: 'Edit',\n            handeClick: () => {\n              updateConnectionInfo(peerInfo.uuid, 'cancel', { mode: 'edit' });\n            },\n          }}\n          className={classes.iconButton}\n          disabled={false}\n        >\n          <CreateIcon fontSize=\"small\" />\n        </IconButtonView>\n      );\n    case 'edit':\n      return (\n        <div>\n          <IconButtonView\n            {...{\n              label: 'Cancel',\n              handeClick: () => {\n                updateConnectionInfo(peerInfo.uuid, 'cancel', { mode: 'view' });\n              },\n            }}\n            className={classes.iconButton}\n            disabled={false}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButtonView>\n          <IconButtonView\n            {...{\n              label: 'Save',\n              handeClick: () => {\n                updateConnectionInfo(peerInfo.uuid, 'save', { mode: 'view' });\n              },\n            }}\n            className={classes.iconButton}\n            disabled={false}\n          >\n            <CheckIcon fontSize=\"small\" />\n          </IconButtonView>\n        </div>\n      );\n  }\n};\n\nEditPeerNameButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nEditPeerNameButtonView.propTypes = {\n  peerInfo: PropTypes.shape({\n    mode: PropTypes.string.isRequired,\n    uuid: PropTypes.string.isRequired,\n  }).isRequired,\n  updateConnectionInfo: PropTypes.func.isRequired,\n};\n\nexport default memo(EditPeerNameButtonView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport EditPeerNameButtonView from './view';\n\nconst EditPeerNameButton = ({ peerInfo, updateConnectionInfo }) => (\n  <EditPeerNameButtonView {...{ peerInfo, updateConnectionInfo }} />\n);\n\nEditPeerNameButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nEditPeerNameButton.propTypes = {\n  peerInfo: PropTypes.shape({}).isRequired,\n  updateConnectionInfo: PropTypes.func.isRequired,\n};\n\nexport default EditPeerNameButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { ListItemAvatar, Avatar } from '@material-ui/core';\n\nconst PeerAvatar = ({ peerInfo }) => (\n  <ListItemAvatar>\n    <Avatar alt={peerInfo.isHost ? 'host' : 'Peer'} src=\"\" />\n  </ListItemAvatar>\n);\n\nPeerAvatar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerAvatar.propTypes = {\n  peerInfo: PropTypes.shape({\n    isHost: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default memo(PeerAvatar);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItemText } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  multiline: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n  },\n}));\n\nconst PeerNameView = ({ primary, secondary }) => {\n  const classes = useStyles();\n  return (\n    <ListItemText\n      classes={{\n        multiline: classes.multiline,\n      }}\n      primary={primary}\n      secondary={secondary}\n    />\n  );\n};\n\nPeerNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerNameView.propTypes = {\n  primary: PropTypes.string.isRequired,\n  secondary: PropTypes.string.isRequired,\n};\n\nexport default memo(PeerNameView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { TextField } from '@material-ui/core';\n\nconst PeerNameView = ({ value, onNameUpdate }) => (\n  <TextField id=\"standard-basic\" label=\"Edit name\" value={value} onChange={onNameUpdate} />\n);\n\nPeerNameView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerNameView.propTypes = {\n  value: PropTypes.string.isRequired,\n  onNameUpdate: PropTypes.func.isRequired,\n};\n\nexport default memo(PeerNameView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PeerNameView from './view';\nimport PeerNameEdit from './edit';\n\nconst PeerName = ({ peerInfo, onNameUpdate }) => {\n  const {\n    mode, name, uuid, isMe, connectionId,\n  } = peerInfo;\n  switch (mode.toLowerCase()) {\n    default:\n    case 'waiting':\n      return <PeerNameView {...{ primary: '...loading', secondary: '' }} />;\n    case 'view':\n      return <PeerNameView {...{ primary: `${name} (${uuid})`, secondary: `${(isMe) ? 'me' : 'peer'} (${connectionId})` }} />;\n    case 'edit':\n      return <PeerNameEdit {...{ value: name, onNameUpdate }} />;\n  }\n};\n\nPeerName.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerName.propTypes = {\n  peerInfo: PropTypes.shape({\n    mode: PropTypes.string,\n    name: PropTypes.string,\n    uuid: PropTypes.string,\n    isMe: PropTypes.bool,\n    connectionId: PropTypes.string,\n  }).isRequired,\n  onNameUpdate: PropTypes.func.isRequired,\n};\n\nexport default PeerName;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItemSecondaryAction } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbarButtons: {\n    padding: '15px 0 15px 15px',\n    right: 0,\n    background: `linear-gradient(to left, ${theme.palette.background.paper} 90%, rgba(0,0,0,0))`,\n  },\n}));\n\nconst PeerToolbar = ({ children }) => {\n  const classes = useStyles();\n  return (\n    <ListItemSecondaryAction className={classes.toolbarButtons}>\n      {children}\n    </ListItemSecondaryAction>\n  );\n};\n\nPeerToolbar.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default memo(PeerToolbar);\n","import React, {\n  memo, useCallback, useEffect, useRef, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid, List, Divider, Typography,\n} from '@material-ui/core';\n\nimport EditPeerNameButton from '../Buttons/EditPeerNameButton';\n\nimport PeerAvatar from '../PeerAvatar';\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../Toolbars/PeerToolbar';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n    overflow: 'hidden',\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst HostInfo = () => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo, getHost } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [hostName, setHostName] = useState(null);\n  const [host, setHost] = useState(null);\n\n  const isMounted = useRef(false);\n\n  useEffect(() => { // update data on load\n    const h = getHost();\n    if (h !== undefined) {\n      setHost(h);\n      setHostName(h.name);\n    }\n  }, [getHost, setHost]);\n\n  const updateHost = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const h = getHost();\n      if (h !== undefined) {\n        setHost(h);\n        setHostName(h.name);\n      }\n    }\n  }, [getHost, setHost]);\n\n  useEffect(() => {\n    if (getHost !== undefined) {\n      isMounted.current = true;\n      subscribe('host-modified', updateHost);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('host-modified', updateHost);\n    };\n  }, [subscribe, unsubscribe, getHost, updateHost]);\n\n  const updateName = useCallback((e) => {\n    setHostName(e.currentTarget.value);\n  }, [setHostName]);\n\n  const updateHostInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: hostName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, hostName]);\n\n  if (host === null || hostName === null) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Host</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n              <PeerAvatar {...{ peerInfo: host }} />\n              <PeerName {...{ peerInfo: { ...host, name: hostName }, onNameUpdate: updateName }} />\n              {(!host.isMe) ? null : (\n                <PeerToolbar>\n                  <EditPeerNameButton {...{\n                    peerInfo: host, updateConnectionInfo: updateHostInfo,\n                  }}\n                  />\n                </PeerToolbar>\n              )}\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nHostInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(HostInfo);\n","import React, {\n  memo, useCallback, useEffect, useRef, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid, List, Divider, Typography,\n} from '@material-ui/core';\n\nimport PeerAvatar from '../PeerAvatar';\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../Toolbars/PeerToolbar';\n\nimport EditPeerNameButton from '../Buttons/EditPeerNameButton';\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n    overflow: 'hidden',\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst MeInfo = () => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo, getMe } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [meName, setMeName] = useState(null);\n  const [me, setMe] = useState(null);\n\n  const isMounted = useRef(false);\n\n  useEffect(() => { // update data on load\n    const m = getMe();\n    if (m !== undefined) {\n      setMe(m);\n      setMeName(m.name);\n    }\n  }, [getMe, setMe]);\n\n  const updateMe = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const h = getMe();\n      if (h !== undefined) {\n        setMe(h);\n        setMeName(h.name);\n      }\n    }\n  }, [getMe, setMe]);\n\n  useEffect(() => {\n    if (getMe !== undefined) {\n      isMounted.current = true;\n      subscribe('me-modified', updateMe);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', updateMe);\n    };\n  }, [getMe, subscribe, unsubscribe, updateMe]);\n\n  const updateName = useCallback((e) => {\n    setMeName(e.currentTarget.value);\n  }, [setMeName]);\n\n  const updateMeInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: meName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, meName]);\n\n  if (me === null || meName === null || me.isHost) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Me</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n              <PeerAvatar {...{ peerInfo: me }} />\n              <PeerName {...{ peerInfo: { ...me, name: meName }, onNameUpdate: updateName }} />\n              {(!me.isMe) ? null : (\n                <PeerToolbar>\n                  <EditPeerNameButton {...{ peerInfo: me, updateConnectionInfo: updateMeInfo }} />\n                </PeerToolbar>\n              )}\n            </ListItem>\n          </List>\n        </Grid>\n        <Grid item xs={12}>\n          <Divider />\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nMeInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(MeInfo);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useState, useRef, useEffect,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Menu, MenuItem,\n} from '@material-ui/core';\n\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\n\nimport testJSON from '../../../../../scenes/TestScene.json';\nimport posenetJSON from '../../../../../scenes/PosenetScene.json';\nimport useAppContext from '../../../../App/Contexts/useAppContext';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  iconButton: {\n    padding: '5px',\n    marginLeft: '5px',\n    position: 'relative',\n  },\n  sceneMenu: {\n    left: 100,\n  },\n}));\n\nconst ShareScenePeerButtonView = ({ me, peerInfo }) => {\n  const { uuid: meUUID, connectionId: meConnectionId } = me;\n  const { sendData, connectionId, isMe } = peerInfo;\n  const { sceneJSON } = useAppContext();\n  const buttonRef = useRef(null);\n\n  // Create local classes\n  const classes = useStyles();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  useEffect(() => {\n    if (buttonRef.current !== undefined) {\n      setAnchorEl(buttonRef.current);\n    }\n  }, [buttonRef, setAnchorEl]);\n\n  const openMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenu = (e) => {\n    const { menuValue } = e.currentTarget.dataset;\n    let json = {};\n    switch (menuValue.toLowerCase()) {\n      default:\n      case 'my':\n        json = sceneJSON;\n        break;\n      case 'test':\n        json = testJSON;\n        break;\n      case 'posenet':\n        json = posenetJSON;\n        break;\n    }\n    if (typeof sendData === 'function') {\n      sendData({\n        type: 'shareScene', payload: json, uuid: meUUID, from: meConnectionId, timestamp: Date.now,\n      }, connectionId);\n    }\n    setAnchorEl(null);\n  };\n\n  return (\n    <div style={{ display: 'block' }}>\n      <IconButtonView\n        {...{\n          label: isMe ? 'Share Scene With Everyone' : 'Share Scene',\n          handeClick: (evt) => {\n            openMenu(evt);\n          },\n        }}\n        className={classes.iconButton}\n        disabled={false}\n      >\n        <OpenInBrowserIcon fontSize=\"small\" />\n      </IconButtonView>\n      <Menu\n        className={classes.sceneMenu}\n        id=\"scene-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={open}\n        onClose={closeMenu}\n      >\n        <MenuItem dense data-menu-value=\"mine\" onClick={closeMenu}>My Scene</MenuItem>\n        <MenuItem dense data-menu-value=\"test\" onClick={closeMenu}>Test Scene</MenuItem>\n        <MenuItem dense data-menu-value=\"posenet\" onClick={closeMenu}>Posenet</MenuItem>\n      </Menu>\n    </div>\n  );\n};\n\nShareScenePeerButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShareScenePeerButtonView.propTypes = {\n  me: PropTypes.shape({\n    uuid: PropTypes.string,\n    connectionId: PropTypes.string,\n  }).isRequired,\n  peerInfo: PropTypes.shape({\n    sendData: PropTypes.func,\n    connectionId: PropTypes.string,\n    isMe: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default memo(ShareScenePeerButtonView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\n\nimport useAppContext from '../../../../App/Contexts/useAppContext';\nimport useConnectionsContext from '../../../../Connections/Contexts/useConnectionsContext';\n\nimport ShareScenePeerButtonView from './view';\n\nconst ShareScenePeerButton = ({ peerInfo }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { getMe } = useConnectionsContext();\n\n  const [me, setMe] = useState({});\n\n  const isMounted = useRef(false);\n\n  useEffect(() => {\n    const m = getMe();\n    if (m !== undefined) {\n      setMe(m);\n    }\n  }, [setMe, getMe]);\n\n  const updateMe = useCallback(() => { // update data only when peer list is modified\n    if (isMounted.current) {\n      const m = getMe();\n      if (m !== undefined) {\n        setMe(m);\n      }\n    }\n  }, [getMe, setMe]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe('me-modified', updateMe);\n    return () => {\n      isMounted.current = false;\n      unsubscribe('me-modified', updateMe);\n    };\n  }, [subscribe, unsubscribe, updateMe]);\n\n  if (!me) { return null; }\n\n  return <ShareScenePeerButtonView {...{ me, peerInfo }} />;\n};\n\nShareScenePeerButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShareScenePeerButton.propTypes = {\n  peerInfo: PropTypes.shape({}).isRequired,\n};\n\nexport default ShareScenePeerButton;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useState, useCallback, useEffect,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport { ListItem } from '@material-ui/core';\n\nimport PeerName from '../PeerName';\nimport PeerToolbar from '../Toolbars/PeerToolbar';\nimport ShareScenePeerButton from '../Buttons/ShareScenePeerButton';\nimport PeerAvatar from '../PeerAvatar';\nimport EditPeerNameButton from '../Buttons/EditPeerNameButton';\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n  },\n  buttons: {\n    right: 0,\n  },\n}));\n\nconst PeerInfo = ({ peerInfo }) => {\n  const classes = useStyles();\n\n  const { updateConnectionInfo } = useConnectionsContext();\n\n  const [peerName, setPeerName] = useState(null);\n\n  const updateName = useCallback((e) => {\n    setPeerName(e.currentTarget.value);\n  }, [setPeerName]);\n\n  const updateInfo = useCallback((id, type, val) => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'cancel':\n        updateConnectionInfo(id, val);\n        break;\n      case 'save':\n        updateConnectionInfo(id, {\n          ...val,\n          name: peerName,\n        });\n        break;\n    }\n  }, [updateConnectionInfo, peerName]);\n\n  useEffect(() => {\n    if (peerInfo) {\n      setPeerName(peerInfo.name);\n    }\n  }, [peerInfo, setPeerName]);\n\n  if (!peerInfo || peerName === null) { return <ListItem dense className={classes.listItem} alignItems=\"flex-start\">No</ListItem>; }\n\n  return (\n    <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n      <PeerAvatar {...{ peerInfo }} />\n      <PeerName {...{ peerInfo: { ...peerInfo, name: peerName }, onNameUpdate: updateName }} />\n      <PeerToolbar>\n        {(!peerInfo.isMe)\n          ? null : <EditPeerNameButton {...{ peerInfo, updateConnectionInfo: updateInfo }} />}\n        {(peerInfo.isHost) ? null : <ShareScenePeerButton {...{ peerInfo }} /> }\n      </PeerToolbar>\n    </ListItem>\n  );\n};\n\nPeerInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerInfo.propTypes = {\n  peerInfo: PropTypes.shape({\n    name: PropTypes.string,\n    isMe: PropTypes.bool,\n    isHost: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default memo(PeerInfo);\n","import React, {\n  useRef, useState, useEffect, useCallback,\n  memo,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  List, ListItem, Grid, Typography,\n} from '@material-ui/core';\n\nimport useConnectionsContext from '../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport PeerInfo from '../PeerInfo';\n\nconst useStyles = makeStyles(() => ({\n  listItem: {\n    padding: 0,\n  },\n  list: {\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst PeersList = () => {\n  const { getConnectionsArray } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const classes = useStyles();\n\n  const [connections, setConnections] = useState([]);\n\n  const isMounted = useRef(false);\n\n  const updateConnections = useCallback(() => { // update data again when peer list is modified\n    if (isMounted.current) {\n      const peer = getConnectionsArray();\n      if (peer !== undefined && isMounted.current) {\n        setConnections(peer.filter((p) => (!p.isMe && !p.isHost)));\n      }\n    }\n  }, [getConnectionsArray, setConnections]);\n\n  useEffect(() => { // update data on load\n    const peer = getConnectionsArray();\n    if (peer !== undefined) {\n      isMounted.current = true;\n      setConnections(peer.filter((p) => (!p.isMe && !p.isHost)));\n      subscribe('connection-modified', updateConnections);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('connection-modified', updateConnections);\n    };\n  }, [setConnections, getConnectionsArray, subscribe, unsubscribe, updateConnections]);\n\n  if (connections.length === 0) { return null; }\n\n  return (\n    <ListItem dense className={classes.listItem}>\n      <Grid spacing={0} container>\n        <Grid item xs={12}>\n          <Typography className={classes.sectionTitle}>Peers</Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <List dense className={classes.list}>\n            {connections.map((peer) => <PeerInfo key={peer.connectionId} peerInfo={peer} />)}\n          </List>\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nPeersList.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(PeersList);\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport HostInfo from '../HostInfo';\nimport MeInfo from '../MeInfo';\nimport PeersList from '../PeersList';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    width: '100%',\n  },\n  listItem: {\n    paddingTop: 0,\n  },\n}));\n\nconst PeersInfo = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n\n    <ListItem dense className={classes.listItem}>\n      <List dense className={classes.list}>\n        <MeInfo />\n        <HostInfo />\n        <PeersList />\n      </List>\n    </ListItem>\n  );\n};\n\nPeersInfo.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(PeersInfo);\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List, ListItem } from '@material-ui/core';\n\nimport PeersInfo from './Components/PeersInfo';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'block',\n    width: '100%',\n    padding: 0,\n  },\n  listItem: {\n    paddingTop: 0,\n  },\n}));\n\nconst PeersMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      role=\"tabpanel\"\n      id={`full-width-tabpanel-${0}`}\n      title={`full-width-tab-${0}`}\n      className={classes.listItem}\n    >\n      <List dense className={classes.root}>\n        <PeersInfo />\n      </List>\n    </ListItem>\n  );\n};\n\nPeersMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(PeersMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst InspectorCloseButtonView = ({ inspectorMenuOpen, setInspectorMenuOpen }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          setInspectorMenuOpen(!inspectorMenuOpen);\n        },\n      }}\n      className={classes.button}\n      disabled={false}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nInspectorCloseButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nInspectorCloseButtonView.propTypes = {\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  setInspectorMenuOpen: PropTypes.func.isRequired,\n};\n\nexport default memo(InspectorCloseButtonView);\n","import React from 'react';\n\nimport InspectorCloseButtonView from './view';\n\nimport useInspectorMenuContext from '../../../Contexts/useInspectorMenuContext';\n\nconst InspectorCloseButton = () => {\n  const { inspectorMenuOpen, setInspectorMenuOpen } = useInspectorMenuContext();\n\n  return <InspectorCloseButtonView {...{ inspectorMenuOpen, setInspectorMenuOpen }} />;\n};\n\nInspectorCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default InspectorCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faUsers, faHome, faQuestion,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  AppBar, Toolbar, Tabs, Tooltip, Tab,\n} from '@material-ui/core';\n\nimport InspectorCloseButton from '../../Buttons/InspectorCloseButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    flexGrow: 0,\n    minHeight: 'auto !important',\n  },\n  tabRoot: {\n    minWidth: '50px',\n  },\n}));\n\nconst InspectorToolbarView = ({ value, handleChange }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <InspectorCloseButton />\n          <div className={classes.spacer} />\n          <Tabs\n            value={value}\n            onChange={(event, newValue) => handleChange(newValue)}\n            variant=\"scrollable\"\n            indicatorColor=\"secondary\"\n            textColor=\"secondary\"\n            scrollButtons=\"off\"\n            title=\"Inspect\"\n          >\n            <Tooltip title=\"Room\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={(<FontAwesomeIcon icon={faHome} />)}\n                title=\"room\"\n                {...{\n                  id: 'room-tab-0',\n                  'aria-controls': 'room-tabpanel-0',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Peers\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faUsers} />}\n                title=\"peers\"\n                {...{\n                  id: 'peers-tab-1',\n                  'aria-controls': 'peers-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Help\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faQuestion} />}\n                title=\"help\"\n                {...{\n                  id: 'help-tab-1',\n                  'aria-controls': 'help-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n          </Tabs>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nInspectorToolbarView.propTypes = {\n  value: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default memo(InspectorToolbarView);\n","import React from 'react';\n\nimport InspectorToolbarView from './view';\n\nconst InspectorToolbar = (props) => (\n  <InspectorToolbarView {...props} />\n);\n\nInspectorToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default InspectorToolbar;\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  List, ListItem, Typography, Grid, Divider, Link,\n  ListItemAvatar, Avatar,\n} from '@material-ui/core';\n\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport BugReportIcon from '@material-ui/icons/BugReport';\nimport InfoIcon from '@material-ui/icons/Info';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    paddingTop: 0,\n  },\n  listRoot: {\n    display: 'block',\n    width: '100%',\n    paddingTop: 0,\n  },\n  listItem: {\n    width: '100%',\n  },\n  itemText: {\n    color: '#fff',\n  },\n}));\n\nconst HelpMenu = () => {\n  // Create local classes\n  const classes = useStyles();\n\n  return (\n    <ListItem className={classes.root}>\n      <List dense className={classes.listRoot}>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://travisbennett.com\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\" />\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Reckless Technology was created by Travis Bennett.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><GitHubIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Source code available on github.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/wiki\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><InfoIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Find more information on the Wiki.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n        <ListItem dense className={classes.listItem}>\n          <Grid spacing={0} container>\n            <Grid item xs={12}>\n              <List dense className={classes.list}>\n                <Link href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/issues\" target=\"_blank\">\n                  <ListItem dense className={classes.listItem} alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar alt=\"\" src=\"\"><BugReportIcon /></Avatar>\n                    </ListItemAvatar>\n                    <Typography className={classes.itemText}>\n                      Feedback? Bugs? Report issues here.\n                    </Typography>\n                  </ListItem>\n                </Link>\n              </List>\n            </Grid>\n            <Grid item xs={12}>\n              <Divider />\n            </Grid>\n          </Grid>\n        </ListItem>\n      </List>\n    </ListItem>\n  );\n};\n\nHelpMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(HelpMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Drawer,\n} from '@material-ui/core';\n\nimport RoomMenu from '../Room';\nimport PeersMenu from '../Peers';\nimport InspectorToolbar from './Components/Toolbars/InspectorToolbar';\nimport HelpMenu from '../Help/Menus/HelpMenu';\n\nconst useStyles = makeStyles((theme) => ({\n  drawer: {\n    transition: theme.transitions.create('height', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    height: (props) => (`calc(100% - ${(props.editorMenuOpen ? props.editorMenuHeight : 0)}px)`),\n    width: (props) => (props.inspectorMenuWidth),\n    position: 'fixed',\n    right: 0,\n    top: 0,\n    zIndex: 1300,\n  },\n  drawerPaper: {\n    position: 'relative',\n    height: '100%',\n    width: '100%',\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n}));\n\nconst InspectorView = ({\n  editorMenuOpen,\n  editorMenuHeight,\n  inspectorMenuWidth,\n  inspectorMenuOpen,\n  inspectorMenuTab,\n  setInspectorMenuTab,\n}) => {\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuWidth,\n  });\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"right\"\n      open={inspectorMenuOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <InspectorToolbar {...{ handleChange: setInspectorMenuTab, value: inspectorMenuTab }} />\n      {inspectorMenuTab === 0 ? <RoomMenu /> : null}\n      {inspectorMenuTab === 1 ? <PeersMenu /> : null}\n      {inspectorMenuTab === 2 ? <HelpMenu /> : null}\n    </Drawer>\n  );\n};\n\nInspectorView.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuTab: PropTypes.number.isRequired,\n  setInspectorMenuTab: PropTypes.func.isRequired,\n};\n\nInspectorView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(InspectorView);\n","import React from 'react';\n\nimport useEditorMenuContext from '../Editor/Contexts/useEditorMenuContext';\nimport useInspectorMenuContext from './Contexts/useInspectorMenuContext';\n\nimport InspectorView from './view';\n\nconst Inspector = () => {\n  const { editorMenuOpen, editorMenuHeight } = useEditorMenuContext();\n  const {\n    inspectorMenuWidth,\n    inspectorMenuOpen,\n    setInspectorMenuOpen,\n    inspectorMenuTab,\n    setInspectorMenuTab,\n  } = useInspectorMenuContext();\n\n  return (\n    <InspectorView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      inspectorMenuWidth,\n      inspectorMenuOpen,\n      setInspectorMenuOpen,\n      inspectorMenuTab,\n      setInspectorMenuTab,\n    }}\n    />\n  );\n};\n\nInspector.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default Inspector;\n","// Take threejs JSON Object Scene format:\n// https://github.com/mrdoob/three.js/wiki/JSON-Object-Scene-format-4\n// and converts it for use in React Flow\n// https://reactflow.dev/docs/\n\n// Default size of patches\nconst width = 150;\nconst height = 245;\n\n// Limit depth of parent / child render\nconst limit = 2;\n\nconst dimensionsLookup = (type) => {\n  switch (type.toLowerCase()) {\n    default:\n      return [width, height];\n    case 'orbit':\n    case 'sinewave':\n      return [width, 100];\n  }\n};\n\nconst typeLookup = (props) => {\n  switch (props.type.toLowerCase()) {\n    default:\n      return 'threeObj';\n    case 'scene':\n      return props.type;\n    case 'orbit':\n    case 'sinewave':\n      return 'generator';\n    case 'peer':\n      return 'peer';\n  }\n};\n\n// Build object for React Flow\nconst makeFlowProps = (props, parents, hidden, hideChildren, type) => ({\n  type,\n  id: `${props.uuid}`,\n  data: {\n    children: [],\n    ...props,\n    parents,\n    width: dimensionsLookup(type)[0],\n    height: dimensionsLookup(type)[1],\n    label: props.name,\n    isChildHidden: hideChildren,\n    isPatchHidden: (props.userData !== undefined) ? props.userData.isPatchHidden : false,\n  },\n  isHidden: (props.userData !== undefined) ? props.userData.isPatchHidden : false,\n  parents,\n  children: [],\n});\n\n// Recursive. Traverses 3d scene and makes a patch for each object.\nconst sceneGraphToFlow = (children, parents, level) => {\n  const nextLevel = level + 1;\n  if (children === undefined || children.length === 0) {\n    return [];\n  }\n  return children.map((c) => ([\n    {\n      ...makeFlowProps(c, parents, (level > limit), (level + 1 > limit), typeLookup(c)),\n      children: sceneGraphToFlow(c.children, c.uuid, nextLevel),\n    },\n    ...sceneGraphToFlow(c.children, [...parents, c.uuid], nextLevel),\n  ])).flat();\n};\n\nconst sceneConnectionsToFlow = (children) => children\n  .filter((c) => (!c.isHidden && c.parents.length > 0)).map((c) => ({\n    id: `${c.id}-parent-${c.parents[c.parents.length - 1]}-set-children`,\n    type: 'customLineage',\n    data: {\n      ...c,\n      label: c.uuid,\n    },\n\n    source: `${c.id}`,\n    sourceHandle: `${c.id}-parent`,\n\n    target: `${c.parents[c.parents.length - 1]}`,\n    targetHandle: `${c.parents[c.parents.length - 1]}-set-children`,\n\n    animated: false,\n  }));\n\nconst connectionsToFlow = (connections) => connections.map((c) => ({\n  id: `${c.uuid}`,\n  type: 'custom',\n\n  source: `${c.from}`,\n  sourceHandle: `${c.from}-${c.fromProp}`,\n\n  target: `${c.to}`,\n  targetHandle: `${c.to}-set-${c.toProp}`,\n\n  animated: true,\n}));\n\nconst generatorsToFlow = (generators) => generators.map((props) => makeFlowProps(props, 'scene', false, false, 'generator'));\n\nconst peersToFlow = (peers) => peers.map((props) => makeFlowProps(props, 'scene', false, false, 'peer'));\n\nconst devicesToFlow = (devices) => devices.map((props) => makeFlowProps(props, 'scene', false, false, 'device'));\n\nconst widgetsToFlow = (widgets) => widgets.map((props) => makeFlowProps(props, 'scene', false, false, 'widget'));\n\nconst transformsToFlow = (transforms) => transforms.map((props) => makeFlowProps(props, 'scene', false, false, 'transform'));\n\nconst rtSceneToFlow = (rtScene) => [\n  ...widgetsToFlow(rtScene.widgets),\n\n  ...peersToFlow(rtScene.peers),\n  ...devicesToFlow(rtScene.devices),\n\n  ...generatorsToFlow(rtScene.generators),\n  ...transformsToFlow(rtScene.transforms),\n\n  ...connectionsToFlow(rtScene.connections),\n\n  // regular three.js scene graph\n  ...sceneGraphToFlow([rtScene.object], [], 1),\n  ...sceneConnectionsToFlow(sceneGraphToFlow([rtScene.object], [], 1)),\n\n];\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  rtSceneToFlow,\n  sceneGraphToFlow,\n  devicesToFlow,\n  widgetsToFlow,\n  peersToFlow,\n  generatorsToFlow,\n  transformsToFlow,\n  connectionsToFlow,\n};\n","export default __webpack_public_path__ + \"static/media/gltf_file.2fbdcb18.png\";","import React from 'react';\n\nimport PersonIcon from '@material-ui/icons/Person';\nimport EmojiObjectsIcon from '@material-ui/icons/EmojiObjects';\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faQuestion, faLayerGroup,\n  faCube, faWaveSquare,\n  faMouse, faKeyboard, faVideo,\n  faCalculator,\n  faPlus, faMinus, faTimes, faDivide, faThLarge,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport GLTF_ICON from '../ThreeObjects/Assets/gltf_file.png';\n\nconst getIconByType = (type) => {\n  if (type.toLowerCase().includes('light')) {\n    return <EmojiObjectsIcon fontSize=\"small\" />;\n  }\n  switch (type.toLowerCase()) {\n    default:\n      return <FontAwesomeIcon title={type} icon={faQuestion} />;\n    case 'gltf':\n      return (\n        <img\n          src={GLTF_ICON}\n          alt={type}\n          fill=\"#FFF\"\n          style={{\n            width: 20,\n            height: 20,\n            filter: 'invert(100%)',\n          }}\n        />\n      );\n    case 'group':\n      return <FontAwesomeIcon title={type} icon={faLayerGroup} />;\n    case 'generator':\n      return <FontAwesomeIcon title={type} icon={faWaveSquare} />;\n    case 'peer':\n      return <PersonIcon title={type} fontSize=\"small\" />;\n    case 'device':\n      return <FontAwesomeIcon title={type} icon={faMouse} />;\n    case 'mesh':\n      return <FontAwesomeIcon title={type} icon={faCube} />;\n    case 'scene':\n      return <ImageIcon title={type} fontSize=\"small\" />;\n    case 'calculator':\n      return <FontAwesomeIcon title={type} icon={faCalculator} />;\n    case 'mouse':\n      return <FontAwesomeIcon title={type} icon={faMouse} />;\n    case 'keyboard':\n      return <FontAwesomeIcon title={type} icon={faKeyboard} />;\n    case 'camera':\n      return <FontAwesomeIcon title={type} icon={faVideo} />;\n    case 'add':\n      return <FontAwesomeIcon title={type} icon={faPlus} />;\n    case 'subtract':\n      return <FontAwesomeIcon title={type} icon={faMinus} />;\n    case 'multiply':\n      return <FontAwesomeIcon title={type} icon={faTimes} />;\n    case 'divide':\n      return <FontAwesomeIcon title={type} icon={faDivide} />;\n    case 'preview':\n      return <FontAwesomeIcon title={type} icon={faThLarge} />;\n  }\n};\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  getIconByType,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, ListItemText, ListItemIcon, Tooltip,\n} from '@material-ui/core';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: '0 13px 0 13px',\n  },\n  propIcon: {\n    minWidth: '30px',\n  },\n  propText: {\n    whiteSpace: 'nowrap',\n  },\n}));\n\n/**\n* Basic Icon and Title for Patches.\n*/\nconst PatchDetails = ({\n  name = 'Patch',\n  type = 'mesh',\n  uuid = 'xxx',\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Tooltip title={type}>\n        <ListItemIcon\n          className={classes.propIcon}\n        >\n          {getIconByType(type)}\n        </ListItemIcon>\n      </Tooltip>\n      <Tooltip title={uuid}>\n        <ListItemText\n          className={classes.propText}\n          primary={name}\n        />\n      </Tooltip>\n    </ListItem>\n  );\n};\n\nPatchDetails.propTypes = {\n  /**\n  * Name of Patch.\n  */\n  name: PropTypes.string.isRequired,\n  /**\n  * Type of Patch.\n  */\n  type: PropTypes.string.isRequired,\n  /**\n  * Unique Patch ID.\n  */\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(PatchDetails);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { Handle } from 'react-flow-renderer';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(() => ({\n  handle: {\n    width: '10px',\n    height: '10px',\n    position: 'relative',\n    margin: 0,\n    padding: 0,\n  },\n  handleLeft: {\n    float: 'left',\n    left: '-10px',\n    borderLeft: 'none',\n    background: '#333',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n  handleRight: {\n    float: 'right',\n    right: '-10px',\n    borderRight: 'none',\n    background: '#333',\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nconst OutputHandle = ({ uuid, propName }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip title={`${uuid}-${propName}`}>\n      <div>\n        <Handle\n          type=\"source\"\n          position=\"right\"\n          id={`${uuid}-${propName}`}\n          // eslint-disable-next-line no-console\n          isValidConnection={(connection) => { console.log('Output isValid: ', connection); return true; }}\n          // eslint-disable-next-line no-console\n          onConnect={(params) => { console.log('Output onConnect: ', params); }}\n          className={clsx(classes.handle, classes.handleRight)}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nOutputHandle.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default memo(OutputHandle);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { Handle, Position } from 'react-flow-renderer';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Tooltip } from '@material-ui/core';\n\nimport clsx from 'clsx';\n\nconst useStyles = makeStyles(() => ({\n  handle: {\n    width: '10px',\n    height: '10px',\n    position: 'relative',\n    margin: 0,\n    padding: 0,\n  },\n  handleLeft: {\n    float: 'left',\n    left: '-10px',\n    borderLeft: 'none',\n    background: '#333',\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n  },\n  handleRight: {\n    float: 'right',\n    right: '-10px',\n    borderRight: 'none',\n    background: '#333',\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n}));\n\nconst InputHandle = ({ uuid, propName }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip title={`${uuid}-set-${propName}`}>\n      <div>\n        <Handle\n          type=\"target\"\n          position={Position.Left}\n          id={`${uuid}-set-${propName}`}\n          // eslint-disable-next-line no-console\n          isValidConnection={(connection) => { console.log('Input isValid: ', connection); return true; }}\n          // eslint-disable-next-line no-console\n          onConnect={(params) => { console.log('Input onConnect: ', params); }}\n          className={clsx(classes.handle, classes.handleLeft)}\n        />\n      </div>\n    </Tooltip>\n  );\n};\n\nInputHandle.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default memo(InputHandle);\n","import PropTypes from 'prop-types';\n\nimport React, { memo, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Accordion, AccordionDetails, AccordionSummary,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  propAccord: {\n    width: '100%',\n    marginBottom: '0px !important',\n    background: 'none',\n    boxShadow: 'none',\n    borderRadius: 0,\n    // border: '1px solid green',\n  },\n  propSummary: {\n    padding: '5px 0px',\n    width: '100%',\n    minHeight: '0px !important',\n  },\n  propSummaryContent: {\n    margin: '0 !important',\n  },\n  propSummaryExapand: {\n    margin: 0,\n    padding: 0,\n  },\n  propDetails: {\n    margin: 0,\n    padding: 0,\n    paddingBottom: 10,\n    width: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst PropAccordianView = ({\n  children, header, expandIcon, defaultOpen,\n}) => {\n  const [showDetails, setShowDetails] = useState(defaultOpen);\n\n  const classes = useStyles();\n  return (\n    <Accordion\n      className={classes.propAccord}\n      expanded={showDetails}\n      onChange={(event, val) => {\n        setShowDetails(val);\n      }}\n    >\n      <AccordionSummary\n        classes={{\n          root: classes.propSummary,\n          content: classes.propSummaryContent,\n          expandIcon: classes.propSummaryExapand,\n        }}\n        expandIcon={expandIcon}\n      >\n        {header}\n      </AccordionSummary>\n      <AccordionDetails className={classes.propDetails}>\n        { (showDetails) ? children : null }\n      </AccordionDetails>\n    </Accordion>\n  );\n};\n\nPropAccordianView.propTypes = {\n  children: PropTypes.node.isRequired,\n  header: PropTypes.shape({}).isRequired,\n  expandIcon: PropTypes.node.isRequired,\n  defaultOpen: PropTypes.bool.isRequired,\n};\n\nexport default memo(PropAccordianView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport clsx from 'clsx';\n\nimport {\n  ListItemSecondaryAction,\n  List, ListItemText, ListItemIcon,\n  ListItem, Typography, Grid,\n  Tooltip,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faSignOutAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport OutputHandle from '../OutputHandle';\nimport InputHandle from '../InputHandle';\n\nimport PropAccordianView from '../PropAccordian/view';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propAccordList: {\n    margin: 0,\n    padding: 0,\n  },\n  toolbar: {\n    padding: 0,\n    position: 'fixed',\n    bottom: 0,\n  },\n  propAccord: {\n    width: '100%',\n    marginBottom: '0px !important',\n    background: 'none',\n    boxShadow: 'none',\n    borderRadius: 0,\n  },\n  propSummary: {\n    padding: '0 0px',\n    width: '100%',\n    minHeight: '25px !important',\n  },\n  propSummaryContent: {\n    margin: '0 !important',\n  },\n  propSummaryExapand: {\n    padding: '0 12px',\n  },\n  propDetails: {\n    padding: 0,\n    width: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  iconButton: {\n    // margin: 0,\n    // padding: 0,\n  },\n  childList: {\n    width: '100%',\n  },\n  childListItem: {\n    padding: 0,\n  },\n  secondRoot: {\n    right: 0,\n    background: 'linear-gradient(90deg, transparent, #555555)',\n  },\n  childListIcon: {\n    minWidth: 'auto',\n    padding: 10,\n  },\n  lightIcon: {\n    padding: '10px 7px',\n  },\n}));\n\nconst ParentChildProp = ({\n  type, uuid, children, hidePatch,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft}>\n          <InputHandle {...{ uuid, propName: 'children' }} />\n        </Grid>\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen={false}\n            header={(\n              <Typography className={classes.propText}>\n                {\n                `Children (${children.length}) ${type.toLowerCase() !== 'scene' ? '' : ''}`\n                }\n              </Typography>\n)}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <List dense className={classes.childList}>\n              {\n                children.filter((c) => (c.userData.isPatchHidden)).map((c) => (\n                  <ListItem dense key={`${c.uuid}_${c.name}_patch_child_list`} className={classes.childListItem}>\n                    <Tooltip title={c.type}>\n                      <ListItemIcon className={\n                    clsx(classes.childListIcon, { [classes.lightIcon]: c.type.toLowerCase().includes('light') })\n                  }\n                      >\n                        {getIconByType(c.type)}\n                      </ListItemIcon>\n                    </Tooltip>\n                    <Tooltip title={c.uuid}>\n                      <ListItemText primary={c.name} />\n                    </Tooltip>\n                    <ListItemSecondaryAction classes={{\n                      root: classes.secondRoot,\n                    }}\n                    >\n                      <IconButtonView\n                        {...{\n                          label: 'Pop Out',\n                          handeClick: () => {\n                            hidePatch(c.uuid, false);\n                          },\n                        }}\n                        className={classes.iconButton}\n                        disabled={false}\n                      >\n                        <FontAwesomeIcon flip=\"horizontal\" icon={faSignOutAlt} />\n                      </IconButtonView>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                ))\n              }\n            </List>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight}>\n          {type.toLowerCase() !== 'scene' ? <OutputHandle {...{ uuid, propName: 'parent' }} /> : null}\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nParentChildProp.propTypes = {\n  type: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  hidePatch: PropTypes.bool.isRequired,\n};\n\nexport default memo(ParentChildProp);\n","import PropTypes, { node } from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { List } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    minHeight: '100px',\n    width: (props) => (props.width),\n    padding: 0,\n    backgroundColor: '#555',\n    border: '1px solid white',\n    borderRadius: '10px',\n    boxShadow: '5px 5px 5px rgba(0,0,0,0.8)',\n  },\n}));\n\n/**\n * Root Panel for Patches.\n */\nconst PatchRoot = ({\n  children = node,\n  width = 100,\n}) => {\n  const classes = useStyles({ width });\n\n  return (\n    <List dense className={classes.root}>\n      {children}\n    </List>\n  );\n};\n\nPatchRoot.propTypes = {\n  /**\n   * Width of Patch.\n   */\n  width: PropTypes.number.isRequired,\n  /**\n   * Contents of Patch.\n   */\n  children: PropTypes.node.isRequired,\n};\n\nexport default memo(PatchRoot);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport ParentChildProp from '../../Components/Patches/ParentChildProp/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nconst ScenePatch = ({ data }) => {\n  const {\n    uuid, label, type, width, isChildHidden, isHidden, children,\n  } = data;\n  const { hideThreeObjPatch } = useAppContext();\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type: 'scene' }} />\n      <ParentChildProp {...{\n        children, isChildHidden, type, uuid, isHidden, hidePatch: hideThreeObjPatch,\n      }}\n      />\n    </PatchRoot>\n  );\n};\n\nScenePatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    type: PropTypes.string,\n    width: PropTypes.number,\n    isChildHidden: PropTypes.bool,\n    isHidden: PropTypes.bool,\n    children: PropTypes.arrayOf(PropTypes.shape({})),\n  }).isRequired,\n};\n\nexport default ScenePatch;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Grid, Typography, ListItem,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport InputHandle from '../InputHandle/index';\nimport OutputHandle from '../OutputHandle';\n\nimport PropAccordianView from '../PropAccordian/view';\n\nconst useStyles = makeStyles(() => ({\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n}));\n\nconst PropListItemView = ({\n  children, uuid, propName, disableInput, disableOutput,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft}>\n          {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n        </Grid>\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen={false}\n            header={<Typography className={classes.propText}>{propName}</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            { children }\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight}>\n          {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n        </Grid>\n      </Grid>\n    </ListItem>\n  );\n};\n\nPropListItemView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPropListItemView.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n};\n\nexport default memo(PropListItemView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PropListItemView from './view';\n\nconst PropListItem = ({\n  children, uuid, propName, disableInput, disableOutput,\n}) => (\n  <PropListItemView {...{\n    uuid, propName, disableInput, disableOutput,\n  }}\n  >\n    {children}\n  </PropListItemView>\n);\n\nPropListItem.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPropListItem.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n};\n\nexport default PropListItem;\n","import React, { memo } from 'react';\n\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n  },\n}));\n\n// eslint-disable-next-line react/prop-types\nconst PatchValueView = ({ value }) => {\n  const classes = useStyles();\n  switch (true) {\n    default:\n      return <Typography className={classes.propText}>{`${value}`}</Typography>;\n    case Array.isArray(value):\n      // eslint-disable-next-line react/prop-types\n      return <Typography className={classes.propText}>{(`[${value.map((v) => (`${v.toFixed(3)}`))}]`)}</Typography>;\n    case typeof value === 'object':\n      // eslint-disable-next-line react/prop-types\n      return <Typography className={classes.propText}>{`Active: ${value.active}`}</Typography>;\n  }\n};\n\nexport default memo(PatchValueView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useThreeObjectsContext from '../../Contexts/useThreeObjectsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findThreeObject } = useThreeObjectsContext();\n  const threeObj = findThreeObject(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (threeObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, threeObj, propName, updateProp, uuid]);\n\n  if (threeObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Grid,\n  ListItem, Button,\n  AppBar, Toolbar,\n} from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faTrashAlt,\n  faSignInAlt,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    borderBottomLeftRadius: '10px',\n    borderBottomRightRadius: '10px',\n    overflow: 'hidden',\n    padding: 0,\n  },\n  toolbar: {\n    padding: 0,\n    minHeight: '32px',\n  },\n  appbar: {\n    background: 'none',\n  },\n  group: {\n    width: '100%',\n    display: 'block',\n  },\n  button: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    display: 'block',\n  },\n  gridItem: {\n    borderRight: '1px solid rgba(255,255,255,0.25)',\n  },\n}));\n\n/**\n * Bottom Toolbar for Patches\n */\nconst PatchToolbarView = ({\n  uuid = 'xxx',\n  // eslint-disable-next-line no-unused-vars\n  removeObj = (event) => {},\n  // eslint-disable-next-line no-unused-vars\n  hidePatch = (event) => {},\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.root}>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar\n          variant=\"dense\"\n          className={classes.toolbar}\n        >\n          <Grid spacing={0} container>\n            <Grid item xs={4} className={classes.gridItem} />\n            <Grid item xs={4} className={classes.gridItem}>\n              {(typeof hidePatch === 'function')\n                ? (\n                  <IconButtonView\n                    {...{\n                      disabled: false,\n                      label: 'Hide Patch',\n                      handeClick: () => {\n                        hidePatch(uuid, true);\n                      },\n                    }}\n                    className={classes.button}\n                    disabled={false}\n                  >\n                    <FontAwesomeIcon icon={faSignInAlt} />\n                  </IconButtonView>\n                )\n                : <Button className={classes.button} /> }\n            </Grid>\n            <Grid item xs={4}>\n              <IconButtonView\n                {...{\n                  label: 'Delete',\n                  handeClick: () => {\n                    removeObj(uuid);\n                  },\n                }}\n                className={classes.button}\n                disabled={false}\n              >\n                <FontAwesomeIcon icon={faTrashAlt} />\n              </IconButtonView>\n            </Grid>\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    </ListItem>\n  );\n};\n\nPatchToolbarView.propTypes = {\n  /**\n   * Deletes Patch.\n   */\n  removeObj: PropTypes.func.isRequired,\n  /**\n   * Hides Patch.\n   */\n  hidePatch: PropTypes.func.isRequired,\n  /**\n  * Unique Patch ID.\n  */\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(PatchToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeThreeObj, hideThreeObjPatch } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeThreeObj, hidePatch: hideThreeObjPatch,\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchValue from './PatchValue/index';\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport ParentChildProp from '../../Components/Patches/ParentChildProp/index';\nimport PatchToolbar from './PatchToolbar/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\n// import useAppContext from '../../App/Contexts/useAppContext';\n\nconst ThreeObjectPatch = ({ data }) => {\n  const {\n    uuid, label, type, width, isChildHidden, isHidden, children,\n  } = data;\n\n  // const { hideThreeObjPatch } = useAppContext();\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: false, disableOutput: true,\n    },\n    {\n      uuid, propName: 'rotation', disableInput: false, disableOutput: true,\n    },\n    {\n      uuid, propName: 'scale', disableInput: false, disableOutput: true,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <ParentChildProp {...{\n        children, isChildHidden, type, uuid, isHidden, hidePatch: false,\n      }}\n      />\n      {\n        patchProps.map((p) => (\n          <PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>\n        ))\n      }\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nThreeObjectPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    type: PropTypes.string,\n    width: PropTypes.number,\n    isChildHidden: PropTypes.bool,\n    isHidden: PropTypes.bool,\n    children: PropTypes.node,\n  }).isRequired,\n};\n\nexport default ThreeObjectPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeDevice } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeDevice, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const DevicesContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let devicesContextValue = {};\n\nconst DevicesManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Device Connections\n  const [DeviceRegistry] = useState(() => new Map());\n\n  const deviceRegistryUtils = useMemo(\n    () => ({\n      findDevice(id) {\n        return DeviceRegistry.get(id);\n      },\n      registerDevice(identifier, ref) {\n        // register by id\n        DeviceRegistry.set(identifier, ref);\n        publish('devices-list-changed', ref, 'add');\n      },\n      unregisterDevice(identifier) {\n        // unregister by id\n        DeviceRegistry.delete(identifier);\n        publish('devices-list-changed', identifier, 'remove');\n      },\n      getDevicesArray() {\n        return Array.from(DeviceRegistry.keys()).map((id) => DeviceRegistry.get(id));\n      },\n    }),\n    [DeviceRegistry, publish],\n  );\n\n  devicesContextValue = useMemo(() => ({\n    DeviceRegistry,\n    ...deviceRegistryUtils,\n  }), [\n    DeviceRegistry,\n    deviceRegistryUtils,\n  ]);\n\n  return (\n    <DevicesContext.Provider value={devicesContextValue}>\n      {children}\n    </DevicesContext.Provider>\n  );\n};\n\nDevicesManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default DevicesManager;\n","import { useContext } from 'react';\nimport { DevicesContext } from '../Managers/DevicesManager';\n\nexport default function useDevicesContext() {\n  return useContext(DevicesContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../Contexts/useDevicesContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, deviceObj, propName, updateProp, uuid]);\n\n  if (deviceObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst MousePatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nMousePatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default memo(MousePatch);\n","import React, { memo } from 'react';\n\nimport { PropTypes } from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Select, MenuItem,\n  ListItemText,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n}));\n\n/**\n* Basic Select List.\n*/\nconst RTSelect = ({\n  data = ['default', 'values'],\n  value = 'default',\n  // eslint-disable-next-line no-unused-vars\n  onChange = (event) => {},\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Select\n      className={classes.selectRoot}\n      value={value}\n      onChange={onChange}\n      renderValue={() => (\n        <MenuItem value={value} className={classes.menuItemRoot}>\n          <ListItemText>{value}</ListItemText>\n        </MenuItem>\n      )}\n    >\n      {data.map((d) => (\n        <MenuItem key={d} value={d} className={classes.menuItemRoot}>\n          <ListItemText>{d}</ListItemText>\n        </MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nRTSelect.propTypes = {\n  /**\n    List of options.\n  */\n  data: PropTypes.arrayOf(PropTypes.string).isRequired,\n  /**\n    Selected option.\n  */\n  value: PropTypes.string.isRequired,\n  /**\n    Do something when changed.\n  */\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default memo(RTSelect);\n","/* eslint-disable react/prop-types */\nimport PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip,\n  List,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport PropAccordianView from '../../../../Components/Patches/PropAccordian/view';\n\nimport RTSelect from '../../../../Components/Inputs/Select/index';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  selectListRoot: {\n    width: '100%',\n    margin: 0,\n    padding: 0,\n  },\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst CameraSettingsView = ({\n  value, setValue,\n  propName, data,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<Typography className={classes.propText}>{propName}</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <Tooltip title={value.label === undefined ? '' : value.label}>\n              <List className={classes.selectListRoot}>\n                <RTSelect\n                  data={data.map((d) => d.label)}\n                  value={value.label === undefined ? '' : value.label}\n                  onChange={(e) => {\n                    setValue(e.target.value);\n                  }}\n                />\n              </List>\n            </Tooltip>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nCameraSettingsView.propTypes = {\n  setValue: PropTypes.func.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default memo(CameraSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useState, useEffect,\n} from 'react';\n\nimport useDevicesContext from '../../../Contexts/useDevicesContext';\nimport useAppContext from '../../../../App/Contexts/useAppContext';\n\nimport CameraSettingsView from './view';\n\nconst CameraSettings = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const isMounted = useRef(false);\n\n  const [list, setList] = useState([{ label: 'no data' }]);\n  const [selected, setSelected] = useState(list[0]);\n\n  const updateSelected = useCallback((val) => {\n    if (isMounted.current) {\n      setSelected(val);\n    }\n  }, [isMounted, setSelected]);\n\n  const updateList = useCallback((val) => {\n    if (isMounted.current) {\n      setList(val);\n    }\n  }, [isMounted, setList]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n\n      setSelected(deviceObj.selectedDevice);\n      subscribe(`${uuid}-selected-device-updated`, updateSelected);\n\n      setList(deviceObj.deviceList);\n      subscribe(`${uuid}-device-list-updated`, updateList);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-selected-device-updated`, updateSelected);\n      unsubscribe(`${uuid}-device-list-updated`, updateList);\n    };\n  }, [subscribe, unsubscribe, uuid, deviceObj, updateSelected, updateList]);\n\n  if (selected === undefined) return false;\n\n  return (\n    <CameraSettingsView\n      {...{\n        propName: 'Select Camera',\n        data: list,\n        value: selected,\n        setValue: (v) => {\n          if (deviceObj !== undefined) {\n            deviceObj.setSelectedDevice(list.filter((d) => d.label === v)[0]);\n          }\n        },\n      }}\n    />\n  );\n};\n\nCameraSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default CameraSettings;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/view';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nimport CameraSettings from './Settings';\n\nconst CameraPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'mediastream', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <CameraSettings {...{ uuid }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nCameraPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default CameraPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst KeyboardPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nKeyboardPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default KeyboardPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst AccelPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'position', disableInput: true, disableOutput: false,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nAccelPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default AccelPatch;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport MousePatch from './Mouse';\nimport CameraPatch from './Camera';\nimport KeyboardPatch from './Keyboard';\nimport AccelPatch from './Accel';\n\n/**\n * Patch for Controlling Devices\n */\nconst DevicePatch = ({\n  // eslint-disable-next-line no-unused-vars\n  type = 'mouse',\n  // eslint-disable-next-line no-unused-vars\n  name = 'default',\n  // eslint-disable-next-line no-unused-vars\n  uuid = 'xxx',\n  // eslint-disable-next-line no-unused-vars\n  userData = {\n    isPatchHidden: false,\n  },\n  data,\n}) => {\n  const { type: t } = data;\n  switch (t.toLowerCase()) {\n    default:\n    case 'mouse':\n      return (<MousePatch {...{ data }} />);\n    case 'keyboard':\n      return (<KeyboardPatch {...{ data }} />);\n    case 'accel':\n      return (<AccelPatch {...{ data }} />);\n    case 'camera':\n      return (<CameraPatch {...{ data }} />);\n  }\n};\n\nDevicePatch.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n  /**\n   * Name of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  name: PropTypes.string,\n  /**\n   * Type of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  type: PropTypes.string,\n  /**\n   * Unique Patch Id.\n   */\n  // eslint-disable-next-line react/require-default-props\n  uuid: PropTypes.string,\n  /**\n   * Props.\n   */\n  // eslint-disable-next-line react/require-default-props\n  userData: PropTypes.shape({\n    isPatchHidden: PropTypes.bool,\n  }),\n};\n\nexport default memo(DevicePatch);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  createContext, useMemo, useState, useCallback,\n} from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const TransformsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let transformsContextValue = {};\n\nconst TransformsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Transform Connections\n  const [TransformRegistry] = useState(() => new Map());\n\n  const findTransform = useCallback((id) => TransformRegistry.get(id), [TransformRegistry]);\n\n  const transformRegistryUtils = useMemo(\n    () => ({\n      findTransform,\n      registerTransform(identifier, ref) {\n        // register by id\n        TransformRegistry.set(identifier, ref);\n        publish('transforms-list-changed', ref, 'add');\n      },\n      unregisterTransform(identifier) {\n        // unregister by id\n        TransformRegistry.delete(identifier);\n        publish('transforms-list-changed', identifier, 'remove');\n      },\n      getTransformsArray() {\n        return Array.from(TransformRegistry.keys()).map((id) => TransformRegistry.get(id));\n      },\n    }),\n    [TransformRegistry, publish, findTransform],\n  );\n\n  transformsContextValue = useMemo(() => ({\n    TransformRegistry,\n    ...transformRegistryUtils,\n  }), [\n    TransformRegistry,\n    transformRegistryUtils,\n  ]);\n\n  return (\n    <TransformsContext.Provider value={transformsContextValue}>\n      {children}\n    </TransformsContext.Provider>\n  );\n};\n\nTransformsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default TransformsManager;\n","import { useContext } from 'react';\nimport { TransformsContext } from '../Managers/TransformsManager';\n\nexport default function useTransformsContext() {\n  return useContext(TransformsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useTransformsContext from '../../Contexts/useTransformsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findTransform } = useTransformsContext();\n  const transformObj = findTransform(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (transformObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, transformObj, propName, updateProp, uuid]);\n\n  if (transformObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeTransform } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeTransform, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import React, { memo } from 'react';\n\nimport { PropTypes } from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Select, MenuItem,\n  ListItemIcon, ListItemText,\n} from '@material-ui/core';\n\nimport { getIconByType } from '../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\n/**\n* Basic Select List with Type Icons.\n*/\nconst RTSelectWithIcon = ({\n  data = ['default', 'values'],\n  value = 'default',\n  // eslint-disable-next-line no-unused-vars\n  onChange = (event) => {},\n}) => {\n  const classes = useStyles();\n\n  return (\n    <Select\n      className={classes.selectRoot}\n      value={value}\n      onChange={onChange}\n      renderValue={() => (\n        <MenuItem value={value} className={classes.menuItemRoot}>\n          <ListItemIcon className={classes.iconRoot}>\n            {getIconByType(value)}\n          </ListItemIcon>\n          <ListItemText>{value}</ListItemText>\n        </MenuItem>\n      )}\n    >\n      {data.map((d) => (\n        <MenuItem key={d} value={d} className={classes.menuItemRoot}>\n          <ListItemIcon className={classes.iconRoot}>\n            {getIconByType(d)}\n          </ListItemIcon>\n          <ListItemText>{d}</ListItemText>\n        </MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nRTSelectWithIcon.propTypes = {\n  /**\n    Array of strings to list.\n  */\n  data: PropTypes.arrayOf(PropTypes.string).isRequired,\n  /**\n    Selected value.\n  */\n  value: PropTypes.string.isRequired,\n  /**\n    Handle action on change.\n  */\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default memo(RTSelectWithIcon);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip, TextField,\n  List,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport InputHandle from '../../../Components/Patches/InputHandle/index';\nimport OutputHandle from '../../../Components/Patches/OutputHandle';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\n\nimport RTSelectWithIcon from '../../../Components/Inputs/SelectWithIcon/index';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  selectListRoot: {\n    width: '100%',\n    margin: 0,\n    padding: 0,\n  },\n  selectRoot: {\n    width: '100%',\n  },\n  menuItemRoot: {\n    padding: 0,\n  },\n  iconRoot: {\n    margin: 0,\n    minWidth: 10,\n    marginRight: 10,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst TransformSettingsView = ({\n  // eslint-disable-next-line react/prop-types\n  value,\n  setValue,\n  uuid, propName, disableInput, disableOutput,\n  type,\n  // eslint-disable-next-line react/prop-types\n  data,\n}) => {\n  const classes = useStyles();\n\n  switch (type.toLowerCase()) {\n    default:\n    case 'input':\n      return (\n        <ListItem dense className={classes.propItem}>\n          <Grid spacing={0} container className={classes.propGrid}>\n            <Grid item xs={1} className={classes.handleGridLeft}>\n              {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n            <Grid item xs={10}>\n              <PropAccordianView\n                defaultOpen\n                header={<Typography className={classes.propText}>{propName}</Typography>}\n                expandIcon={(\n                  <ExpandMoreIcon fontSize=\"small\" />\n                )}\n              >\n                <Tooltip title={value}>\n                  <TextField\n                    id=\"amt\"\n                    type=\"Number\"\n                    value={value}\n                    onChange={(evt) => {\n                      setValue(parseInt(evt.currentTarget.value, 10));\n                    }}\n                  />\n                </Tooltip>\n              </PropAccordianView>\n            </Grid>\n            <Grid item xs={1} className={classes.handleGridRight}>\n              {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n          </Grid>\n        </ListItem>\n      );\n    case 'select':\n      return (\n        <ListItem dense className={classes.propItem}>\n          <Grid spacing={0} container className={classes.propGrid}>\n            <Grid item xs={1} className={classes.handleGridLeft}>\n              {disableInput === false ? <InputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n            <Grid item xs={10}>\n              <PropAccordianView\n                defaultOpen\n                header={<Typography className={classes.propText}>{propName}</Typography>}\n                expandIcon={(\n                  <ExpandMoreIcon fontSize=\"small\" />\n                )}\n              >\n                <Tooltip title={value}>\n                  <List className={classes.selectListRoot}>\n                    <RTSelectWithIcon\n                      data={data}\n                      value={value}\n                      onChange={(e) => {\n                        setValue(e.target.value);\n                      }}\n                    />\n                  </List>\n                </Tooltip>\n              </PropAccordianView>\n            </Grid>\n            <Grid item xs={1} className={classes.handleGridRight}>\n              {disableOutput === false ? <OutputHandle {...{ uuid, propName }} /> : null}\n            </Grid>\n          </Grid>\n        </ListItem>\n      );\n  }\n};\n\nTransformSettingsView.propTypes = {\n  setValue: PropTypes.func.isRequired,\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n  disableInput: PropTypes.bool.isRequired,\n  disableOutput: PropTypes.bool.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(TransformSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useTransformsContext from '../../Contexts/useTransformsContext';\n\nimport TransformSettingsView from './view';\n\nconst TransformSettings = ({\n  uuid, propName,\n  // eslint-disable-next-line react/prop-types\n  defaultVal,\n  ...props\n}) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findTransform } = useTransformsContext();\n  const transformObj = findTransform(uuid);\n\n  const [val, setVal] = useState(defaultVal);\n\n  const isMounted = useRef(false);\n\n  const updateValue = useCallback((v) => {\n    if (isMounted.current) {\n      setVal(v);\n    }\n  }, [isMounted, setVal]);\n\n  useEffect(() => {\n    if (transformObj !== undefined) {\n      isMounted.current = true;\n\n      subscribe(`${uuid}-${propName}-updated`, updateValue);\n      setVal(transformObj[propName]);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateValue);\n    };\n  }, [subscribe, unsubscribe, uuid, transformObj, updateValue, propName]);\n\n  return (\n    <TransformSettingsView\n      {\n        ...{\n          uuid,\n          propName,\n          defaultVal,\n        }\n      }\n      {...props}\n      {...{\n        value: typeof val === 'string' ? val.toLowerCase() : val,\n        setValue: (v) => {\n          if (transformObj !== undefined) {\n            transformObj[`set${propName.replace(/^\\w/, (c) => c.toUpperCase())}`](v);\n          }\n        },\n      }}\n    />\n  );\n};\n\nTransformSettings.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default TransformSettings;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchValue from './PatchValue/index';\nimport PatchToolbar from './PatchToolbar/index';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\nimport TransformSettings from './Settings';\n\nconst TransformPatch = ({ data }) => {\n  const {\n    uuid, label, width, type,\n  } = data;\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      <TransformSettings {...{\n        uuid, propName: 'operator', type: 'select', defaultVal: 'add', data: ['add', 'subtract', 'multiply', 'divide'], disableInput: true, disableOutput: true,\n      }}\n      />\n      <TransformSettings {...{\n        uuid, propName: 'amount', type: 'input', defaultVal: 1, data: 1, disableInput: true, disableOutput: true,\n      }}\n      />\n      <PropListItem {...{\n        uuid, propName: 'value', disableInput: false, disableOutput: false,\n      }}\n      >\n        <PatchValue {...{ uuid, propName: 'value' }} />\n      </PropListItem>\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nTransformPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    width: PropTypes.number,\n    label: PropTypes.string,\n    type: PropTypes.string,\n  }).isRequired,\n};\n\nexport default TransformPatch;\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const GeneratorsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let generatorsContextValue = {};\n\nconst GeneratorsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Generator Connections\n  const [GeneratorRegistry] = useState(() => new Map());\n\n  const generatorRegistryUtils = useMemo(\n    () => ({\n      findGenerator(id) {\n        return GeneratorRegistry.get(id);\n      },\n      registerGenerator(identifier, ref) {\n        // register by id\n        GeneratorRegistry.set(identifier, ref);\n        publish('generators-list-changed', ref, 'add');\n      },\n      unregisterGenerator(identifier) {\n        // unregister by id\n        GeneratorRegistry.delete(identifier);\n        publish('generators-list-changed', identifier, 'remove');\n      },\n      getGeneratorsArray() {\n        return Array.from(GeneratorRegistry.keys()).map((id) => GeneratorRegistry.get(id));\n      },\n    }),\n    [GeneratorRegistry, publish],\n  );\n\n  generatorsContextValue = useMemo(() => ({\n    GeneratorRegistry,\n    ...generatorRegistryUtils,\n  }), [\n    GeneratorRegistry,\n    generatorRegistryUtils,\n  ]);\n\n  return (\n    <GeneratorsContext.Provider value={generatorsContextValue}>\n      {children}\n    </GeneratorsContext.Provider>\n  );\n};\n\nGeneratorsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nGeneratorsManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default GeneratorsManager;\n","import { useContext } from 'react';\nimport { GeneratorsContext } from '../Managers/GeneratorsManager';\n\nexport default function useGeneratorsContext() {\n  return useContext(GeneratorsContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, generatorObj, propName, updateProp, uuid]);\n\n  if (generatorObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","export default function DrawSine(resolution) {\n  const scale = 1; // Min Max range. X range: [-scale, scale] Y range: [-scale, scale]\n  const points = [];\n  for (let i = 0; i <= 360; i += (360 / resolution)) {\n    points.push([\n      (scale / 360) * (i * 2) - scale,\n      Math.sin(i * (Math.PI / 180)) * scale,\n    ]);\n  }\n  return points;\n}\n","export default function DrawCircle(resolution) {\n  const diameter = 1;\n  const points = [];\n  for (let i = 0; i <= 360; i += (360 / resolution)) {\n    points.push([\n      Math.sin(i * (Math.PI / 180)) * diameter,\n      Math.cos(i * (Math.PI / 180)) * diameter,\n    ]);\n  }\n  return points;\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useRef, useEffect, useState,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  canvasContainer: {\n    width: (props) => (props.parentSize[0]),\n    height: (props) => (props.parentSize[1]),\n    position: 'absolute',\n    zIndex: 1,\n  },\n}));\n\nconst ShapePreviewBackground = ({ shape, parentSize }) => {\n  const [shapeDimensions, setShapeDimensions] = useState([[-1, 1], [-1, 1]]);\n  const [context, setContext] = useState(null);\n  const canvasRef = useRef(null);\n  const [finalShape, setFinalShape] = useState([[0, 0], [1, 1]]);\n\n  useEffect(() => {\n    // Save size of shape\n    if (canvasRef.current !== undefined) {\n      setShapeDimensions([\n        [Math.min(...shape.map((p) => p[0])), Math.max(...shape.map((p) => p[0]))],\n        [Math.min(...shape.map((p) => p[1])), Math.max(...shape.map((p) => p[1]))],\n      ]);\n\n      // Save canvas context\n      setContext(canvasRef.current.getContext('2d'));\n    }\n  }, [canvasRef, shape, setShapeDimensions]);\n\n  useEffect(() => {\n    if (context !== null) {\n      // adjust noralized generator values to size of dom container\n      setFinalShape(shape.map((s) => [\n        (s[0] + shapeDimensions[0][1]) * ((parentSize[0] * 0.9) / 2) + (parentSize[0] * 0.05),\n        (-s[1] + shapeDimensions[1][1]) * ((parentSize[1] * 0.9) / 2) + (parentSize[1] * 0.05),\n      ]));\n    }\n  }, [context, shape, shapeDimensions, parentSize]);\n\n  useEffect(() => {\n    if (context !== null) {\n      // Draw shape on canvas\n      const draw = (ctx) => {\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = '#222222';\n        ctx.moveTo(finalShape[0][0], finalShape[0][1]);\n        finalShape.forEach((s) => {\n          ctx.lineTo(\n            s[0],\n            s[1],\n          );\n        });\n        ctx.stroke();\n      };\n\n      draw(context);\n    }\n  }, [context, finalShape]);\n\n  // Create local classes\n  const classes = useStyles({ parentSize });\n  return (\n    <canvas\n      width={parentSize[0]}\n      height={parentSize[1]}\n      className={classes.canvasContainer}\n      ref={canvasRef}\n    />\n  );\n};\n\nShapePreviewBackground.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nShapePreviewBackground.propTypes = {\n  shape: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  parentSize: PropTypes.arrayOf(PropTypes.number).isRequired,\n};\n\nexport default memo(ShapePreviewBackground);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  memo, useEffect, useState, useRef, useCallback,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  canvasContainer: {\n    width: (props) => (props.parentSize[0]),\n    height: (props) => (props.parentSize[1]),\n    position: 'absolute',\n    zIndex: 2,\n  },\n  ind: {\n    background: '#FFFFFF',\n    borderRadius: '50%',\n    border: '1px solid #222',\n    width: 7,\n    height: 7,\n    position: 'absolute',\n    left: (props) => (props.finalVal[0]),\n    top: (props) => (props.finalVal[1]),\n\n  },\n}));\n\nconst ShapePreviewIndicator = ({\n  shape, propName, parentSize, uuid,\n}) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n\n  const [propVal, setPropVal] = useState(0);\n  const [shapeDimensions, setShapeDimensions] = useState([-1, 1], [-1, 1]);\n  const [finalVal, setFinalVal] = useState([1, 1]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      setPropVal(generatorObj[propName]);\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, generatorObj, propName, updateProp, uuid]);\n\n  useEffect(() => {\n    setShapeDimensions([\n      [Math.min(...shape.map((p) => p[0])), Math.max(...shape.map((p) => p[0]))],\n      [Math.min(...shape.map((p) => p[1])), Math.max(...shape.map((p) => p[1]))],\n    ]);\n  }, [shape, setShapeDimensions]);\n\n  useEffect(() => {\n    setFinalVal([\n      (propVal[0] + shapeDimensions[0][1])\n      * ((parentSize[0] * 0.9) / 2) + (parentSize[0] * 0.05) - 2.5,\n      (-propVal[1] + shapeDimensions[1][1])\n      * ((parentSize[1] * 0.9) / 2) + (parentSize[1] * 0.05) - 2, 5,\n    ]);\n  }, [propVal, shapeDimensions, parentSize]);\n\n  // Create local classes\n  const classes = useStyles({ parentSize, finalVal });\n  return <div className={classes.canvasContainer}><div className={classes.ind} /></div>;\n};\n\nShapePreviewIndicator.propTypes = {\n  shape: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number)).isRequired,\n  parentSize: PropTypes.arrayOf(PropTypes.number).isRequired,\n  propName: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(ShapePreviewIndicator);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  AppBar, Toolbar, Grid, Button, Tooltip,\n} from '@material-ui/core';\n\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport RepeatIcon from '@material-ui/icons/Repeat';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    borderBottomLeftRadius: '10px',\n    borderBottomRightRadius: '10px',\n    overflow: 'hidden',\n    minHeight: '32px',\n  },\n  toolbar: {\n    padding: 0,\n    minHeight: '32px',\n  },\n  appbar: {\n    background: 'none',\n  },\n  group: {\n    width: '100%',\n  },\n  button: {\n    padding: 0,\n    margin: 0,\n    minWidth: 'auto',\n  },\n  buttonLoop: {\n    padding: 0,\n    margin: 0,\n    minWidth: 'auto',\n  },\n  buttonLabel: {\n    fontSize: 13,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst PlaybackToolbarView = ({\n  paused, setPause, looped, setLoop,\n}) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Toolbar\n          variant=\"dense\"\n          className={classes.toolbar}\n        >\n          <Grid spacing={0} container>\n            <Grid item xs={3}>\n              <Button\n                id=\"play-button\"\n                className={classes.button}\n                onClick={() => {\n                  setPause(!paused);\n                }}\n              >\n                {(paused === true)\n                  ? (\n                    <Tooltip title=\"Play\">\n                      <PlayArrowIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )\n                  : (\n                    <Tooltip title=\"Pause\">\n                      <PauseIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )}\n              </Button>\n            </Grid>\n            <Grid item xs={3}>\n              <Button\n                id=\"loop-button\"\n                className={classes.buttonLoop}\n                onClick={() => {\n                  setLoop(!looped);\n                }}\n              >\n                {(looped === true)\n                  ? (\n                    <Tooltip title=\"No Loop\">\n                      <RepeatIcon fontSize=\"small\" />\n                    </Tooltip>\n                  )\n                  : (\n                    <Tooltip title=\"Loop\">\n                      <RepeatIcon color=\"disabled\" fontSize=\"small\" />\n                    </Tooltip>\n                  )}\n              </Button>\n            </Grid>\n            <Grid item xs={6} />\n          </Grid>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nPlaybackToolbarView.propTypes = {\n  paused: PropTypes.bool.isRequired,\n  setPause: PropTypes.func.isRequired,\n  looped: PropTypes.bool.isRequired,\n  setLoop: PropTypes.func.isRequired,\n};\n\nexport default memo(PlaybackToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport PlaybackToolbarView from '../../../Components/Patches/PlaybackToolbar/view';\n\nconst PlaybackToolbar = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const [isPaused, setIsPaused] = useState(false);\n  const [isLooped, setIsLooped] = useState(false);\n\n  const isMounted = useRef(false);\n\n  const updatePause = useCallback((val) => {\n    if (isMounted.current) {\n      setIsPaused(val);\n    }\n  }, [isMounted, setIsPaused]);\n\n  const updateLoop = useCallback((val) => {\n    if (isMounted.current) {\n      setIsLooped(val);\n    }\n  }, [isMounted, setIsLooped]);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    subscribe(`${uuid}-paused-updated`, updatePause);\n    // setIsPaused(generatorObj.paused);\n\n    subscribe(`${uuid}-looped-updated`, updateLoop);\n    // setIsLooped(generatorObj.looped);\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-paused-updated`, updatePause);\n      unsubscribe(`${uuid}-looped-updated`, updateLoop);\n    };\n  }, [uuid, subscribe, unsubscribe, updatePause, updateLoop]);\n\n  return (\n    <PlaybackToolbarView {...{\n      paused: isPaused,\n      looped: isLooped,\n      setPause: () => {\n        // if (generatorObj !== undefined) {\n        //   generatorObj.setPaused(val);\n        // }\n      },\n      setLoop: () => {\n        // if (generatorObj !== undefined) {\n        //   generatorObj.setLooped(val);\n        // }\n      },\n    }}\n    />\n  );\n};\n\nPlaybackToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPlaybackToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PlaybackToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n  memo,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItem, Grid,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\n\nimport DrawSine from '../../../Shapes/drawSine';\nimport DrawCircle from '../../../Shapes/drawCircle';\n\nimport ShapePreviewBackground from './background';\nimport ShapePreviewIndicator from './indicator';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\nimport PlaybackToolbar from '../PlaybackToolbar';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  shapeContainer: {\n    width: '100%',\n    height: 100,\n    padding: '0 10%',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n}));\n\nconst ShapePreview = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator, getGeneratorsArray } = useGeneratorsContext();\n\n  const [generator, setGenerator] = useState(null);\n\n  const isMounted = useRef(false);\n\n  const updateGenerator = useCallback((val) => {\n    if (isMounted.current) {\n      setGenerator(val);\n    }\n  }, [isMounted, setGenerator]);\n\n  useEffect(() => {\n    const generatorObj = findGenerator(uuid);\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n      setGenerator(generatorObj);\n      subscribe('generators-list-changed', updateGenerator);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('generators-list-changed', updateGenerator);\n    };\n  }, [subscribe, unsubscribe, updateGenerator, findGenerator, uuid, getGeneratorsArray]);\n\n  const [shape, setShape] = useState([[-1, -1], [1, 1], [1, -1], [-1, 1]]);\n\n  const shapeRef = useRef(null);\n  const [containerSize, setContainerSize] = useState([1, 1]);\n\n  // Create local classes\n  const classes = useStyles();\n\n  useEffect(() => {\n    setContainerSize(\n      shapeRef.current\n        ? [shapeRef.current.offsetWidth * 0.8, shapeRef.current.offsetHeight] : [1, 1],\n    );\n  }, [shapeRef, setContainerSize]);\n\n  useEffect(() => {\n    if (generator) {\n      switch (generator.type.toLowerCase()) {\n        default:\n        case 'sinewave':\n          setShape(DrawSine(generator.resolution));\n          break;\n        case 'orbit':\n          setShape(DrawCircle(generator.resolution));\n          break;\n      }\n    }\n  }, [setShape, generator]);\n\n  const getPreview = (s, size) => {\n    if (generator === null) {\n      return (\n        <div className={classes.shapeContainer} ref={shapeRef}>\n          <ShapePreviewBackground {...{ shape: s, parentSize: size }} />\n        </div>\n      );\n    }\n    return (\n      <div className={classes.shapeContainer} ref={shapeRef}>\n        <ShapePreviewIndicator {...{\n          shape: s, setGenerator, propName, parentSize: size, uuid,\n        }}\n        />\n        <ShapePreviewBackground {...{ shape: s, parentSize: size }} />\n      </div>\n    );\n  };\n\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<PlaybackToolbar uuid={uuid} />}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            { getPreview(shape, containerSize) }\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nShapePreview.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default memo(ShapePreview);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeGenerator } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeGenerator, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListItem, Grid,\n  Typography, Tooltip, TextField,\n} from '@material-ui/core';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport PropAccordianView from '../../../Components/Patches/PropAccordian/view';\n\nconst useStyles = makeStyles(() => ({\n  propText: {\n    fontSize: '12px',\n    whiteSpace: 'nowrap',\n    textAlign: 'center',\n  },\n  propItem: {\n    margin: 0,\n    padding: 0,\n    oveflow: 'hidden',\n    borderBottom: '1px solid rgba(255,255,255,0.05)',\n  },\n  propGrid: {\n    width: '100%',\n    height: '100%',\n  },\n  handleGridLeft: {\n    padding: 0,\n    paddingLeft: 9,\n    paddingTop: 15,\n  },\n  handleGridRight: {\n    padding: 0,\n    paddingRight: 9,\n    paddingTop: 15,\n  },\n  expandIcon: {\n    padding: 0,\n  },\n}));\n\n// eslint-disable-next-line no-unused-vars\nconst GeneratorSettingsView = ({\n  rpm, setRPM,\n}) => {\n  const classes = useStyles();\n  return (\n    <ListItem dense className={classes.propItem}>\n      <Grid spacing={0} container className={classes.propGrid}>\n        <Grid item xs={1} className={classes.handleGridLeft} />\n        <Grid item xs={10}>\n          <PropAccordianView\n            defaultOpen\n            header={<Typography className={classes.propText}>Speed (RPMs)</Typography>}\n            expandIcon={(\n              <ExpandMoreIcon fontSize=\"small\" />\n            )}\n          >\n            <Tooltip title={`${rpm} rpm (${(rpm / 60).toFixed(3)}/s)`}>\n              <TextField\n                id=\"rpm\"\n                type=\"Number\"\n                value={rpm}\n                onChange={(evt) => {\n                  setRPM(evt.currentTarget.value);\n                }}\n              />\n            </Tooltip>\n          </PropAccordianView>\n        </Grid>\n        <Grid item xs={1} className={classes.handleGridRight} />\n      </Grid>\n    </ListItem>\n  );\n};\n\nGeneratorSettingsView.propTypes = {\n  rpm: PropTypes.number.isRequired,\n  setRPM: PropTypes.func.isRequired,\n};\n\nexport default memo(GeneratorSettingsView);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useCallback, useEffect, useState,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../../Contexts/useGeneratorsContext';\nimport GeneratorSettingsView from './view';\n\nconst GeneratorSettings = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findGenerator } = useGeneratorsContext();\n  const generatorObj = findGenerator(uuid);\n\n  const [rpms, setRPMs] = useState(0);\n  const [res, setRes] = useState(1);\n\n  const isMounted = useRef(false);\n\n  const updateRPM = useCallback((val) => {\n    if (isMounted.current) {\n      setRPMs(val);\n    }\n  }, [isMounted, setRPMs]);\n\n  const updateRes = useCallback((val) => {\n    if (isMounted.current) {\n      setRes(val);\n    }\n  }, [isMounted, setRes]);\n\n  useEffect(() => {\n    if (generatorObj !== undefined) {\n      isMounted.current = true;\n\n      subscribe(`${uuid}-rpm-updated`, updateRPM);\n      setRPMs(generatorObj.rpm);\n\n      subscribe(`${uuid}-resolution-updated`, updateRes);\n      setRes(generatorObj.resolution);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-rpm-updated`, updateRPM);\n      unsubscribe(`${uuid}-resolution-updated`, updateRes);\n    };\n  }, [subscribe, unsubscribe, uuid, generatorObj, updateRPM, updateRes]);\n\n  return (\n    <GeneratorSettingsView {...{\n      resolution: res,\n      rpm: rpms,\n      setResolution: (val) => {\n        if (generatorObj !== undefined) {\n          generatorObj.setResolution(val);\n        }\n      },\n      setRPM: (val) => {\n        if (generatorObj !== undefined) {\n          generatorObj.setRpm(val);\n        }\n      },\n    }}\n    />\n  );\n};\n\nGeneratorSettings.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGeneratorSettings.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default GeneratorSettings;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport PatchValue from './PatchValue/index';\nimport ShapePreview from './ShapePreview/index';\nimport PatchToolbar from './PatchToolbar/index';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport GeneratorSettings from './Settings';\nimport PropListItem from '../../Components/Patches/PropListItem';\n\n/**\n * Patch for Controlling Generators\n */\nconst Generator = ({\n  // eslint-disable-next-line no-unused-vars\n  type = 'orbit',\n  // eslint-disable-next-line no-unused-vars\n  name = 'default',\n  // eslint-disable-next-line no-unused-vars\n  uuid = 'xxx',\n  // eslint-disable-next-line no-unused-vars\n  userData = {\n    isPatchHidden: false,\n  },\n  // eslint-disable-next-line no-unused-vars\n  resolution = 32,\n  // eslint-disable-next-line no-unused-vars\n  rpm = 30,\n  // eslint-disable-next-line no-unused-vars\n  looped = true,\n  // eslint-disable-next-line no-unused-vars\n  paused = false,\n  data,\n}) => {\n  const { uuid: uid, label, width } = data;\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uid}`, type: 'Generator' }} />\n      <ShapePreview {...{ uuid: uid, propName: 'position' }} />\n      <GeneratorSettings uuid={uid} />\n      <PropListItem {...{\n        uuid: uid, propName: 'position', disableInput: true, disableOutput: false,\n      }}\n      >\n        <PatchValue {...{ uuid: uid, propName: 'position' }} />\n      </PropListItem>\n      <PatchToolbar uuid={uid} />\n    </PatchRoot>\n  );\n};\n\nGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGenerator.propTypes = {\n  /**\n   * Name of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  name: PropTypes.string,\n  /**\n   * Type of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  type: PropTypes.string,\n  /**\n   * Unique Patch Id.\n   */\n  // eslint-disable-next-line react/require-default-props\n  uuid: PropTypes.string,\n  /**\n   * Props.\n   */\n  // eslint-disable-next-line react/require-default-props\n  userData: PropTypes.shape({\n    isPatchHidden: PropTypes.bool,\n  }),\n  // eslint-disable-next-line react/require-default-props\n  resolution: PropTypes.number,\n  // eslint-disable-next-line react/require-default-props\n  rpm: PropTypes.number,\n  // eslint-disable-next-line react/require-default-props\n  looped: PropTypes.bool,\n  // eslint-disable-next-line react/require-default-props\n  paused: PropTypes.bool,\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    label: PropTypes.string,\n    width: PropTypes.number,\n  }).isRequired,\n};\n\nexport default memo(Generator);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport usePeersContext from '../../Contexts/usePeersContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findPeer } = usePeersContext();\n  const peerObj = findPeer(uuid);\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (peerObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName.toLowerCase()}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, peerObj, propName, updateProp, uuid]);\n\n  if (peerObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removePeer } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removePeer, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { memo, useEffect, useState } from 'react';\n\nimport PropListItem from '../../Components/Patches/PropListItem/index';\nimport PatchValue from './PatchValue/index';\nimport PatchDetails from '../../Components/Patches/PatchDetails/index';\nimport useConnectionsContext from '../../Connections/Contexts/useConnectionsContext';\nimport PatchRoot from '../../Components/Patches/PatchRoot';\n\nimport PatchToolbar from './PatchToolbar/index';\n\n/**\n * Patch for Controlling Peers\n */\nconst PeerPatch = ({\n  // eslint-disable-next-line no-unused-vars\n  type = 'peer',\n  // eslint-disable-next-line no-unused-vars\n  name = 'default',\n  // eslint-disable-next-line no-unused-vars\n  uuid = 'xxx',\n  // eslint-disable-next-line no-unused-vars\n  userData = {\n    isPatchHidden: false,\n  },\n  data,\n}) => {\n  const { uuid: uid, width } = data;\n  const { findConnection } = useConnectionsContext();\n  const [peer, setPeer] = useState(null);\n\n  const [patchProps, setPatchProps] = useState([]);\n\n  useEffect(() => {\n    if (peer !== null) {\n      setPatchProps([\n        {\n          uuid: peer.uuid, propName: 'data', disableInput: false, disableOutput: false,\n        },\n      ]);\n    }\n  }, [peer]);\n\n  useEffect(() => {\n    const p = findConnection(uid);\n    if (p !== undefined) {\n      setPeer(p);\n    }\n  }, [uid, findConnection, setPeer]);\n\n  if (peer === null) { return null; }\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${peer.name}`, uuid: `${peer.uuid}`, type: 'Peer' }} />\n      {patchProps.map((p) => (<PropListItem key={`${peer.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: peer.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={peer.uuid} />\n    </PatchRoot>\n  );\n};\n\nPeerPatch.propTypes = {\n  /**\n   * Name of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  name: PropTypes.string,\n  /**\n   * Type of Patch.\n   */\n  // eslint-disable-next-line react/require-default-props\n  type: PropTypes.string,\n  /**\n   * Unique Patch Id.\n   */\n  // eslint-disable-next-line react/require-default-props\n  uuid: PropTypes.string,\n  /**\n   * Props.\n   */\n  // eslint-disable-next-line react/require-default-props\n  userData: PropTypes.shape({\n    isPatchHidden: PropTypes.bool,\n  }),\n  data: PropTypes.shape({\n    uuid: PropTypes.string,\n    width: PropTypes.number,\n  }).isRequired,\n};\n\nexport default memo(PeerPatch);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport PatchToolbarView from '../../../Components/Patches/PatchToolbar/view';\n\nconst PatchToolbar = ({ uuid }) => {\n  const { removeWidget } = useAppContext();\n  return (\n    <PatchToolbarView {...{\n      uuid, removeObj: removeWidget, hidePatch: () => {},\n    }}\n    />\n  );\n};\n\nPatchToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPatchToolbar.propTypes = {\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default PatchToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../../Devices/Contexts/useDevicesContext';\n\nimport PatchValueView from '../../../Components/Patches/PatchValue/view';\n\nconst PatchValue = ({ uuid, propName }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(uuid);\n\n  const [propVal, setPropVal] = useState([0, 0, 0]);\n\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-${propName}-updated`, updateProp);\n    };\n  }, [subscribe, unsubscribe, deviceObj, propName, updateProp, uuid]);\n\n  if (deviceObj === undefined) { return <PatchValueView {...{ value: [0, 0, 0] }} />; }\n\n  return <PatchValueView {...{ value: propVal }} />;\n};\n\nPatchValue.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PatchValue;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PatchToolbar from '../PatchToolbar/index';\nimport PatchValue from '../PatchValue/index';\n\nimport PropListItem from '../../../Components/Patches/PropListItem/index';\nimport PatchDetails from '../../../Components/Patches/PatchDetails/index';\nimport PatchRoot from '../../../Components/Patches/PatchRoot';\n\nconst PreviewPatch = ({ data }) => {\n  const {\n    uuid, width, label, type,\n  } = data;\n\n  const patchProps = [\n    {\n      uuid, propName: 'mediastream', disableInput: false, disableOutput: true,\n    },\n  ];\n\n  return (\n    <PatchRoot {...{ width }}>\n      <PatchDetails {...{ name: `${label}`, uuid: `${uuid}`, type }} />\n      {patchProps.map((p) => (<PropListItem key={`${p.uuid}-${p.propName}-prop`} {...p}><PatchValue {...{ uuid: p.uuid, propName: p.propName }} /></PropListItem>))}\n      <PatchToolbar uuid={uuid} />\n    </PatchRoot>\n  );\n};\n\nPreviewPatch.propTypes = {\n  data: PropTypes.shape({\n    uuid: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired,\n    label: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default PreviewPatch;\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport PreviewPatch from './Preview';\n\nconst WidgetPatch = ({ data }) => {\n  const { type } = data;\n  switch (type.toLowerCase()) {\n    default:\n      return (<PreviewPatch {...{ data }} />);\n  }\n};\n\nWidgetPatch.propTypes = {\n  data: PropTypes.shape({\n    type: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default WidgetPatch;\n","import PropTypes from 'prop-types';\n\nimport React, { useState, memo } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { getSmoothStepPath, getEdgeCenter } from 'react-flow-renderer';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  deleteEdgeButton: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    width: '100%',\n  },\n  foreignObject: { opacity: 0 },\n  foreignObjectShow: { opacity: 1 },\n}));\n\nconst CustomEdge = ({\n  sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition, id, style,\n}) => {\n  const classes = useStyles();\n\n  const { removeConnection } = useAppContext();\n\n  const [showDelete, setShowDelete] = useState(false);\n\n  const edgePath = getSmoothStepPath({\n    sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition,\n  });\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n  });\n  const foreignObjectSize = 40;\n  return (\n    <g\n      onMouseOver={() => { setShowDelete(true); }}\n      onMouseOut={() => { setShowDelete(false); }}\n    >\n      <defs>\n        <marker\n          id=\"markerEnd\"\n          markerWidth=\"35\"\n          markerHeight=\"35\"\n          viewBox=\"-10 -10 20 20\"\n          orient=\"auto\"\n          refX=\"-3\"\n          refY=\"0\"\n        >\n          <polyline\n            stroke=\"#222\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"1\"\n            fill=\"#fff\"\n            points=\"-5,-3 0,0 -5,3 -5,-3\"\n          />\n        </marker>\n      </defs>\n      <circle cx={sourceX} cy={sourceY} fill=\"#fff\" r={4} stroke=\"#222\" strokeWidth={1.5} />\n      <path id={id} style={style} className=\"react-flow__edge-path\" d={edgePath} markerEnd=\"url(#markerEnd)\" />\n      <foreignObject\n        width={foreignObjectSize}\n        height={foreignObjectSize}\n        x={edgeCenterX - foreignObjectSize / 2}\n        y={edgeCenterY - foreignObjectSize / 2}\n        className={clsx(classes.foreignObject, {\n          [classes.foreignObjectShow]: showDelete,\n        })}\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\n      >\n        <IconButtonView\n          {...{\n            label: 'Delete',\n            handeClick: () => {\n              removeConnection({ id });\n            },\n          }}\n          className={classes.deleteEdgeButton}\n          disabled={false}\n        >\n          <FontAwesomeIcon icon={faTimes} />\n        </IconButtonView>\n      </foreignObject>\n    </g>\n  );\n};\n\nCustomEdge.propTypes = {\n  sourceX: PropTypes.number.isRequired,\n  sourceY: PropTypes.number.isRequired,\n  sourcePosition: PropTypes.string.isRequired,\n  targetX: PropTypes.number.isRequired,\n  targetY: PropTypes.number.isRequired,\n  targetPosition: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  style: PropTypes.shape({}),\n};\n\nexport default memo(CustomEdge);\n","import PropTypes from 'prop-types';\n\nimport React, { useState, memo } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport { getBezierPath, getEdgeCenter } from 'react-flow-renderer';\n\nimport IconButtonView from '../../Buttons/IconButton/view';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nconst useStyles = makeStyles(() => ({\n  deleteEdgeButton: {\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    width: '100%',\n  },\n  foreignObject: { opacity: 0 },\n  foreignObjectShow: { opacity: 1 },\n}));\n\nconst CustomLineageEdge = ({\n  sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition, id, style,\n  source,\n}) => {\n  const classes = useStyles();\n\n  const { removeFromParent } = useAppContext();\n\n  const [showDelete, setShowDelete] = useState(false);\n\n  const edgePath = getBezierPath({\n    sourceX, sourceY, sourcePosition, targetX, targetY, targetPosition,\n  });\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n  });\n  const foreignObjectSize = 40;\n  return (\n    <g\n      onMouseOver={() => { setShowDelete(true); }}\n      onMouseOut={() => { setShowDelete(false); }}\n    >\n      <defs>\n        <marker\n          id=\"markerEndLineage\"\n          markerWidth=\"35\"\n          markerHeight=\"35\"\n          viewBox=\"-10 -10 20 20\"\n          orient=\"auto\"\n          refX=\"-3\"\n          refY=\"0\"\n        >\n          <polyline\n            stroke=\"#222\"\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"1\"\n            fill=\"#fff\"\n            points=\"-5,-3 0,0 -5,3 -5,-3\"\n          />\n        </marker>\n      </defs>\n      <circle cx={sourceX} cy={sourceY} fill=\"#fff\" r={4} stroke=\"#222\" strokeWidth={1.5} />\n      <path id={id} style={style} className=\"react-flow__edge-path\" d={edgePath} markerEnd=\"url(#markerEndLineage)\" />\n      <foreignObject\n        width={foreignObjectSize}\n        height={foreignObjectSize}\n        x={edgeCenterX - foreignObjectSize / 2}\n        y={edgeCenterY - foreignObjectSize / 2}\n        className={clsx(classes.foreignObject, {\n          [classes.foreignObjectShow]: showDelete,\n        })}\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\n      >\n        <IconButtonView\n          {...{\n            label: 'Emancipate',\n            handeClick: () => {\n              removeFromParent(source);\n            },\n          }}\n          className={classes.deleteEdgeButton}\n          disabled={false}\n        >\n          <FontAwesomeIcon icon={faTimes} />\n        </IconButtonView>\n      </foreignObject>\n    </g>\n  );\n};\n\nCustomLineageEdge.propTypes = {\n  source: PropTypes.string.isRequired,\n  sourceX: PropTypes.number.isRequired,\n  sourceY: PropTypes.number.isRequired,\n  sourcePosition: PropTypes.string.isRequired,\n  targetX: PropTypes.number.isRequired,\n  targetY: PropTypes.number.isRequired,\n  targetPosition: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  style: PropTypes.shape({}),\n};\n\nexport default memo(CustomLineageEdge);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport ReactFlow, {\n  Controls, isNode,\n} from 'react-flow-renderer';\nimport dagre from 'dagre';\n\nimport { makeStyles } from '@material-ui/styles';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst onLoad = () => {\n  // reactFlowInstance.fitView();\n};\n\nconst nodeWidth = 150;\nconst nodeHeight = 200;\n\nconst NodeEditorView = ({\n  elements,\n  nodeTypes,\n  edgeTypes,\n  updateConnection,\n  addConnection,\n  showControls,\n  interactive,\n}) => {\n  const dagreGraph = new dagre.graphlib.Graph();\n  dagreGraph.setDefaultEdgeLabel(() => ({}));\n\n  const getLayoutedElements = (elems) => {\n    dagreGraph.setGraph({\n      rankdir: 'LR',\n      align: 'DL',\n      // ranker: 'tight-tree',\n      // acyclicer: 'greedy',\n      nodesep: 50,\n      edgesep: 0,\n      ranksep: 50,\n      marginx: 20,\n      marginy: 20,\n    });\n\n    elems.forEach((el) => {\n      if (isNode(el)) {\n        dagreGraph.setNode(el.id, { width: nodeWidth, height: nodeHeight });\n      } else {\n        dagreGraph.setEdge(el.source, el.target);\n      }\n    });\n\n    dagre.layout(dagreGraph);\n\n    return elems.filter((el) => !el.isHidden).map((el) => {\n      let newProps = {};\n      if (isNode(el)) {\n        const nodeWithPosition = dagreGraph.node(el.id);\n        newProps = {\n          targetPosition: 'right',\n          sourcePosition: 'left',\n          position: {\n            x: nodeWithPosition.x - nodeWidth / 2 + Math.random() / 1000,\n            y: nodeWithPosition.y - nodeHeight / 2,\n          },\n        };\n      }\n\n      return {\n        ...el,\n        ...newProps,\n      };\n    });\n  };\n\n  const layoutedElements = getLayoutedElements(elements.filter((el) => !el.isHidden));\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <ReactFlow\n        nodesConnectable={interactive}\n        nodesDraggable={interactive}\n        zoomOnScroll={interactive}\n        panOnScroll={interactive}\n        zoomOnDoubleClick={interactive}\n        paneMoveable={interactive}\n        elements={layoutedElements}\n        nodeTypes={nodeTypes}\n        edgeTypes={edgeTypes}\n        onLoad={onLoad}\n        snapToGrid\n        onEdgeUpdate={updateConnection}\n        onConnect={addConnection}\n      >\n        { showControls ? <Controls /> : null }\n      </ReactFlow>\n    </div>\n  );\n};\n\nNodeEditorView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nNodeEditorView.propTypes = {\n  elements: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  nodeTypes: PropTypes.shape([]).isRequired,\n  edgeTypes: PropTypes.shape([]).isRequired,\n  updateConnection: PropTypes.func.isRequired,\n  addConnection: PropTypes.func.isRequired,\n  showControls: PropTypes.bool.isRequired,\n  interactive: PropTypes.bool.isRequired,\n};\n\nexport default memo(NodeEditorView);\n","import React, { useState, useMemo } from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport { rtSceneToFlow } from '../../../Utils/toFlow';\n\nimport Scene from '../../../Scenes/Patches';\nimport ThreeObject from '../../../ThreeObjects/Patches';\n\nimport Device from '../../../Devices/Patches';\nimport Transform from '../../../Transforms/Patches';\nimport Generator from '../../../Generators/Patches';\nimport Peer from '../../../Peers/Patches';\nimport Widget from '../../../Widgets/Patches';\n\nimport CustomEdge from '../../../Components/Patches/Edges/CustomEdge';\nimport CustomLineageEdge from '../../../Components/Patches/Edges/CustomLineageEdge';\n\nimport NodeEditorView from './view';\n\nconst NodeEditor = () => {\n  const [elements, setElements] = useState([]);\n  const { sceneJSON, updateConnection, addConnection } = useAppContext();\n\n  useMemo(() => { setElements(rtSceneToFlow(sceneJSON)); }, [sceneJSON]);\n\n  const nodeTypes = {\n    Scene,\n    threeObj: ThreeObject,\n    device: Device,\n    transform: Transform,\n    generator: Generator,\n    peer: Peer,\n    widget: Widget,\n  };\n\n  const edgeTypes = {\n    custom: CustomEdge,\n    customLineage: CustomLineageEdge,\n  };\n\n  return (\n    <NodeEditorView {...{\n      elements,\n      nodeTypes,\n      edgeTypes,\n      updateConnection,\n      addConnection,\n      showControls: true,\n      interactive: true,\n    }}\n    />\n  );\n};\n\nNodeEditor.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default NodeEditor;\n","import React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nimport useEditorMenuContext from '../../../Contexts/useEditorMenuContext';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst EditorCloseButton = () => {\n  const classes = useStyles();\n  const { editorMenuOpen, setEditorMenuOpen } = useEditorMenuContext();\n\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          setEditorMenuOpen(!editorMenuOpen);\n        },\n      }}\n      className={classes.button}\n      disabled={false}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nEditorCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(EditorCloseButton);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles((theme) => ({\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst SceneDownloadButttonView = ({ sceneJSON }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Download Scene',\n        handeClick: () => {\n          // eslint-disable-next-line no-undef\n          const link = document.createElement('a');\n          link.download = 'RT_Scene.json';\n          link.href = `data:text/json;charset=utf-8,${encodeURIComponent(JSON.stringify(sceneJSON))}`;\n          link.click();\n        },\n      }}\n      className={classes.menuButton}\n      disabled={false}\n    >\n      <GetAppIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nSceneDownloadButttonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nSceneDownloadButttonView.propTypes = {\n  sceneJSON: PropTypes.shape({}).isRequired,\n};\n\nexport default memo(SceneDownloadButttonView);\n","import React from 'react';\n\nimport useAppContext from '../../../../App/Contexts/useAppContext';\nimport SceneDownloadButttonView from './view';\n\nconst SceneDownloadButtton = () => {\n  const { sceneJSON } = useAppContext();\n  return <SceneDownloadButttonView {...{ sceneJSON }} />;\n};\n\nSceneDownloadButtton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SceneDownloadButtton;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useRef, useState, useEffect, useCallback,\n  memo,\n} from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport {\n  ListItemIcon,\n  ListSubheader,\n  MenuItem,\n  Typography,\n} from '@material-ui/core';\n\nimport useConnectionsContext from '../../../../../Connections/Contexts/useConnectionsContext';\nimport useAppContext from '../../../../../App/Contexts/useAppContext';\nimport { getIconByType } from '../../../../../Utils/iconLookup';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    padding: 0,\n    width: '100%',\n  },\n  sectionTitle: {\n    marginTop: 10,\n  },\n}));\n\nconst AddPeersToScene = ({ closeMenu }) => {\n  const { addPeer, sceneJSON } = useAppContext();\n  const { getConnectionsArray } = useConnectionsContext();\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const classes = useStyles();\n\n  const [connections, setConnections] = useState([]);\n\n  useEffect(() => { // update data on load\n    const peer = getConnectionsArray();\n    if (peer !== undefined) {\n      setConnections(peer.filter((p) => (!p.isMe)));\n    }\n  }, [setConnections, getConnectionsArray]);\n\n  const isMounted = useRef(false);\n\n  const updateConnections = useCallback(() => {\n    if (isMounted.current) {\n      const peer = getConnectionsArray();\n      if (peer !== undefined) {\n        setConnections(peer.filter((p) => (!p.isMe)));\n      }\n    }\n  }, [getConnectionsArray]);\n\n  useEffect(() => {\n    if (updateConnections !== undefined) {\n      isMounted.current = true;\n      subscribe('connection-modified', updateConnections);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('connection-modified', updateConnections);\n    };\n  }, [subscribe, unsubscribe, updateConnections]);\n\n  if (connections.length === 0) {\n    return (\n      <ul className={classes.list}>\n        <ListSubheader>No Connected Peers</ListSubheader>\n      </ul>\n    );\n  }\n\n  return (\n    <ul className={classes.list}>\n      <ListSubheader>Add Peer</ListSubheader>\n      {connections.map((connection) => (\n        <MenuItem\n          dense\n          key={`add_peer_menu_${connection.uuid}_${connection.connectionId}`}\n          disabled={(sceneJSON.peers.filter((p) => p.uuid === connection.uuid).length > 0)}\n          onClick={() => { addPeer(connection.uuid); closeMenu(); }}\n        >\n          <ListItemIcon>\n            {getIconByType('Peer')}\n          </ListItemIcon>\n          <Typography variant=\"inherit\">{`${connection.name} (${connection.uuid})`}</Typography>\n        </MenuItem>\n      ))}\n    </ul>\n  );\n};\n\nAddPeersToScene.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nAddPeersToScene.propTypes = {\n  closeMenu: PropTypes.func.isRequired,\n};\n\nexport default memo(AddPeersToScene);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst AddToSceneCloseButtonView = ({ handleClose }) => {\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: (evt) => {\n          handleClose(evt);\n        },\n      }}\n      className={classes.button}\n      disabled={false}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nAddToSceneCloseButtonView.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nAddToSceneCloseButtonView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(AddToSceneCloseButtonView);\n","import React from 'react';\n\nimport AddToSceneCloseButtonView from './view';\n\nconst AddToSceneCloseButton = (props) => (\n  <AddToSceneCloseButtonView {...props} />\n);\n\nAddToSceneCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AddToSceneCloseButton;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faCube, faWaveSquare, faSquareRootAlt, faUsers, faCamera,\n} from '@fortawesome/free-solid-svg-icons';\n\nimport {\n  AppBar, Toolbar, Tabs, Tooltip, Tab,\n} from '@material-ui/core';\n\nimport AddToSceneCloseButton from '../../../Buttons/AddToSceneCloseButton';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  tabRoot: {\n    minWidth: '50px',\n  },\n}));\n\nconst AddToSceneToolbarView = ({ closeMenu, value, handleChange }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <AddToSceneCloseButton handleClose={closeMenu} />\n          <div className={classes.spacer} />\n          <Tabs\n            value={value}\n            onChange={handleChange}\n            variant=\"scrollable\"\n            indicatorColor=\"secondary\"\n            textColor=\"secondary\"\n            scrollButtons=\"off\"\n            title=\"Add to Scene\"\n          >\n            <Tooltip title=\"3D Objects\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={(<FontAwesomeIcon icon={faCube} />)}\n                {...{\n                  id: 'objects-tab-0',\n                  'aria-controls': 'objects-tabpanel-0',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Generators\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faWaveSquare} />}\n                {...{\n                  id: 'generators-tab-1',\n                  'aria-controls': 'generators-tabpanel-1',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Peers\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faUsers} />}\n                {...{\n                  id: 'peers-tab-2',\n                  'aria-controls': 'peers-tabpanel-2',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Devices\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faCamera} />}\n                {...{\n                  id: 'devices-tab-3',\n                  'aria-controls': 'devices-tabpanel-3',\n                }}\n              />\n            </Tooltip>\n            <Tooltip title=\"Transforms\">\n              <Tab\n                classes={{\n                  root: classes.tabRoot,\n                }}\n                icon={<FontAwesomeIcon icon={faSquareRootAlt} />}\n                title=\"transforms\"\n                {...{\n                  id: 'transforms-tab-4',\n                  'aria-controls': 'transforms-tabpanel-4',\n                }}\n              />\n            </Tooltip>\n          </Tabs>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nAddToSceneToolbarView.propTypes = {\n  closeMenu: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default memo(AddToSceneToolbarView);\n","import React from 'react';\n\nimport AddToSceneToolbarView from './view';\n\nconst AddToSceneToolbar = (props) => (\n  <AddToSceneToolbarView {...props} />\n);\n\nAddToSceneToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AddToSceneToolbar;\n","import PropTypes, { node } from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Box,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  tabPanel: {\n    padding: '0 20px',\n  },\n}));\n\n/**\n * Basic Panel for Tabbed Content\n */\nconst TabPanel = ({\n  children = node,\n  value = 0,\n  index = 0,\n  ...props\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`scrollable-prevent-tabpanel-${index}`}\n      title={`scrollable-prevent-tab-${index}`}\n      {...props}\n    >\n      {value === index && (\n        <Box classes={{ root: classes.tabPanel }} p={3}>\n          <div>{children}</div>\n        </Box>\n      )}\n    </div>\n  );\n};\n\nTabPanel.propTypes = {\n  /**\n   * Current selected tab.\n   */\n  value: PropTypes.number.isRequired,\n  /**\n   * Panel index.\n   */\n  index: PropTypes.number.isRequired,\n  /**\n   * Child content.\n   */\n  children: PropTypes.node.isRequired,\n};\n\nexport default memo(TabPanel);\n","import React, { useState, memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  ListSubheader,\n  MenuItem,\n  Menu,\n  ListItemIcon, Typography,\n  // Accordion, AccordionSummary, AccordionDetails,\n} from '@material-ui/core';\n\nimport AddIcon from '@material-ui/icons/Add';\n\nimport useAppContext from '../../../../App/Contexts/useAppContext';\nimport AddPeersToScene from './AddPeersToScene';\nimport { getIconByType } from '../../../../Utils/iconLookup';\n\nimport AddToSceneToolbar from './AddToSceneToolbar';\n\nimport IconButtonView from '../../../../Components/Buttons/IconButton/view';\nimport TabPanel from '../../../../Components/Panels/TabPanel';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  paper: {\n    // width: '375px',\n    // height: '485px',\n  },\n  list: {\n    width: '100%',\n    paddingTop: 0,\n  },\n  itemList: {\n    width: '100%',\n    padding: 0,\n    margin: 0,\n  },\n  button: {},\n}));\n\n/**\n * Menu to add items to scene.\n */\nconst AddToSceneMenu = () => {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  const {\n    addThreeObj, addGenerator,\n    addDevice, addTransform,\n  } = useAppContext();\n\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const openMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const closeMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const addObject = (type) => {\n    addThreeObj(type);\n    closeMenu();\n  };\n\n  return (\n    <div>\n      <IconButtonView\n        {...{\n          label: 'Add',\n          handeClick: (evt) => {\n            openMenu(evt);\n          },\n        }}\n        title=\"Add\"\n        className={classes.button}\n        disabled={false}\n      >\n        <AddIcon fontSize=\"small\" />\n      </IconButtonView>\n      <Menu\n        className={classes.menu}\n        id=\"menu-appbar\"\n        anchorEl={anchorEl}\n        keepMounted\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={open}\n        onClose={closeMenu}\n        classes={{\n          paper: classes.paper,\n          list: classes.list,\n        }}\n      >\n        <div className={classes.root}>\n          <AddToSceneToolbar {...{ value, handleChange, closeMenu }} />\n          <TabPanel value={value} index={0}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Import</ListSubheader>\n              <MenuItem dense onClick={() => { addObject('GLTF'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('GLTF')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">GLTF</Typography>\n              </MenuItem>\n              <ListSubheader>Pure Components</ListSubheader>\n              <MenuItem dense onClick={() => { addObject('Box'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Cube</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addObject('Sphere'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Sphere</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addObject('Plane'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Mesh')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Plane</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={1}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Generator</ListSubheader>\n              <MenuItem dense onClick={() => { addGenerator('Sinewave'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Generator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Sinewave</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addGenerator('Orbit'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('Generator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Orbit</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={2}>\n            <AddPeersToScene closeMenu={closeMenu} />\n          </TabPanel>\n          <TabPanel value={value} index={3}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Device</ListSubheader>\n              <MenuItem dense onClick={() => { addDevice('camera'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('camera')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Camera</Typography>\n              </MenuItem>\n              <MenuItem dense onClick={() => { addDevice('mouse'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('device')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Mouse</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n          <TabPanel value={value} index={4}>\n            <ul className={classes.itemList}>\n              <ListSubheader>Add Transform</ListSubheader>\n              <MenuItem dense onClick={() => { addTransform('calculator'); closeMenu(); }}>\n                <ListItemIcon>\n                  {getIconByType('calculator')}\n                </ListItemIcon>\n                <Typography variant=\"inherit\">Calculator</Typography>\n              </MenuItem>\n            </ul>\n          </TabPanel>\n        </div>\n      </Menu>\n    </div>\n  );\n};\n\nexport default memo(AddToSceneMenu);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\n\nimport EditorCloseButton from '../../Buttons/EditorCloseButton';\nimport SceneDownloadButtton from '../../Buttons/SceneDownloadButton';\nimport AddToSceneMenu from '../../Menus/AddToSceneMenu';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    minHeight: 'auto !important',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    marginRight: theme.spacing(2),\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n}));\n\nconst EditorToolbarView = ({ sceneJSON }) => {\n  const classes = useStyles();\n\n  const { object } = sceneJSON;\n  const { name } = object;\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <EditorCloseButton />\n          <Typography variant=\"h6\" className={classes.title}>\n            {name}\n          </Typography>\n          <SceneDownloadButtton />\n          <div className={classes.spacer} />\n          <AddToSceneMenu />\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nEditorToolbarView.propTypes = {\n  sceneJSON: PropTypes.shape({\n    object: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default memo(EditorToolbarView);\n","import React from 'react';\n\nimport useAppContext from '../../../../App/Contexts/useAppContext';\n\nimport EditorToolbarView from './view';\n\nconst EditorToolbar = () => {\n  const { sceneJSON } = useAppContext();\n  return <EditorToolbarView {...{ sceneJSON }} />;\n};\n\nEditorToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default EditorToolbar;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Drawer, Divider } from '@material-ui/core';\n\nimport NodeEditor from './Components/NodeEditor';\nimport EditorToolbar from './Components/Toolbars/EditorToolbar';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n    height: (props) => props.editorMenuHeight,\n    position: 'fixed',\n  },\n  paper: {\n    width: '100%',\n    height: (props) => props.editorMenuHeight,\n  },\n}));\n\nconst EditorMenuView = ({ editorMenuOpen, editorMenuHeight, setEditorMenuOpen }) => {\n  const classes = useStyles({ editorMenuOpen, editorMenuHeight, setEditorMenuOpen });\n\n  return (\n    <Drawer\n      variant=\"persistent\"\n      anchor=\"bottom\"\n      open={editorMenuOpen}\n      classes={{\n        root: classes.root,\n        paper: classes.paper,\n      }}\n    >\n      <EditorToolbar />\n      <Divider />\n      <NodeEditor />\n    </Drawer>\n  );\n};\n\nEditorMenuView.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  setEditorMenuOpen: PropTypes.func.isRequired,\n};\n\nEditorMenuView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(EditorMenuView);\n","import React from 'react';\n\nimport useEditorMenuContext from './Contexts/useEditorMenuContext';\nimport EditorView from './view';\n\nconst EditorMenu = () => {\n  const { editorMenuOpen, editorMenuHeight, setEditorMenuOpen } = useEditorMenuContext();\n\n  return (\n    <EditorView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      setEditorMenuOpen,\n    }}\n    />\n  );\n};\n\nEditorMenu.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default EditorMenu;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport IconButtonView from '../../../Buttons/IconButton/view';\n\nconst useStyles = makeStyles(() => ({\n  button: {},\n}));\n\nconst ModalCloseButton = ({ handleClose }) => {\n  // Local CSS classes\n  const classes = useStyles();\n  return (\n    <IconButtonView\n      {...{\n        label: 'Close',\n        handeClick: () => {\n          handleClose();\n        },\n      }}\n      className={classes.button}\n      disabled={false}\n    >\n      <CloseIcon fontSize=\"small\" />\n    </IconButtonView>\n  );\n};\n\nModalCloseButton.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nModalCloseButton.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default memo(ModalCloseButton);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { AppBar, Toolbar, Typography } from '@material-ui/core';\nimport ModalCloseButton from '../CloseButton/index';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    minHeight: 'auto !important',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    marginRight: theme.spacing(2),\n  },\n  spacer: {\n    flexGrow: 1,\n  },\n}));\n\nconst ModalToolbarView = ({ handleClose }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar\n          variant=\"dense\"\n        >\n          <ModalCloseButton {...{ handleClose }} />\n          <Typography variant=\"h6\" className={classes.title}>\n            Reckless Technology\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n};\n\nModalToolbarView.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default memo(ModalToolbarView);\n","import PropTypes from 'prop-types';\n\nimport React from 'react';\n\nimport ModalToolbarView from './view';\n\nconst ModalToolbar = ({ handleClose }) => <ModalToolbarView {...{ handleClose }} />;\n\nModalToolbar.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nModalToolbar.propTypes = {\n  handleClose: PropTypes.func.isRequired,\n};\n\nexport default ModalToolbar;\n","import React, { memo, useState, forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Modal, Paper, Divider } from '@material-ui/core';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport { useSpring, animated } from 'react-spring';\n\nimport ModalToolbar from './Toolbar';\n\nconst useStyles = makeStyles(() => ({\n  modal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  root: {\n    width: '375px',\n  },\n}));\n\nconst Fade = forwardRef((props, ref) => {\n  const {\n    in: open, children, onEnter, onExited,\n    ...other\n  } = props;\n  const style = useSpring({\n    from: { opacity: 0 },\n    to: { opacity: open ? 1 : 0 },\n    onStart: () => {\n      if (open && onEnter) {\n        onEnter();\n      }\n    },\n    onRest: () => {\n      if (!open && onExited) {\n        onExited();\n      }\n    },\n  });\n\n  return (\n    // eslint-disable-next-line react/jsx-props-no-spreading\n    <animated.div ref={ref} style={style} {...other}>\n      {children}\n    </animated.div>\n  );\n});\n\nFade.propTypes = {\n  children: PropTypes.element.isRequired,\n  in: PropTypes.bool.isRequired,\n  // eslint-disable-next-line react/require-default-props\n  onEnter: PropTypes.func,\n  // eslint-disable-next-line react/require-default-props\n  onExited: PropTypes.func,\n};\n\nconst BasicModal = ({ children }) => {\n  const classes = useStyles();\n  const [open, setOpen] = useState(true);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <Modal\n      disableEnforceFocus\n      disableAutoFocus\n      title=\"Welcome Model\"\n      className={classes.modal}\n      open={open}\n      onClose={handleClose}\n      closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={open}>\n        <Paper className={classes.root}>\n          <ModalToolbar {...{ handleClose }} />\n          <Divider />\n          {children}\n        </Paper>\n      </Fade>\n    </Modal>\n  );\n};\n\nBasicModal.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default memo(BasicModal);\n","import React, { memo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  Typography, List, ListItem, Link,\n} from '@material-ui/core';\n\nimport BasicModal from '../../../Components/Modals/Basic';\n\nconst useStyles = makeStyles(() => ({\n  listRoot: {\n    width: '100%',\n  },\n  listItem: {\n    width: '100%',\n  },\n  title: {},\n}));\n\nconst WelcomeModal = () => {\n  const classes = useStyles();\n  return (\n    <BasicModal>\n      <List\n        dense\n        className={classes.listRoot}\n      >\n        <ListItem className={classes.listItem}>\n          <Typography variant=\"body2\">\n            Welcome to the Proof of Concept demo of Reckless Techology:\n            a free and open source progressive web app that allows artists and performers\n            to quickly connect and collaborate in real-time.\n          </Typography>\n        </ListItem>\n        <ListItem className={classes.listItem}>\n          <Typography variant=\"body2\">\n            Check out\n            <Link target=\"_blank\" href=\"https://github.com/RecklessTechnology/create-reckless-tech-app/wiki\">\n              &nbsp;the wiki&nbsp;\n            </Link>\n            for more information.\n          </Typography>\n        </ListItem>\n      </List>\n    </BasicModal>\n  );\n};\n\nWelcomeModal.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(WelcomeModal);\n","import PropTypes from 'prop-types';\n\nimport React, { createContext, useMemo, useState } from 'react';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const WidgetsContext = createContext(null);\n// eslint-disable-next-line import/no-mutable-exports\nexport let widgetsContextValue = {};\n\nconst WidgetsManager = ({\n  children,\n}) => {\n  const { publish } = useAppContext();\n  // Widget Connections\n  const [WidgetRegistry] = useState(() => new Map());\n\n  const widgetRegistryUtils = useMemo(\n    () => ({\n      findWidget(id) {\n        return WidgetRegistry.get(id);\n      },\n      registerWidget(identifier, ref) {\n        // register by id\n        WidgetRegistry.set(identifier, ref);\n        publish('widgets-list-changed', ref, 'add');\n      },\n      unregisterWidget(identifier) {\n        // unregister by id\n        WidgetRegistry.delete(identifier);\n        publish('widgets-list-changed', identifier, 'remove');\n      },\n      getWidgetsArray() {\n        return Array.from(WidgetRegistry.keys()).map((id) => WidgetRegistry.get(id));\n      },\n    }),\n    [WidgetRegistry, publish],\n  );\n\n  widgetsContextValue = useMemo(() => ({\n    WidgetRegistry,\n    ...widgetRegistryUtils,\n  }), [\n    WidgetRegistry,\n    widgetRegistryUtils,\n  ]);\n\n  return (\n    <WidgetsContext.Provider value={widgetsContextValue}>\n      {children}\n    </WidgetsContext.Provider>\n  );\n};\n\nWidgetsManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default WidgetsManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\n\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useWidgetsContext from '../Contexts/useWidgetsContext';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const WidgetContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: 'widget',\n};\n\nconst WidgetManager = ({\n  children,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('device'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type || '');\n\n  const [previewStream, setPreviewStream] = useState();\n  const [poses, setPoses] = useState();\n\n  // Inputs\n  const updateFromInput = (prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'poses':\n        setPoses(val);\n        break;\n      case 'mediastream':\n        setPreviewStream(val);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe]);\n\n  // Outputs\n  useEffect(() => { publish(`${uuid}-mediastream-updated`, previewStream); }, [uuid, previewStream, publish]);\n  useEffect(() => { publish(`${uuid}-poses-updated`, poses); }, [uuid, poses, publish]);\n\n  const { registerWidget, unregisterWidget } = useWidgetsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const widgetRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n\n    previewStream,\n    setPreviewStream,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n\n    previewStream, setPreviewStream,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => widgetRef, [widgetRef]);\n\n  // On load, register object with app context\n\n  useEffect(() => {\n    registerWidget(uuid, widgetRef);\n    return () => unregisterWidget(uuid, widgetRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    previewStream,\n    setPreviewStream,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    previewStream, setPreviewStream,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <WidgetContext.Provider value={contextValue}>\n      {children}\n    </WidgetContext.Provider>\n  );\n};\n\nWidgetManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgetManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default WidgetManager;\n","import { useContext } from 'react';\nimport { WidgetsContext } from '../Managers/WidgetsManager';\n\nexport default function useWidgetsContext() {\n  return useContext(WidgetsContext);\n}\n","import React, {\n  memo, createRef, useEffect,\n} from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst VideoPlayer = ({ stream }) => {\n  const videoRef = createRef();\n\n  useEffect(() => {\n    if (videoRef.current.srcObject !== stream) {\n      videoRef.current.srcObject = null;\n    }\n    videoRef.current.srcObject = stream;\n  }, [stream, videoRef]);\n\n  return (\n    <video width=\"100%\" height=\"100%\" ref={videoRef} autoPlay playsInline muted />\n  );\n};\n\nVideoPlayer.propTypes = {\n  stream: PropTypes.shape({}).isRequired,\n};\n\nexport default memo(VideoPlayer);\n","/* eslint-disable react/prop-types */\nimport React, {\n  memo, createRef, useEffect,\n} from 'react';\n\nimport PropTypes from 'prop-types';\n\nconst Canvas = ({ poses, dim }) => {\n  const canvasRef = createRef(null);\n  useEffect(() => {\n    if (canvasRef.current) {\n      const ctx = canvasRef.current.getContext('2d');\n      const { width, height } = canvasRef.current.getBoundingClientRect();\n      ctx.clearRect(0, 0, width, height);\n      poses.forEach((p) => {\n        p.keypoints.forEach((k) => {\n          // { name, score, x, y }\n          if (k.score > 0.75) {\n            ctx.fillStyle = '#FF0000';\n            ctx.fillRect(\n              (k.x / width) * dim[0],\n              (k.y / height) * dim[1],\n              5,\n              5,\n            );\n          }\n        });\n      });\n    }\n  }, [canvasRef, dim, poses]);\n  return (\n    <canvas\n      style={{\n        border: '1px solid red',\n        zIndex: 2,\n        position: 'absolute',\n        left: 0,\n        top: 0,\n      }}\n      width={`${dim[0]}px`}\n      height={`${dim[1]}px`}\n      ref={canvasRef}\n    />\n  );\n};\n\nCanvas.propTypes = {\n  poses: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n};\n\nexport default memo(Canvas);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useEffect, useRef, useState, useCallback,\n  memo,\n} from 'react';\nimport {\n  makeStyles, Card, CardActionArea, CardContent, Typography,\n} from '@material-ui/core';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useWidgetContext from '../../Contexts/useWidgetContext';\n\nimport VideoPlayer from './VideoPlayer';\nimport Canvas from './Canvas';\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    width: (props) => {\n      switch (props.size.toLowerCase()) {\n        default:\n        case 'small':\n          return '15%';\n        case 'medium':\n          return '30%';\n        case 'large':\n          return '45%';\n        case 'huge':\n          return '60%';\n        case 'fullscreen':\n          return '100%';\n      }\n    },\n    right: (props) => {\n      switch (props.location.split('-')[1].toLowerCase()) {\n        default:\n        case 'right':\n          return 0;\n        case 'left':\n          return 'auto';\n      }\n    },\n  },\n  content: {\n    paddingBottom: '5px',\n  },\n});\n\nconst CameraPreview = ({\n  name, size, location, uuid,\n}) => {\n  const classes = useStyles({ size, location });\n\n  const { subscribe, unsubscribe } = useAppContext();\n\n  const { previewStream, poses } = useWidgetContext();\n\n  const isMounted = useRef(false);\n\n  const [stream, setStream] = useState(previewStream);\n  const [poseList, setPoseList] = useState(poses);\n  const [dim, setDim] = useState();\n\n  const previewRef = useRef(null);\n\n  const updateStream = useCallback((val) => {\n    if (isMounted.current) {\n      setStream(val);\n    }\n  }, [isMounted, setStream]);\n\n  const updatePoses = useCallback((val) => {\n    if (isMounted.current) {\n      setPoseList(val);\n    }\n  }, [isMounted, setPoseList]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    subscribe(`${uuid}-mediastream-updated`, updateStream);\n    // eslint-disable-next-line no-console\n    subscribe(`${uuid}-poses-updated`, updatePoses);\n\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-mediastream-updated`, updateStream);\n    };\n  }, [subscribe, unsubscribe, updatePoses, updateStream, uuid]);\n\n  useEffect(() => {\n    if (previewRef.current) {\n      setDim([previewRef.current.offsetWidth, previewRef.current.offsetHeight]);\n    }\n  }, [previewRef, setDim, stream]);\n\n  return (\n    <Card className={classes.root}>\n      <CardActionArea>\n        <CardContent className={classes.content}>\n          <div\n            style={{\n              position: 'relative',\n              width: '100%',\n              minWidth: '100%',\n              height: '100%',\n              minHeight: '100%',\n              border: '1px solid white',\n            }}\n            ref={previewRef}\n          >\n            { stream !== undefined ? <VideoPlayer stream={stream} /> : null }\n            { poseList !== undefined ? <Canvas dim={dim} poses={poseList} /> : null }\n          </div>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {name}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nCameraPreview.propTypes = {\n  name: PropTypes.string.isRequired,\n  size: PropTypes.string.isRequired,\n  location: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(CameraPreview);\n","import { useContext } from 'react';\nimport { WidgetContext } from '../Managers/WidgetManager';\n\nexport default function useWidgetContext() {\n  return useContext(WidgetContext);\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useState, useEffect, useRef, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDevicesContext from '../../../Devices/Contexts/useDevicesContext';\n\nimport PreviewWidgetView from './view';\n\nconst PreviewWidget = ({ propName, connection, ...props }) => {\n  const { from } = connection;\n  const { subscribe, unsubscribe } = useAppContext();\n  const { findDevice } = useDevicesContext();\n  const deviceObj = findDevice(from);\n  const [propVal, setPropVal] = useState(null);\n  const isMounted = useRef(false);\n\n  const updateProp = useCallback((val) => {\n    if (isMounted.current) {\n      setPropVal(val);\n    }\n  }, [isMounted, setPropVal]);\n\n  useEffect(() => {\n    if (deviceObj !== undefined) {\n      isMounted.current = true;\n      subscribe(`${deviceObj.uuid}-${propName}-updated`, updateProp);\n    }\n    return () => {\n      if (deviceObj !== undefined) {\n        isMounted.current = false;\n        unsubscribe(`${deviceObj.uuid}-${propName}-updated`, updateProp);\n      }\n    };\n  }, [deviceObj, from, propName, subscribe, unsubscribe, updateProp]);\n\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  return <PreviewWidgetView {...{ value: propVal }} {...props} />;\n};\n\nPreviewWidget.propTypes = {\n  connection: PropTypes.shape({\n    from: PropTypes.string,\n  }).isRequired,\n  propName: PropTypes.string.isRequired,\n};\n\nexport default PreviewWidget;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\nimport useAppContext from '../App/Contexts/useAppContext';\n\nimport WidgetManager, { DefaultProps } from './Managers/WidgetManager';\n\nimport Preview from './Components/Preview';\n\nconst WidgetsView = ({ uuid, type, ...props }) => {\n  const { sceneJSON } = useAppContext();\n  switch (type.toLowerCase()) {\n    default:\n    case 'preview':\n      return (\n        (sceneJSON.connections.filter((c) => (c.to === uuid))[0])\n          ? (\n            <WidgetManager {...DefaultProps} uuid={uuid} type={type} {...props}>\n              <Preview uuid={uuid} type={type} {...props} propName=\"previewstream\" connection={sceneJSON.connections.filter((c) => (c.to === uuid))[0]} />\n            </WidgetManager>\n          )\n          : null\n      );\n  }\n};\n\nWidgetsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgetsView.propTypes = {\n  type: PropTypes.string.isRequired,\n  uuid: PropTypes.string.isRequired,\n};\n\nexport default memo(WidgetsView);\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport { makeStyles } from '@material-ui/styles';\n\nimport useAppContext from '../App/Contexts/useAppContext';\n\nimport WidgetsView from './view';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    zIndex: 1,\n    pointerEvents: 'none',\n    width: (props) => (\n      `calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`\n    ),\n    height: '100%',\n    transition: theme.transitions.create(['width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n}));\nconst Widgets = ({\n  editorMenuOpen,\n  editorMenuHeight,\n  inspectorMenuOpen,\n  inspectorMenuWidth,\n}) => {\n  const { sceneJSON } = useAppContext();\n  const { widgets } = sceneJSON;\n  // Local CSS classes\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuOpen,\n    inspectorMenuWidth,\n  });\n  return (\n    <div\n      className={classes.root}\n      onClick={(e) => { e.preventDefault(); }}\n      aria-hidden=\"true\"\n    >\n      {widgets.map((widget) => (\n        <WidgetsView key={`rt_${widget.type}_device_${widget.uuid}`} {...widget} />\n      ))}\n    </div>\n  );\n};\n\nWidgets.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nWidgets.propTypes = {\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n};\n\nexport default memo(Widgets);\n","import { PropTypes } from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport {\n  AppBar, Toolbar,\n} from '@material-ui/core';\n\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport Inspector from '../Inspector';\nimport Editor from '../Editor';\n\nimport IconButtonView from '../Components/Buttons/IconButton/view';\nimport WelcomeModal from '../Help/Modals/Welcome';\n\nimport Widgets from '../Widgets';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    height: '100%',\n    overflow: 'scroll',\n  },\n  rootShiftBottom: {\n    height: (props) => (`calc(100% - ${props.editorMenuOpen ? props.editorMenuHeight : 0}px)`),\n    transition: theme.transitions.create('height', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  appBar: {\n    width: (props) => (`calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    background: 'none',\n    boxShadow: 'none',\n  },\n  appBarShiftLeft: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  appBarShiftRight: {\n    marginRight: (props) => (props.inspectorMenuWidth),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  renderArea: {\n    flexGrow: 1,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: 0,\n    marginRight: 0,\n    height: '100%',\n  },\n  renderAreaShiftLeft: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  renderAreaShiftRight: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: (props) => (props.inspectorMenuWidth),\n  },\n  bottomAppBar: {\n    width: (props) => (`calc(100% - ${(props.inspectorMenuOpen ? props.inspectorMenuWidth : 0)}px)`),\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    top: 'auto',\n    bottom: (props) => (props.editorMenuOpen ? props.editorMenuHeight : 0),\n    background: 'none',\n    boxShadow: 'none',\n  },\n  bottomToolbar: {\n    width: '100%',\n  },\n  editorButton: {},\n  inspectorButton: {\n    marginLeft: 'auto !important',\n  },\n}));\n\nconst AppView = ({\n  children,\n  editorMenuOpen,\n  editorMenuHeight,\n  setEditorMenuOpen,\n  inspectorMenuOpen,\n  inspectorMenuWidth,\n  setInspectorMenuOpen,\n}) => {\n  // Local CSS classes\n  const classes = useStyles({\n    editorMenuOpen,\n    editorMenuHeight,\n    inspectorMenuOpen,\n    inspectorMenuWidth,\n  });\n\n  return (\n    <div\n      className={clsx(classes.root, {\n        [classes.rootShiftBottom]: editorMenuOpen,\n      })}\n    >\n      <main\n        className={clsx(classes.renderArea, {\n          [classes.renderAreaShiftRight]: inspectorMenuOpen,\n        })}\n      >\n        <Widgets\n          {...{\n            editorMenuOpen,\n            editorMenuHeight,\n            inspectorMenuOpen,\n            inspectorMenuWidth,\n          }}\n        />\n        {children}\n        <AppBar\n          position=\"fixed\"\n          color=\"primary\"\n          className={clsx(classes.bottomAppBar, {\n            [classes.appBarShiftRight]: inspectorMenuOpen,\n          })}\n        >\n          <Toolbar\n            variant=\"dense\"\n            className={classes.bottomToolbar}\n          >\n            {editorMenuOpen !== true ? (\n              <IconButtonView\n                {...{\n                  label: 'Edit',\n                  handeClick: () => {\n                    setEditorMenuOpen(!editorMenuOpen);\n                  },\n                }}\n                className={classes.editorButton}\n                disabled={false}\n              >\n                <CreateIcon fontSize=\"small\" />\n              </IconButtonView>\n            ) : null}\n            {inspectorMenuOpen !== true ? (\n              <IconButtonView\n                {...{\n                  label: 'Inspect',\n                  handeClick: () => {\n                    setInspectorMenuOpen(!inspectorMenuOpen);\n                  },\n                }}\n                className={classes.inspectorButton}\n                disabled={false}\n              >\n                <InfoOutlinedIcon fontSize=\"small\" />\n              </IconButtonView>\n            ) : null}\n          </Toolbar>\n        </AppBar>\n      </main>\n      {inspectorMenuOpen === true ? <Inspector /> : null}\n      {editorMenuOpen === true ? <Editor /> : null}\n      <WelcomeModal />\n    </div>\n  );\n};\n\nAppView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nAppView.propTypes = {\n  children: PropTypes.node.isRequired,\n  editorMenuOpen: PropTypes.bool.isRequired,\n  editorMenuHeight: PropTypes.number.isRequired,\n  setEditorMenuOpen: PropTypes.func.isRequired,\n  inspectorMenuOpen: PropTypes.bool.isRequired,\n  inspectorMenuWidth: PropTypes.number.isRequired,\n  setInspectorMenuOpen: PropTypes.func.isRequired,\n};\n\nAppView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(AppView);\n","import { useMemo } from 'react';\nimport * as THREE from 'three';\n\n// Finds the values needed for @react-three/fiber's props\nconst ThreeUsedProps = (props) => {\n  const propKeys = useMemo(\n    () => Object.keys(props).filter((prop) => new THREE[props.type]()[prop] !== undefined),\n    [props],\n  );\n  const filteredProps = useMemo(() => propKeys\n    .filter((key) => propKeys.includes(key))\n    .reduce((obj, key) => {\n      // eslint-disable-next-line no-param-reassign\n      obj[key] = props[key];\n      return obj;\n    }, {}), [propKeys, props]);\n  return filteredProps;\n};\n\n// Finds the values needed for @react-three/fiber's args array\nconst ThreeParamsToArgs = (props) => {\n  const filteredProps = ThreeUsedProps(props);\n\n  const params = useMemo(\n    () => (new THREE[props.type]().parameters !== undefined\n      ? new THREE[props.type]().parameters : filteredProps),\n    [props, filteredProps],\n  );\n  const args = useMemo(() => (params === undefined ? [] : Object.keys(params).map((param) => {\n    if (param === 'color') return `#${new THREE.Color(props[param]).getHexString()}`;\n    return props[param];\n  })), [props, params]);\n\n  return args;\n};\n\nexport {\n  ThreeUsedProps,\n  ThreeParamsToArgs,\n};\n","import PropTypes from 'prop-types';\n\nimport React, { createContext } from 'react';\n\nimport { AppContext, appContextValue } from '../../App/Managers/AppManager';\nimport { ThreeObjectsContext, threeObjectsContextValue } from '../../ThreeObjects/Managers/ThreeObjectsManager';\nimport { PeersContext, peersContextValue } from '../../Peers/Managers/PeersManager';\nimport { ConnectionsContext, connectionsContextValue } from '../../Connections/Managers/ConnectionsManager';\nimport { GeneratorsContext, generatorsContextValue } from '../../Generators/Managers/GeneratorsManager';\nimport { DevicesContext, devicesContextValue } from '../../Devices/Managers/DevicesManager';\nimport { TransformsContext, transformsContextValue } from '../../Transforms/Managers/TransformsManager';\nimport { WidgetsContext, widgetsContextValue } from '../../Widgets/Managers/WidgetsManager';\n\nexport const WorldContext = createContext(null);\nexport const worldContextValue = {};\n\nconst WorldManager = ({\n  children,\n}) => (\n  <AppContext.Provider value={appContextValue}>\n    <ThreeObjectsContext.Provider value={threeObjectsContextValue}>\n      <PeersContext.Provider value={peersContextValue}>\n        <ConnectionsContext.Provider value={connectionsContextValue}>\n          <GeneratorsContext.Provider value={generatorsContextValue}>\n            <DevicesContext.Provider value={devicesContextValue}>\n              <TransformsContext.Provider value={transformsContextValue}>\n                <WidgetsContext.Provider value={widgetsContextValue}>\n                  <WorldContext.Provider value={worldContextValue}>\n                    {children}\n                  </WorldContext.Provider>\n                </WidgetsContext.Provider>\n              </TransformsContext.Provider>\n            </DevicesContext.Provider>\n          </GeneratorsContext.Provider>\n        </ConnectionsContext.Provider>\n      </PeersContext.Provider>\n    </ThreeObjectsContext.Provider>\n  </AppContext.Provider>\n);\n\nWorldManager.propTypes = {\n  children: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n};\n\nexport default WorldManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport useGeneratorsContext from '../Contexts/useGeneratorsContext';\n\nexport const GeneratorContext = createContext(null);\n\nexport const DefaultProps = {\n  name: 'unnamed',\n  position: [0, 0, 0],\n};\n\nconst GeneratorManager = ({\n  children,\n  ...props\n}) => {\n  const { publish } = useAppContext();\n\n  const identifier = useRef(Symbol('Generator'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type || '');\n  const [resolution, setResolution] = useState(parseInt(props.resolution, 10) || 1);\n  const [rpm, setRpm] = useState(parseInt(props.rpm, 10) || 1000);\n  const [looped, setLooped] = useState(props.looped || true);\n  const [paused, setPaused] = useState(props.paused || false);\n\n  const [position, setPosition] = useState([0, 0, 0]);\n\n  useEffect(() => { publish(`${uuid}-position-updated`, position); }, [uuid, position, publish]);\n  useEffect(() => { publish(`${uuid}-paused-updated`, paused); }, [uuid, paused, publish]);\n  useEffect(() => { publish(`${uuid}-looped-updated`, looped); }, [uuid, looped, publish]);\n  useEffect(() => { publish(`${uuid}-rpm-updated`, rpm); }, [uuid, rpm, publish]);\n  useEffect(() => { publish(`${uuid}-resolution-updated`, resolution); }, [uuid, resolution, publish]);\n\n  const { registerGenerator, unregisterGenerator } = useGeneratorsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const generatorRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n    resolution,\n    setResolution,\n    rpm,\n    setRpm,\n    looped,\n    setLooped,\n    paused,\n    setPaused,\n    position,\n    setPosition,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n    resolution, setResolution,\n    rpm, setRpm,\n    looped, setLooped,\n    paused, setPaused,\n    position, setPosition,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => generatorRef, [generatorRef]);\n\n  // // On load, register object with app context\n  useEffect(() => {\n    registerGenerator(uuid, generatorRef);\n    return () => unregisterGenerator(uuid, generatorRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n    resolution,\n    setResolution,\n    rpm,\n    setRpm,\n    looped,\n    setLooped,\n    paused,\n    setPaused,\n    position,\n    setPosition,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    resolution, setResolution,\n    rpm, setRpm,\n    looped, setLooped,\n    paused, setPaused,\n    position, setPosition,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <GeneratorContext.Provider value={contextValue}>\n      {children}\n    </GeneratorContext.Provider>\n  );\n};\n\nGeneratorManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  resolution: PropTypes.number.isRequired,\n  rpm: PropTypes.number.isRequired,\n  looped: PropTypes.bool.isRequired,\n  paused: PropTypes.bool.isRequired,\n};\n\nGeneratorManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default GeneratorManager;\n","import { useContext } from 'react';\nimport { GeneratorContext } from '../Managers/GeneratorManager';\n\nexport default function useGeneratorContext() {\n  return useContext(GeneratorContext);\n}\n","import {\n  useState, useMemo, useCallback, useEffect,\n} from 'react';\n\nimport { useSpring } from '@react-spring/core';\nimport useGeneratorContext from '../../Contexts/useGeneratorContext';\n\nimport DrawCircle from '../../../Shapes/drawCircle';\n\nconst OrbitGenerator = ({ toProp }) => {\n  const {\n    type, resolution, rpm, looped, paused, setPosition: setGenPosition,\n  } = useGeneratorContext();\n\n  const [animMili] = useState(((60 * 1000) / rpm) / (360 / resolution));\n\n  const points = useMemo(() => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'sine':\n        return DrawCircle(resolution);\n    }\n  }, [type, resolution]);\n\n  const toPoints = useMemo(() => [\n    ...points.map((pos) => ({ [toProp]: [pos[0], pos[1], 0] })),\n  ], [points, toProp]);\n\n  const handleChange = useCallback((result) => {\n    if (result.value !== undefined) {\n      setGenPosition(result.value[toProp]);\n    }\n  }, [toProp, setGenPosition]);\n\n  const config = useMemo(() => ({\n    pause: paused,\n    loop: looped,\n    to: toPoints,\n    config: {\n      duration: animMili,\n      friction: 5,\n    },\n    onChange: handleChange,\n  }), [toPoints, animMili, paused, looped, handleChange]);\n\n  const [, api] = useSpring(() => (config));\n  useEffect(() => {\n    api.stop();\n    api.start(config);\n  }, [api, config]);\n\n  return null;\n};\n\nOrbitGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default OrbitGenerator;\n","const rpmToMili = (rpm, resolution) => ((60 * 1000) / rpm) / (360 / resolution);\n\nexport {\n  // eslint-disable-next-line import/prefer-default-export\n  rpmToMili,\n};\n","import PropTypes from 'prop-types';\n\nimport {\n  useState, useMemo, useCallback, useEffect,\n} from 'react';\n\nimport { useSpring } from '@react-spring/core';\nimport useGeneratorContext from '../../Contexts/useGeneratorContext';\n\nimport DrawSine from '../../../Shapes/drawSine';\nimport { rpmToMili } from '../../../Utils/commonMath';\n\nconst SinewaveGenerator = ({ toProp }) => {\n  const {\n    type, resolution, rpm, looped, paused, setPosition: setGenPosition,\n  } = useGeneratorContext();\n  const [animMili, setAnimMili] = useState(rpmToMili(rpm, resolution));\n\n  useEffect(() => {\n    setAnimMili(rpmToMili(rpm, resolution));\n  }, [rpm, resolution]);\n\n  const points = useMemo(() => {\n    switch (type.toLowerCase()) {\n      default:\n      case 'sine':\n        return DrawSine(resolution);\n    }\n  }, [type, resolution]);\n\n  const toPoints = useMemo(() => [\n    ...points.map((pos) => ({ [toProp]: [pos[0], pos[1], 0] })),\n  ], [points, toProp]);\n\n  const handleChange = useCallback((result) => {\n    if (result.value !== undefined) {\n      setGenPosition(result.value[toProp]);\n    }\n  }, [toProp, setGenPosition]);\n\n  const config = useMemo(() => ({\n    pause: paused,\n    loop: looped,\n    to: toPoints,\n    config: {\n      duration: animMili,\n      friction: 5,\n    },\n    onChange: handleChange,\n  }), [toPoints, animMili, paused, looped, handleChange]);\n\n  const [, api] = useSpring(() => (config));\n  useEffect(() => {\n    api.stop();\n    api.start(config);\n  }, [api, config]);\n\n  return null;\n};\n\nSinewaveGenerator.propTypes = {\n  toProp: PropTypes.string.isRequired,\n};\n\nSinewaveGenerator.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SinewaveGenerator;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport OrbitGenerator from './Orbit/index';\nimport SinewaveGenerator from './Sinewave/index';\nimport GeneratorManager, { DefaultProps } from '../Managers/GeneratorManager';\n\nconst GeneratorsView = ({ type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'orbit':\n      return (\n        <GeneratorManager {...DefaultProps} type={type} {...props}>\n          <OrbitGenerator />\n        </GeneratorManager>\n      );\n    case 'sinewave':\n      return (\n        <GeneratorManager {...DefaultProps} type={type} {...props}>\n          <SinewaveGenerator toProp=\"value\" />\n        </GeneratorManager>\n      );\n  }\n};\n\nGeneratorsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nGeneratorsView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(GeneratorsView);\n","import React, { memo } from 'react';\n\nimport GeneratorsView from './view';\n\nconst Generators = ({ generators }) => generators.map((gen) => (<GeneratorsView key={`rt_${gen.type}_generator_${gen.uuid}`} {...gen} />));\n\nGenerators.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Generators);\n","import PropTypes, { node } from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport useConnectionsContext from '../../Connections/Contexts/useConnectionsContext';\nimport usePeersContext from '../Contexts/usePeersContext';\n\nexport const PeerContext = createContext(null);\n\nexport const DefaultProps = {\n  name: 'unnamed',\n  position: [0, 0, 0],\n};\n\nconst PeerManager = ({\n  children = node,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const { registerPeer, unregisterPeer } = usePeersContext();\n  const { getMe, findConnection } = useConnectionsContext();\n  const forceUpdate = useForceUpdate();\n\n  const nodeRef = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [type, setType] = useState(props.type);\n\n  const [data, setData] = useState(props.data || [0, 0, 0]);\n\n  const [connection, setConnection] = useState();\n\n  useEffect(() => {\n    setConnection(findConnection(uuid));\n  }, [findConnection, uuid]);\n\n  // Inputs\n  const updateFromInput = useCallback((prop, from, val) => {\n    const me = getMe();\n    // findConnection();\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'data':\n        if (connection !== undefined) {\n          if (typeof connection.sendData === 'function') {\n            connection.sendData({\n              type: from, payload: val, uuid: me.uuid, from: me.connectionId, timestamp: Date.now,\n            });\n            setData(val);\n          }\n        }\n        break;\n    }\n  }, [connection, getMe]);\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), c.fromProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), c.fromProp.toLowerCase(), val); });\n      });\n    };\n  }, [\n    connections,\n    uuid,\n    subscribe,\n    unsubscribe,\n    updateFromInput,\n  ]);\n\n  useEffect(() => { publish(`${uuid}-data-updated`, data); }, [uuid, data, publish]);\n\n  // Reference to object properties\n  const peerRef = useMemo(() => ({\n    uuid,\n    name,\n\n    data,\n    setData,\n  }), [\n    uuid,\n    name,\n\n    data, setData,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => peerRef, [peerRef]);\n\n  // On load, register object with app context\n  useEffect(() => {\n    registerPeer(uuid, peerRef);\n    return () => unregisterPeer(uuid, peerRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    name,\n\n    nodeRef,\n    getRef,\n\n    type,\n    setType,\n    data,\n    setData,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    name,\n\n    nodeRef,\n    getRef,\n\n    type, setType,\n    data, setData,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <PeerContext.Provider value={contextValue}>\n      {children}\n    </PeerContext.Provider>\n  );\n};\n\nPeerManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  data: PropTypes.shape([]).isRequired,\n};\n\nexport default PeerManager;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport PeerManager, { DefaultProps } from '../Managers/PeerManager';\n\nconst PeerView = ({ type, ...props }) => (\n  <PeerManager {...DefaultProps} type={type} {...props}><div /></PeerManager>\n);\n\nPeerView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nPeerView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(PeerView);\n","import React, { memo } from 'react';\n\nimport PeerView from './view';\n\nconst Peers = ({ peers }) => peers.map((peer) => (<PeerView key={`rt_${peer.type}_peer_${peer.uuid}`} {...peer} />));\n\nPeers.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Peers);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\n\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useDevicesContext from '../Contexts/useDevicesContext';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nexport const DeviceContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: '',\n  position: [0, 0, 0],\n  active: false,\n  deviceList: [{ label: 'no data' }],\n  selectedDevice: { label: 'no data' },\n};\n\nconst DeviceManager = ({\n  children,\n  uuid: passedUUID,\n  name: passedName,\n  type: passedType,\n  position: passedPosition,\n  active: passedActive,\n  deviceList: passedDeviceList,\n  selectedDevice: passedSelectedDevice,\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('device'));\n  const node = useRef(null);\n\n  const [uuid] = useState(passedUUID);\n  const [name] = useState(passedName);\n\n  const [type, setType] = useState(passedType || '');\n  const [position, setPosition] = useState(passedPosition || [0, 0, 0]);\n  const [mediaStream, setMediaStream] = useState();\n\n  const [active, setActive] = useState(passedActive || false);\n  const [deviceList, setDeviceList] = useState(passedDeviceList || []);\n  const [selectedDevice, setSelectedDevice] = useState(passedSelectedDevice || deviceList[0]);\n\n  // Inputs\n  const updateFromInput = (prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'position':\n        setPosition(val);\n        break;\n      case 'mediastream':\n        setMediaStream(val);\n        break;\n    }\n  };\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe]);\n\n  // Outputs\n  useEffect(() => { publish(`${uuid}-position-updated`, position); }, [uuid, position, publish]);\n  useEffect(() => { publish(`${uuid}-mediastream-updated`, mediaStream); }, [uuid, mediaStream, publish]);\n\n  useEffect(() => { publish(`${uuid}-active-updated`, active); }, [uuid, active, publish]);\n  useEffect(() => { publish(`${uuid}-selected-device-updated`, selectedDevice); }, [uuid, selectedDevice, publish]);\n  useEffect(() => { publish(`${uuid}-device-list-updated`, deviceList); if (selectedDevice.deviceId === undefined) { setSelectedDevice(deviceList[0]); } }, [uuid, deviceList, publish, setSelectedDevice, selectedDevice]);\n\n  const { registerDevice, unregisterDevice } = useDevicesContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const deviceRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n\n    type,\n    setType,\n\n    position,\n    setPosition,\n\n    mediaStream,\n    setMediaStream,\n\n    active,\n    setActive,\n    selectedDevice,\n    setSelectedDevice,\n    deviceList,\n    setDeviceList,\n  }), [\n    uuid,\n    name,\n\n    type, setType,\n\n    position, setPosition,\n    mediaStream, setMediaStream,\n\n    active, setActive,\n    selectedDevice, setSelectedDevice,\n    deviceList, setDeviceList,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => deviceRef, [deviceRef]);\n\n  // On load, register object with app context\n\n  useEffect(() => {\n    registerDevice(uuid, deviceRef);\n    return () => unregisterDevice(uuid, deviceRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    position,\n    setPosition,\n\n    mediaStream,\n    setMediaStream,\n\n    active,\n    setActive,\n    selectedDevice,\n    setSelectedDevice,\n    deviceList,\n    setDeviceList,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    position, setPosition,\n    mediaStream, setMediaStream,\n\n    active, setActive,\n    selectedDevice, setSelectedDevice,\n    deviceList, setDeviceList,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <DeviceContext.Provider value={contextValue}>\n      {children}\n    </DeviceContext.Provider>\n  );\n};\n\nDeviceManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nDeviceManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  position: PropTypes.arrayOf(PropTypes.number).isRequired,\n  active: PropTypes.bool.isRequired,\n  deviceList: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n  selectedDevice: PropTypes.shape({\n    deviceId: PropTypes.string,\n  }).isRequired,\n};\n\nexport default DeviceManager;\n","import { useContext } from 'react';\nimport { DeviceContext } from '../Managers/DeviceManager';\n\nexport default function useDeviceContext() {\n  return useContext(DeviceContext);\n}\n","import { useCallback, useEffect } from 'react';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst MouseDevice = () => {\n  const { setPosition } = useDeviceContext();\n\n  const updateMousePosition = useCallback((ev) => {\n    setPosition([ev.clientX, ev.clientY, 0]);\n  }, [setPosition]);\n\n  useEffect(() => {\n    // eslint-disable-next-line no-undef\n    window.addEventListener('mousemove', updateMousePosition);\n\n    // eslint-disable-next-line no-undef\n    return () => window.removeEventListener('mousemove', updateMousePosition);\n  }, [updateMousePosition]);\n\n  return null;\n};\n\nMouseDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default MouseDevice;\n","import { useCallback, useEffect } from 'react';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst KeyboardDevice = () => {\n  const { setPosition } = useDeviceContext();\n\n  const updateKeyboardPosition = useCallback((ev) => {\n    setPosition([ev.clientX, ev.clientY, 0]);\n  }, [setPosition]);\n\n  useEffect(() => {\n    // eslint-disable-next-line no-undef\n    window.addEventListener('mousemove', updateKeyboardPosition);\n\n    // eslint-disable-next-line no-undef\n    return () => window.removeEventListener('mousemove', updateKeyboardPosition);\n  }, [updateKeyboardPosition]);\n\n  return null;\n};\n\nKeyboardDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default KeyboardDevice;\n","import {\n  useEffect, useRef, useState, useCallback,\n} from 'react';\nimport useAppContext from '../../../App/Contexts/useAppContext';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst CameraDevice = ({ uuid }) => {\n  const { subscribe, unsubscribe } = useAppContext();\n  const {\n    selectedDevice,\n    mediaStream, setMediaStream,\n    deviceList, setDeviceList,\n  } = useDeviceContext();\n\n  const isMounted = useRef(false);\n\n  const [selected, setSelected] = useState(selectedDevice);\n\n  const updateSelected = useCallback((val) => {\n    if (isMounted.current) {\n      setSelected(val);\n    }\n  }, [isMounted, setSelected]);\n\n  useEffect(() => {\n    isMounted.current = true;\n\n    setSelected(selectedDevice);\n    subscribe(`${uuid}-selected-device-updated`, updateSelected);\n\n    return () => {\n      isMounted.current = false;\n      unsubscribe(`${uuid}-selected-device-updated`, updateSelected);\n    };\n  }, [selectedDevice, subscribe, unsubscribe, updateSelected, uuid]);\n\n  // eslint-disable-next-line no-undef\n  const initCamera = async (config) => navigator.mediaDevices.getUserMedia(config);\n\n  // eslint-disable-next-line no-undef\n  const getCameras = async () => navigator\n    .mediaDevices.enumerateDevices();\n\n  useEffect(() => {\n    getCameras()\n      .then((devices) => {\n        setDeviceList(devices.filter((device) => device.kind === 'videoinput'));\n        if (selected.deviceId === undefined) {\n          setSelected(devices.filter((device) => device.kind === 'videoinput')[0]);\n        }\n      })\n      .catch((e) => {\n        // eslint-disable-next-line no-console\n        console.log(e);\n      });\n  }, [setDeviceList, selected]);\n\n  useEffect(() => {\n    if (deviceList.filter((device) => device.kind === 'videoinput').length > 0) {\n      initCamera({\n        audio: false,\n        video: {\n          deviceId: {\n            exact: (selected === undefined)\n              ? deviceList.filter((device) => device.kind === 'videoinput')[0].deviceId\n              : selected.deviceId,\n          },\n        },\n      })\n        .then((s) => {\n          setMediaStream(s);\n        })\n        .catch((e) => {\n          // eslint-disable-next-line no-console\n          console.log(e);\n        });\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setMediaStream, selected]);\n\n  // stop camera if component is unmounted\n  useEffect(() => {\n    const stream = mediaStream;\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => track.stop());\n      }\n    };\n  }, [mediaStream]);\n\n  return null;\n};\n\nCameraDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default CameraDevice;\n","import { useCallback, useEffect } from 'react';\n\nimport useDeviceContext from '../../Contexts/useDeviceContext';\n\nconst AccelDevice = () => {\n  const { setPosition } = useDeviceContext();\n\n  const updateAccelPosition = useCallback((ev) => {\n    setPosition([ev.clientX, ev.clientY, 0]);\n  }, [setPosition]);\n\n  useEffect(() => {\n    // eslint-disable-next-line no-undef\n    window.addEventListener('mousemove', updateAccelPosition);\n\n    // eslint-disable-next-line no-undef\n    return () => window.removeEventListener('mousemove', updateAccelPosition);\n  }, [updateAccelPosition]);\n\n  return null;\n};\n\nAccelDevice.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default AccelDevice;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport DeviceManager, { DefaultProps } from '../Managers/DeviceManager';\n\nimport MouseDevice from './Mouse/index';\nimport KeyboardDevice from './Keyboard/index';\nimport CameraDevice from './Camera';\nimport AccelDevice from './Accel';\n\n// eslint-disable-next-line react/prop-types\nconst DevicesView = ({ connection, type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'mouse':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <MouseDevice {...props} />\n        </DeviceManager>\n      );\n    case 'keyboard':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <KeyboardDevice {...props} />\n        </DeviceManager>\n      );\n    case 'accel':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <AccelDevice {...props} />\n        </DeviceManager>\n      );\n    case 'camera':\n      return (\n        <DeviceManager {...DefaultProps} type={type} {...props}>\n          <CameraDevice {...props} />\n        </DeviceManager>\n      );\n  }\n};\n\nDevicesView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nDevicesView.propTypes = {\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(DevicesView);\n","import React, { memo } from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport DevicesView from './view';\n\nconst Devices = ({ devices }) => {\n  const { sceneJSON } = useAppContext();\n  return devices.map((dev) => (<DevicesView key={`rt_${dev.type}_device_${dev.uuid}`} connection={sceneJSON.connections.filter((c) => (c.from === dev.uuid))[0]} {...dev} />));\n};\n\nDevices.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Devices);\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n  createContext,\n} from 'react';\nimport useForceUpdate from '../../Utils/useForceUpdate';\n\nimport useAppContext from '../../App/Contexts/useAppContext';\nimport useTransformsContext from '../Contexts/useTransformsContext';\n\nexport const TransformContext = createContext(null);\n\nexport const DefaultProps = {\n  uuid: 'xxx',\n  name: 'unnamed',\n  type: 'calculator',\n  displayName: 'unnamed',\n  amount: 1,\n  value: '',\n  operator: '',\n};\n\nconst TransformManager = ({\n  children,\n  ...props\n}) => {\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n  const { connections } = sceneJSON;\n\n  const identifier = useRef(Symbol('Transform'));\n  const node = useRef(null);\n\n  const [uuid] = useState(props.uuid);\n  const [name] = useState(props.name);\n  const [displayName] = useState(props.displayName);\n  const [type, setType] = useState(props.type || 'calculator');\n\n  const [amount, setAmount] = useState(props.amount || 1);\n  const [value, setValue] = useState(props.value || [0, 0, 0]);\n  const [operator, setOperator] = useState(props.operator || 'Add');\n\n  // Inputs\n  const updateFromInput = useCallback((prop, val) => {\n    switch (prop.toLowerCase()) {\n      default:\n        break;\n      case 'data':\n        setValue(val);\n        break;\n    }\n  }, [setValue]);\n\n  useEffect(() => {\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe, updateFromInput]);\n\n  useEffect(() => { publish(`${uuid}-value-updated`, value); }, [value, publish, uuid]);\n  useEffect(() => { publish(`${uuid}-amount-updated`, amount); }, [amount, publish, uuid]);\n  useEffect(() => { publish(`${uuid}-operator-updated`, operator); }, [operator, publish, uuid]);\n\n  const { registerTransform, unregisterTransform } = useTransformsContext();\n  const forceUpdate = useForceUpdate();\n\n  // Reference to object properties\n  const peerRef = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n\n    name,\n    displayName,\n\n    type,\n    setType,\n\n    value,\n    setValue,\n\n    amount,\n    setAmount,\n\n    operator,\n    setOperator,\n  }), [\n    uuid,\n    name, displayName,\n\n    type, setType,\n\n    value, setValue,\n    amount, setAmount,\n    operator, setOperator,\n  ]);\n\n  // Callback to fetch properties of object\n  const getRef = useCallback(() => peerRef, [peerRef]);\n\n  // On load, register object with app context\n  useEffect(() => {\n    // const id = identifier.current;\n    registerTransform(uuid, peerRef);\n    return () => unregisterTransform(uuid, peerRef);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Final context for provider\n  const contextValue = useMemo(() => ({\n    uuid,\n    id: identifier.current,\n    name,\n    nodeRef: node,\n    getRef,\n\n    type,\n    setType,\n\n    value,\n    setValue,\n\n    amount,\n    setAmount,\n\n    operator,\n    setOperator,\n\n    forceUpdate,\n  }),\n  [\n    uuid,\n    identifier,\n    name,\n    node,\n    getRef,\n\n    type, setType,\n    value, setValue,\n    amount, setAmount,\n    operator, setOperator,\n\n    forceUpdate,\n  ]);\n\n  return (\n    <TransformContext.Provider value={contextValue}>\n      {children}\n    </TransformContext.Provider>\n  );\n};\n\nTransformManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformManager.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nTransformManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  uuid: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired,\n  amount: PropTypes.number.isRequired,\n  value: PropTypes.string.isRequired,\n  operator: PropTypes.string.isRequired,\n};\n\nexport default TransformManager;\n","import { useContext } from 'react';\nimport { TransformContext } from '../Managers/TransformManager';\n\nexport default function useTransformContext() {\n  return useContext(TransformContext);\n}\n","import { useCallback, useEffect } from 'react';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useTransformContext from '../../Contexts/useTransformContext';\n\nconst CalculatorTransform = () => {\n  const {\n    uuid, setValue: setTransValue, amount, operator,\n  } = useTransformContext();\n  const { sceneJSON, subscribe, unsubscribe } = useAppContext();\n\n  const { connections } = sceneJSON;\n\n  const calculate = useCallback((v) => {\n    switch (operator.toLowerCase()) {\n      default:\n      case 'add':\n        return (v + amount);\n      case 'subtract':\n        return (v - amount);\n      case 'multiply':\n        return (v * amount);\n      case 'divide':\n        return (v / amount);\n    }\n  }, [amount, operator]);\n\n  // Inputs\n  useEffect(() => {\n    const updateFromInput = (prop, val) => {\n      switch (prop.toLowerCase()) {\n        default:\n          break;\n        case 'value':\n          setTransValue(val.map(calculate));\n          break;\n      }\n    };\n\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe, amount, setTransValue, calculate]);\n\n  return null;\n};\n\nCalculatorTransform.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default CalculatorTransform;\n","import {\n  useEffect, useState,\n} from 'react';\n\nimport '@tensorflow/tfjs-backend-webgl';\nimport * as tfjsWasm from '@tensorflow/tfjs-backend-wasm';\nimport * as posedetection from '@tensorflow-models/pose-detection';\n\nimport { useFrame } from '@react-three/fiber';\n\nimport useAppContext from '../../../App/Contexts/useAppContext';\nimport useTransformContext from '../../Contexts/useTransformContext';\n\ntfjsWasm.setWasmPaths(\n  `https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@${\n    tfjsWasm.version_wasm}/dist/`,\n);\n\nconst createDetector = async (model, config) => posedetection.createDetector(\n  model,\n  config,\n);\n\nconst TensorflowTransform = () => {\n  const {\n    uuid,\n  } = useTransformContext();\n  const {\n    sceneJSON, subscribe, unsubscribe, publish,\n  } = useAppContext();\n\n  const { connections } = sceneJSON;\n\n  const [detector, setDetector] = useState(null);\n  const [mediaStream, setMediaStream] = useState(null);\n\n  const [frame, setFrame] = useState(null);\n  const [poses, setPoses] = useState([]);\n\n  useEffect(() => { publish(`${uuid}-poses-updated`, poses); }, [uuid, poses, publish]);\n\n  useEffect(() => {\n    createDetector(\n      posedetection.SupportedModels.PoseNet,\n      {\n        quantBytes: 4,\n        architecture: 'MobileNetV1',\n        outputStride: 16,\n        inputResolution: { width: 500, height: 500 },\n        multiplier: 0.75,\n      },\n    ).then((d) => setDetector(d));\n  }, [setDetector]);\n\n  useEffect(() => {\n    if (detector !== null && frame !== null) {\n      // eslint-disable-next-line no-undef\n      detector.estimatePoses(\n        // eslint-disable-next-line no-undef\n        frame,\n        {\n          maxPoses: 1,\n          flipHorizontal: false,\n        },\n      ).then((p) => setPoses(p));\n    }\n  }, [detector, frame]);\n\n  useFrame(() => {\n    if (detector !== null && mediaStream !== undefined) {\n      // eslint-disable-next-line no-undef\n      new ImageCapture(mediaStream.getVideoTracks()[0]).grabFrame().then((img) => setFrame(img));\n    }\n  });\n\n  // Inputs\n  useEffect(() => {\n    const updateFromInput = (prop, val) => {\n      switch (prop.toLowerCase()) {\n        default:\n          break;\n        case 'mediastream':\n          setMediaStream(val);\n          break;\n      }\n    };\n\n    connections.filter((c) => (c.to === uuid)).forEach((c) => {\n      subscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n    });\n\n    return () => {\n      connections.filter((c) => (c.to === uuid)).forEach((c) => {\n        unsubscribe(`${c.from}-${c.fromProp.toLowerCase()}-updated`, (val) => { updateFromInput(c.toProp.toLowerCase(), val); });\n      });\n    };\n  }, [connections, uuid, subscribe, unsubscribe, setMediaStream]);\n\n  return null;\n};\n\nTensorflowTransform.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default TensorflowTransform;\n","import PropTypes from 'prop-types';\n\nimport React, { memo } from 'react';\n\nimport TransformManager, { DefaultProps } from '../Managers/TransformManager';\n\nimport CalculatorTransform from './Calculator/index';\nimport TensorflowTransform from './Tensorflow/index';\n\nconst TransformsView = ({ uuid, type, ...props }) => {\n  switch (type.toLowerCase()) {\n    default:\n    case 'tensorflow':\n      return (\n        <TransformManager {...DefaultProps} uuid={uuid} type={type} {...props}>\n          <TensorflowTransform uuid={uuid} type={type} {...props} />\n        </TransformManager>\n      );\n    case 'calculator':\n      return (\n        <TransformManager {...DefaultProps} uuid={uuid} type={type} {...props}>\n          <CalculatorTransform uuid={uuid} type={type} {...props} />\n        </TransformManager>\n      );\n  }\n};\n\nTransformsView.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nTransformsView.propTypes = {\n  uuid: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n};\n\nexport default memo(TransformsView);\n","import React, { memo } from 'react';\n\nimport TransformsView from './view';\n\nconst Transforms = ({ transforms }) => transforms.map((transform) => (<TransformsView key={`rt_${transform.type}_transform_${transform.uuid}`} {...transform} />));\n\nTransforms.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(Transforms);\n","import PropTypes from 'prop-types';\n\nimport React, { createElement, memo } from 'react';\n\nimport { Canvas } from '@react-three/fiber';\nimport { makeStyles } from '@material-ui/core';\nimport { OrbitControls } from '@react-three/drei';\n\nimport { ThreeParamsToArgs } from '../Utils/threeParams';\n\nimport useAppContext from '../App/Contexts/useAppContext';\n\nimport WorldManager from './Managers/WorldManager';\n\nimport Generators from '../Generators/Providers/index';\nimport Peers from '../Peers/Providers/index';\nimport Devices from '../Devices/Providers/index';\nimport Transforms from '../Transforms/Providers/index';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    position: 'relative',\n    userSelect: 'none',\n    width: '100%',\n    height: '100%',\n  },\n}));\n\nconst World = ({\n  children,\n}) => {\n  const { sceneJSON } = useAppContext();\n  const {\n    object, camera, generators, peers, devices, transforms,\n  } = sceneJSON;\n\n  const classes = useStyles();\n\n  if (object === undefined) {\n    return (\n      <div className={classes.root}>\n        <Generators {...{ generators }} />\n        <Peers {...{ peers }} />\n        <Devices {...{ devices }} />\n        <Transforms {...{ transforms }} />\n      </div>\n    );\n  }\n\n  switch (object.type.toLowerCase()) {\n    default:\n      return (\n        <div className={classes.root} />\n      );\n    case 'scene':\n      return (\n        <div className={classes.root}>\n          <Canvas\n            shadows\n            camera={camera}\n            // eslint-disable-next-line no-undef\n            dpr={window.devicePixelRatio}\n          >\n            <WorldManager>\n              <Generators {...{ generators }} />\n              <Peers {...{ peers }} />\n              <Devices {...{ devices }} />\n              <Transforms {...{ transforms }} />\n              {/* FOG */}\n              {object.fog !== undefined ? createElement(object.fog.type, { type: object.fog.type, attach: 'fog', args: ThreeParamsToArgs(object.fog) }, []) : null}\n              {children}\n              <OrbitControls enablePan enableZoom enableRotate />\n            </WorldManager>\n          </Canvas>\n        </div>\n      );\n  }\n};\n\nWorld.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nWorld.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default memo(World);\n","export default function waitForMs(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useMemo, useRef, useState, createContext,\n} from 'react';\nimport useAppContext from '../../App/Contexts/useAppContext';\n\nimport waitForMs from '../../Utils/waitForMs';\n\nexport const SceneManagerContext = createContext(null);\n\nexport const sceneContextValue = {};\n\nconst SceneManager = ({ defaultScene, children }) => {\n  const { publish } = useAppContext();\n  // support scene string format: 'sceneId:level'\n  const [initialScene, initialLevel = 0] = defaultScene.split(':');\n  const [currentScene, setScene] = useState(initialScene);\n  const prevLevel = useRef(-1);\n  const currentLevel = useRef(Number(initialLevel));\n  const sceneStore = useRef(new Map());\n  const api = useMemo(\n    () => ({\n      currentScene,\n      prevLevel: prevLevel.current,\n      currentLevel: currentLevel.current,\n      async setScene(nextScene) {\n        // eslint-disable-next-line prefer-const\n        let [targetScene, targetLevel = 0] = nextScene.split(':');\n        targetLevel = Number(targetLevel);\n\n        if (currentScene !== targetScene) {\n          // switch scene\n          if (currentScene !== '') {\n            await publish('scene-pre-exit', currentScene);\n            await publish('scene-exit', currentScene);\n            // always go to empty scene first and then to the target scene\n            // (this should help clearing cached react components)\n            setScene('');\n            await waitForMs(100);\n          }\n          prevLevel.current = -1;\n          currentLevel.current = targetLevel;\n          setScene(targetScene);\n        } else if (currentLevel.current !== targetLevel) {\n          // switch level\n          api.setLevel(targetLevel);\n        }\n      },\n      async setLevel(level) {\n        if (level !== currentLevel.current) {\n          prevLevel.current = currentLevel.current;\n          currentLevel.current = level;\n          await api.resetScene();\n        }\n      },\n      async resetScene() {\n        const prevScene = currentScene;\n        const formerCurrentLevel = currentLevel.current;\n        const formerPrevLevel = prevLevel.current;\n        // switch to empty scene\n        await api.setScene('');\n        await waitForMs(100);\n        // restore prev scene + level\n        prevLevel.current = formerPrevLevel;\n        currentLevel.current = formerCurrentLevel;\n        setScene(prevScene);\n      },\n      setSceneState(key, value) {\n        sceneStore.current.set(`${currentScene}.${key}`, value);\n      },\n      getSceneState(key) {\n        return sceneStore.current.get(`${currentScene}.${key}`);\n      },\n    }),\n    [currentScene, currentLevel, publish],\n  );\n\n  return (\n    <SceneManagerContext.Provider value={api}>\n      {children}\n    </SceneManagerContext.Provider>\n  );\n};\n\nSceneManager.propTypes = {\n  children: PropTypes.node.isRequired,\n  defaultScene: PropTypes.string.isRequired,\n};\n\nSceneManager.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default SceneManager;\n","import PropTypes from 'prop-types';\n\nimport React, {\n  useCallback,\n  useContext,\n  useEffect,\n  useMemo,\n  useState,\n  createContext,\n} from 'react';\nimport { createPortal } from '@react-three/fiber';\nimport useSceneManager from './Contexts/useSceneManagerContext';\n\nconst SceneContext = createContext(null);\n\nexport function useScene() {\n  return useContext(SceneContext);\n}\n\nexport const LevelContext = createContext(null);\n\nexport function useLevel() {\n  return useContext(LevelContext);\n}\n\nconst Scene = ({ id, sceneJSON, children }) => {\n  const {\n    currentScene,\n    currentLevel,\n    prevLevel,\n    resetScene,\n    setLevel,\n  } = useSceneManager();\n  const { object } = sceneJSON;\n  const [instances, setInstances] = useState([]);\n  // const idleCallback = useRef();\n\n  const initEvents = useCallback(async () => {\n\n    // await publish('scene-init', id);\n    // // ensure everything is ready on next idle callback\n    // idleCallback.current = window.requestIdleCallback(\n    //     () => {\n    //         // console.log('scene-ready', id);\n    //         publish('scene-ready', id);\n    //     },\n    //     { timeout: sceneReadyTimeout }\n    // );\n  }, [/* publish, id */]);\n\n  const contextValue = useMemo(\n    () => ({\n      instantiate(newElement, portalNode) {\n        const key = newElement.key == null ? Math.random() : newElement.key;\n        const instance = portalNode\n          ? createPortal(newElement, portalNode, null, key)\n          : React.cloneElement(newElement, { key });\n        setInstances((current) => [...current, instance]);\n        return () => {\n          setInstances((current) => current.filter((elem) => elem !== instance));\n        };\n      },\n      // pass through from scene manager\n      currentScene,\n      currentLevel,\n      prevLevel,\n      resetScene,\n      setLevel,\n      ...object,\n    }),\n    [currentScene, currentLevel, prevLevel, resetScene, setLevel, object],\n  );\n\n  const levelContextValue = useMemo(\n    () => ({\n      level: currentLevel,\n      transition: prevLevel < currentLevel ? -1 : 1,\n      enterPrevLevel() {\n        setLevel(currentLevel - 1);\n      },\n      enterNextLevel() {\n        setLevel(currentLevel + 1);\n      },\n    }),\n    [currentLevel, prevLevel, setLevel],\n  );\n\n  useEffect(() => {\n    // const cur = idleCallback.current;\n    if (currentScene === id) {\n      // entering scene\n      initEvents();\n    } else {\n      // leaving scene\n      setInstances([]);\n    }\n    // return () => window.cancelIdleCallback(cur);\n  }, [currentScene, id, initEvents]);\n\n  // skip rendering scene content\n  if (!currentScene.startsWith(id)) return null;\n\n  return (\n    <SceneContext.Provider value={contextValue}>\n      <LevelContext.Provider value={levelContextValue}>\n        <group>\n          {/* just to ensure node.parent in a GO still remains within the scene */}\n          <group>\n            <>{children}</>\n            <>{instances}</>\n          </group>\n        </group>\n      </LevelContext.Provider>\n    </SceneContext.Provider>\n  );\n};\n\nScene.propTypes = {\n  id: PropTypes.string.isRequired,\n  sceneJSON: PropTypes.shape({\n    object: PropTypes.shape({}),\n  }).isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nScene.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default Scene;\n","import { useContext } from 'react';\n\nimport { SceneManagerContext } from '../Managers/SceneManager';\n\nexport default function useSceneManager() {\n  return useContext(SceneManagerContext);\n}\n","import React, {\n  useCallback, useEffect, useRef,\n  Suspense,\n  useState,\n} from 'react';\nimport { useFrame } from '@react-three/fiber';\n\nimport AppView from './view';\nimport World from '../World';\n\nimport Scene from '../Scenes';\nimport SceneManager from '../Scenes/Managers/SceneManager';\n\nimport useAppContext from './Contexts/useAppContext';\nimport useEditorMenuContext from '../Editor/Contexts/useEditorMenuContext';\nimport useInspectorMenuContext from '../Inspector/Contexts/useInspectorMenuContext';\n\nconst DynamicScene = React.lazy(() => import('../Scenes/Renderer/Dynamic'));\n\nconst LoadingBox = (props) => {\n  // This reference will give us direct access to the mesh\n  const mesh = useRef();\n\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false);\n  const [active, setActive] = useState(false);\n\n  // Rotate mesh every frame, this is outside of React without overhead\n  useFrame(() => { mesh.current.rotation.x += 0.01; });\n\n  return (\n    <mesh\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      {...props}\n      ref={mesh}\n      scale={active ? 1.5 : 1}\n      onClick={() => setActive(!active)}\n      onPointerOver={() => setHover(true)}\n      onPointerOut={() => setHover(false)}\n    >\n      <boxGeometry args={[1, 2, 3]} />\n      <meshStandardMaterial color={hovered ? 'hotpink' : 'orange'} />\n    </mesh>\n  );\n};\n\nconst App = () => {\n  const {\n    subscribe, unsubscribe, sceneJSON, setSceneJSON,\n  } = useAppContext();\n  const { editorMenuHeight, editorMenuOpen, setEditorMenuOpen } = useEditorMenuContext();\n  const { inspectorMenuWidth, inspectorMenuOpen, setInspectorMenuOpen } = useInspectorMenuContext();\n\n  const isMounted = useRef(false);\n\n  const updateScene = useCallback((data) => { // update data only when peer list is modified\n    if (isMounted.current) {\n      setSceneJSON(data);\n    }\n  }, [setSceneJSON]);\n\n  useEffect(() => {\n    if (sceneJSON !== undefined) {\n      isMounted.current = true;\n      subscribe('scene-changed', updateScene);\n    }\n    return () => {\n      isMounted.current = false;\n      unsubscribe('scene-changed', updateScene);\n    };\n  }, [isMounted, updateScene, subscribe, unsubscribe, sceneJSON]);\n\n  return (\n    <AppView {...{\n      editorMenuOpen,\n      editorMenuHeight,\n      setEditorMenuOpen,\n      inspectorMenuOpen,\n      inspectorMenuWidth,\n      setInspectorMenuOpen,\n    }}\n    >\n      <World {...{ sceneJSON }}>\n        <SceneManager {...{ defaultScene: 'dynamic:0' }}>\n          <Scene {...{ id: 'dynamic', sceneJSON }}>\n            <Suspense fallback={(<LoadingBox position={[1.2, 0, 0]} />)}>\n              <DynamicScene {...{ sceneJSON }} />\n            </Suspense>\n          </Scene>\n        </SceneManager>\n      </World>\n    </AppView>\n  );\n};\n\nApp.whyDidYouRender = (process.env.NODE_ENV === 'development');\n\nexport default App;\n","import { unstable_createMuiStrictModeTheme as createMuiTheme } from '@material-ui/core';\nimport grey from '@material-ui/core/colors/grey';\nimport { Palette } from '@material-ui/core/styles/createPalette';\n\nexport default createMuiTheme({\n  palette: {\n    type: 'dark',\n    background: {\n      default: grey[900],\n      paper: grey[900],\n    },\n    ...Palette,\n    primary: {\n      main: grey[700],\n    },\n    secondary: {\n      main: grey[500],\n    },\n  },\n});\n","import './wdyr';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'typeface-roboto-material';\n\nimport { ThemeProvider } from '@material-ui/styles';\nimport { CssBaseline } from '@material-ui/core';\n\nimport App from './@RecklessCore/App';\n\nimport AppManager from './@RecklessCore/App/Managers/AppManager';\nimport ThreeObjectsManager from './@RecklessCore/ThreeObjects/Managers/ThreeObjectsManager';\nimport PeersManager from './@RecklessCore/Peers/Managers/PeersManager';\nimport ConnectionsManager from './@RecklessCore/Connections/Managers/ConnectionsManager';\n\nimport DevicesManager from './@RecklessCore/Devices/Managers/DevicesManager';\nimport GeneratorsManager from './@RecklessCore/Generators/Managers/GeneratorsManager';\nimport TransformsManager from './@RecklessCore/Transforms/Managers/TransformsManager';\nimport WidgetsManager from './@RecklessCore/Widgets/Managers/WidgetsManager';\n\nimport InspectorMenuManager from './@RecklessCore/Inspector/Managers/InspectorMenuManager';\nimport EditorMenuManager from './@RecklessCore/Editor/Managers/EditorMenuManager';\n\n// import reportWebVitals from './reportWebVitals';\n\nimport theme from './theme';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppManager>\n        <ThreeObjectsManager>\n          <PeersManager>\n            <ConnectionsManager>\n              <DevicesManager>\n                <GeneratorsManager>\n                  <TransformsManager>\n                    <WidgetsManager>\n                      <EditorMenuManager>\n                        <InspectorMenuManager>\n                          <App />\n                        </InspectorMenuManager>\n                      </EditorMenuManager>\n                    </WidgetsManager>\n                  </TransformsManager>\n                </GeneratorsManager>\n              </DevicesManager>\n            </ConnectionsManager>\n          </PeersManager>\n        </ThreeObjectsManager>\n      </AppManager>\n    </ThemeProvider>\n  </React.StrictMode>,\n  // eslint-disable-next-line no-undef\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.log);\n"],"sourceRoot":""}