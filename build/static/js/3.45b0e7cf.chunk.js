(this["webpackJsonp@recklesstechnology/create-reckless-tech-app"]=this["webpackJsonp@recklesstechnology/create-reckless-tech-app"]||[]).push([[3],{837:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(18),i=c(44),u=c(33),o=c(12),a=c(83),s=c(29),b=c(838),d=c(2),j=function(e){var t=e.url,c=Object(b.a)(t).scene;return Object(d.jsx)("group",{dispose:null,children:Object(d.jsx)(r.Suspense,{fallback:null,children:Object(d.jsx)("primitive",Object(o.a)({object:c},e))})})},l=Object(r.memo)(j),O=c(5),f=c(109),m=c(330),p=c(26),h=function(e){var t=e.name,c=e.node,r=e.position,n=e.rotation,i=e.scale,u=e.children;return Object(d.jsx)("group",{name:t,ref:c,position:r,rotation:n,scale:i,children:u})},y=Object(r.memo)(h),v=["name","type","children"],g=Object(r.createContext)(null),x=Object(r.createContext)(null),k=Object(r.createContext)(null),w=Object(r.createContext)(null),E={uuid:"xxx",name:"unnamed",type:"three-object",disabled:!1,debug:!1,position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]},R=function(e){var t=e.name,c=e.type,n=e.children,u=Object(i.a)(e,v),o=Object(r.useRef)(!1),a=Object(p.a)(),s=a.sceneJSON,b=a.subscribe,j=a.unsubscribe,l=a.publish,h=s.connections,E=Object(r.useRef)(Symbol("ThreeObject")),R=Object(r.useRef)(null),S=Object(r.useState)(u.uuid),P=Object(O.a)(S,1)[0],C=Object(r.useState)(u.disabled||!1),M=Object(O.a)(C,2),D=M[0],L=M[1],T=Object(r.useState)(u.debug||!1),J=Object(O.a)(T,2),Y=J[0],N=J[1],U=Object(r.useState)(u.position||[0,0,0]),_=Object(O.a)(U,2),A=_[0],F=_[1],G=Object(r.useState)(u.rotation||[0,0,0]),H=Object(O.a)(G,2),q=H[0],z=H[1],B=Object(r.useState)(u.scale||[1,1,1]),I=Object(O.a)(B,2),K=I[0],Q=I[1],V=function(e,t){switch(e.toLowerCase()){default:break;case"position":F(t);break;case"rotation":z(t);break;case"scale":Q(t)}};Object(r.useEffect)((function(){return h.filter((function(e){return e.to===P})).forEach((function(e){b("".concat(e.from,"-").concat(e.fromProp.toLowerCase(),"-updated"),(function(t){V(e.toProp.toLowerCase(),t)}))})),function(){h.filter((function(e){return e.to===P})).forEach((function(e){j("".concat(e.from,"-").concat(e.fromProp.toLowerCase(),"-updated"),(function(t){V(e.toProp.toLowerCase(),t)}))}))}}),[h,P,b,j]),Object(r.useEffect)((function(){o.current&&l("".concat(P,"-disabled-updated"),D)}),[D,l,P]),Object(r.useEffect)((function(){o.current&&l("".concat(P,"-debug-updated"),Y)}),[Y,l,P]),Object(r.useEffect)((function(){o.current&&l("".concat(P,"-position-updated"),A)}),[A,l,P]),Object(r.useEffect)((function(){o.current&&l("".concat(P,"-rotation-updated"),q)}),[q,l,P]),Object(r.useEffect)((function(){o.current&&l("".concat(P,"-scale-updated"),K)}),[K,l,P]);var W=Object(m.a)(),X=W.registerThreeObject,Z=W.unregisterThreeObject,$=Object(f.a)(),ee=Object(r.useMemo)((function(){return{uuid:P,id:E.current,name:t,type:c,disabled:D,setDisabled:L,debug:Y,setDebug:N,position:A,setPosition:F,rotation:q,setRotation:z,scale:K,setScale:Q}}),[P,t,c,D,L,Y,N,A,F,q,z,K,Q]),te=Object(r.useCallback)((function(){return ee}),[ee]);Object(r.useEffect)((function(){return o.current=!0,X(P,ee),function(){o.current=!1,Z(P,ee)}}),[]);var ce=Object(r.useMemo)((function(){return{uuid:P,id:E.current,name:t,nodeRef:R,getRef:te,disabled:D,setDisabled:L,debug:Y,setDebug:N,setPosition:F,setRotation:z,setScale:Q,forceUpdate:$}}),[P,E,t,R,te,D,L,Y,N,F,z,Q,$]),re=Object(r.useMemo)((function(){return{position:A}}),[A]),ne=Object(r.useMemo)((function(){return{rotation:q}}),[q]),ie=Object(r.useMemo)((function(){return{scale:K}}),[K]);return Object(d.jsx)(g.Provider,{value:ce,children:Object(d.jsx)(x.Provider,{value:re,children:Object(d.jsx)(k.Provider,{value:ne,children:Object(d.jsx)(w.Provider,{value:ie,children:Object(d.jsx)(y,{name:t,node:R,position:A,rotation:q,scale:K,children:D?[]:n})})})})})};R.whyDidYouRender=!1;var S=R,P=["layers","geometry","material","children","shadow"],C=["uuid","type","geometry","material","children","matrix"],M=["uuid","type","geometry","material","children","matrix"],D=function e(t){var c=t.props,b=t.geometries,j=t.materials,O=t.devices,f=t.generators,m=t.connections,p=Object(r.useRef)(),h=Object(r.useMemo)((function(){var e=void 0===s[c.type]?{}:new s[c.type],t=Object.keys(c).filter((function(t){return void 0!==e[t]})),r=t.filter((function(e){return t.includes(e)})).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(u.a)({},t,c[t]))}),{}),n=(r.layers,r.geometry,r.material,r.children,r.shadow,Object(i.a)(r,P)),a=e.parameters,b=void 0===a?[]:Object.keys(a).map((function(e){return c[e]}));return Object(o.a)(Object(o.a)({userData:{isPatchHidden:!1}},n),{},{key:c.uuid,args:b,childRef:p,matrixAutoUpdate:!1})}),[c]),y=Object(r.useMemo)((function(){return b.filter((function(e){return e.uuid===c.geometry}))[0]}),[c,b]),v=Object(r.useMemo)((function(){if(void 0===y)return{};var e=new s[y.type],t=Object.keys(y).filter((function(t){return void 0!==e[t]})),c=t.filter((function(e){return t.includes(e)})).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(u.a)({},t,y[t]))}),{}),r=(c.uuid,c.type,c.geometry,c.material,c.children,c.matrix,Object(i.a)(c,C)),n=e.parameters,a=void 0===n?[]:Object.keys(n).map((function(e){return y[e]}));return a.push(r),{key:y.uuid,args:a}}),[y]),g=Object(r.useMemo)((function(){return j.filter((function(e){return e.uuid===c.material}))[0]}),[c,j]),x=Object(r.useMemo)((function(){if(void 0===g)return{};var e=new s[g.type],t=Object.keys(g).filter((function(t){return void 0!==e[t]})),c=t.filter((function(e){return t.includes(e)})).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(u.a)({},t,g[t]))}),{}),r=(c.uuid,c.type,c.geometry,c.material,c.children,c.matrix,Object(i.a)(c,M)),n=e.parameters,a=void 0===n?[]:Object.keys(n).map((function(e){return g[e]}));return a.push(r),{key:g.uuid,args:a}}),[g]),k=void 0!==c.geometry&&void 0!==c.material?[Object(r.createElement)(y.type,v,[]),Object(r.createElement)(g.type,x,[])]:[];Object(a.c)((function(e){p.current&&p.current.material&&p.current.material.uniforms&&p.current.material.uniforms.time&&(p.current.material.uniforms.time.value=e.clock.elapsedTime)}));var w=[];switch(c.children&&c.children.length>0&&(w=c.children.map((function(t){return Object(d.jsx)(e,{key:t.uuid,props:t,geometries:b,materials:j,devices:O,generators:f,connections:m})}))),c.type){case"GLTF":return Object(d.jsx)(S,Object(o.a)(Object(o.a)(Object(o.a)({},E),{},{type:c.type},c),{},{children:Object(d.jsx)(l,Object(o.a)({},Object(o.a)({},c)))}),"rt_".concat(c.uuid));default:return Object(d.jsx)(S,Object(o.a)(Object(o.a)(Object(o.a)({},E),{},{type:c.type},c),{},{children:Object(r.createElement)(c.type,h,[].concat(k,Object(n.a)(w)))}),"rt_".concat(c.uuid))}};D.whyDidYouRender=!1;var L=D,T=function(e){var t=e.sceneJSON,c=t.object,r=t.geometries,n=t.materials,i=t.devices,u=t.generators,o=t.connections;return c.children.map((function(e){return Object(d.jsx)(L,{props:e,geometries:r,materials:n,devices:i,generators:u,connections:o},e.uuid)}))};T.whyDidYouRender=!1;t.default=Object(r.memo)(T)}}]);
//# sourceMappingURL=3.45b0e7cf.chunk.js.map